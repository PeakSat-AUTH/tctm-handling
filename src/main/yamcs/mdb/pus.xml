<?xml version="1.0" encoding="UTF-8"?>
<xtce:SpaceSystem name="pus"
    xmlns:xtce="http://www.omg.org/spec/XTCE/20180204"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.omg.org/spec/XTCE/20180204 https://www.omg.org/spec/XTCE/20180204/SpaceSystem.xsd" shortDescription="This is a bogus satellite telemetry and telecommand database." operationalStatus="unittest">

    <!--Contains parameters, containers and commands ST[20] parameter management service, ST[03] housekeeping service and  ST[04] parameter 
    statistics reporting service-->
    <xtce:TelemetryMetaData>
        <xtce:ParameterSet>
            <!--Parameters used in TM[3,10] Container-->
            <xtce:Parameter name="housekeeping_parameter_report_structure_ID_ST03" parameterTypeRef="/dt/structureId_t">
                <xtce:LongDescription>The housekeeping report structure ID</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter name="periodic_generation_action_status_ST03" parameterTypeRef="/dt/uint8_t" />

            <xtce:Parameter name="collection_interval_ST03" parameterTypeRef="/dt/uint32_t" />

            <xtce:Parameter name="number_of_simply_commutated_parameters" parameterTypeRef="/dt/uint16_t">
                <xtce:LongDescription>The number of simply commutated parameters contained in the housekeeping parameter report</xtce:LongDescription>
            </xtce:Parameter>

            <!--Parameters used in TM[20,2]-->
            <xtce:Parameter name="number_of_parameters" parameterTypeRef="/dt/uint16_t">
                <xtce:LongDescription>The number of parameters requested in a parameter value report</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter name="id" parameterTypeRef="/dt/uint16_t">
                <xtce:LongDescription>This parameter holds temporaly the ID of the reported parameters by TM[20,2]</xtce:LongDescription>
            </xtce:Parameter>

            <!--Parameter used in TM[128,128]-->
            <xtce:Parameter name="message_logs" parameterTypeRef="/dt/string1"></xtce:Parameter>

            <!--Parameters used in TM[4,2] Container-->
            <xtce:Parameter name="start_time_ST04" parameterTypeRef="/dt/uint32_t">
                <xtce:LongDescription>the start time of the time interval over which the time interval over which the
                evaluation of the parameter statistics was performed</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter name="end_time_ST04" parameterTypeRef="/dt/uint32_t">
                <xtce:LongDescription>the end time of the time interval over which the
                evaluation of the parameter statistics was performed </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter name="number_of_structures" parameterTypeRef="/dt/uint16_t">
                <xtce:LongDescription>The number of the statistics report structures received</xtce:LongDescription>
            </xtce:Parameter>

            <!--Parameters used in the Packet Primary Header (TM)-->
            <xtce:Parameter parameterTypeRef="/dt/packet_version_number" name="packet_version_number" initialValue="0">
                <xtce:LongDescription>The packet version number is set to 0 and identifies it as a space packet defined by
                    CCSDS 133. 0-B-1. A space packet is also referred to as a version 1 CCSDS packet.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/packet_type" name="packet_type">
                <xtce:LongDescription>The packet type bit distinguishes between telemetry packets, for which this bit is
                    set to 0, and telecommand packets, for which this bit is set to 1.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/secondary_header_flag" name="secondary_header_flag">
                <xtce:LongDescription>The secondary header flag indicates the presence or absence of the packet
                    secondary header. With the exception of spacecraft time packets (refer to clause
                    6.9.4), all telemetry packets defined in this Standard have a packet secondary
                    header field. With the exception of CPDU command packets (refer to clause
                    9.3.1), all telecommand packets defined in this Standard have a packet
                    secondary header field.</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/application_process_ID" name="application_process_ID">
                <xtce:LongDescription>The application process ID uniquely identifies the on-board application process
                    that is source of the telemetry packet and destination of the telecommand
                    packet. Some values of the application process ID field are reserved by the
                    CCSDS standard, making them unavailable for use by PUS services.</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/sequence_flags" name="sequence_flags">
                <xtce:LongDescription>The sequence flags are defined by CCSDS but not used by the space packet protocol.
                    This Standard uses the binary value "11" for the sequence flags, to indicate a stand-
                    alone packet. All telemetry packets and telecommand packets defined within
                    this Standard are stand alone packets.</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/packet_sequence_count_or_packet_name" name="packet_sequence_count_or_packet_name">
                <xtce:LongDescription>The packet sequence count is used for telemetry packets. It is incremented by 1
                    whenever the sourrce application process releases a packet. The packet sequence
                    count wraps around from 2 14 -1 to zero.The telecommand packets carry either a packet sequence count or a packet name to
                    identify them within the same communication session. For the purpose of this
                    Standard, the telecommand packet sequence count or packet name field carries an
                    identifier that used in combination with the source identifier specified in clause
                    7.4.4.1, uniquely identify the telecommand packet.</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/packet_data_length" name="packet_data_length">
                <xtce:LongDescription>The packet data length field specifies the length of the packet data field. The value
                    of the unsigned integer in the packet data length field is one less than the
                    number of octets contained within the packet data field. The length of the entire
                    packet, including the packet primary header, is 6 octets more than the length of
                    the packet data field.</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/data" name="PUS_version_number">
                <xtce:LongDescription>The TM packet PUS version number reflects the
                    different versions of this Standard.</xtce:LongDescription>
            </xtce:Parameter>

             <xtce:Parameter parameterTypeRef="/dt/data" name="spacecraft_time_reference_status">
                <xtce:LongDescription>Each application process that provides the capability to report the
                    spacecraft time reference status used when time tagging telemetry
                    packets shall set the spacecraft time reference status field of each
                    telemetry packet it generates to the status of the on-board time reference
                    used when time tagging that telemetry packet.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/service_type_ID" name="service_type_ID_TM">
                <xtce:LongDescription>The service type identifier of the service type that contains that
                    message type.</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/message_subtype_ID" name="message_subtype_ID_TM">
                <xtce:LongDescription>A message subtype identifier that uniquely identifies that message
                    type within that service type.</xtce:LongDescription>
            </xtce:Parameter>

             <xtce:Parameter parameterTypeRef="/dt/message_type_counter" name="message_type_counter">
                <xtce:LongDescription>For each report that it generates, each application process that provides the
                    capability to count the type of generated messages per destination and report the corresponding 
                    message type counter shall set the message type counter of the related telemetry packet to the value 
                    of the related counter.</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter name="destination_ID" parameterTypeRef="/dt/uint16_t" >
                <xtce:LongDescription>Each application process shall set the destination ID field of each
                    telemetry packet it generates to the application process user identifier of
                    the application process addressed by the related report</xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter name="time" parameterTypeRef="/dt/generation_time">
                <xtce:LongDescription>Each application process shall set the time field of each telemetry packet
                    it generates to the time tag of the related report.</xtce:LongDescription>
            </xtce:Parameter>

            <!-- transfer frame primary packet header TM -->
            <xtce:Parameter parameterTypeRef="/dt/transfer_frame_header" name="Transfer_Frame_Header">
                <xtce:LongDescription>A structure containing all parameters for the Transfer Frame Header
                </xtce:LongDescription>
            </xtce:Parameter>

            <!-- transfer frame secondary packet header TM -->

            <xtce:Parameter parameterTypeRef="/dt/transfer_frame_version_number" name="transfer_frame_secondary_header_version_number" initialValue="0">
                <xtce:LongDescription>This sub-field indicates which of up to four Secondary Header versions is used. The present Recommended Standard 
                recognizes only one version, which is Version 1.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/transfer_frame_secondary_header_length" name="transfer_frame_secondary_header_length">
                <xtce:LongDescription>TThis sub-field shall contain the total length of the Transfer Frame Secondary Header in octets minus one, represented 
                as a binary number. The Transfer Frame Secondary Header Length shall be static within the associated Master or Virtual Channel throughout a
                Mission Phase. When a Secondary Header is present, this length may be used to compute the location of the start of the field following the 
                Secondary Header. 
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/transfer_frame_secondary_header_data_field" name="transfer_frame_secondary_header_data_field">
                <xtce:LongDescription>The Transfer Frame Secondary Header Data Field shall contain the Transfer Frame Secondary Header data. The Transfer 
                Frame Secondary Header Data Field shall be of fixed length within the associated Master or Virtual Channel throughout a Mission Phase.
                </xtce:LongDescription>
            </xtce:Parameter>

             <!-- Operational Control Field TM -->

            <xtce:Parameter parameterTypeRef="/dt/flag" name="type_flag">
                <xtce:LongDescription>The Type Flag shall be ‘0’ if the Operational Control Field holds a Type-1-Report which shall contain a Communications
                Link Control Word or ‘1’ if the Operational Control Field holds a Type-2-Report.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/flag" name="report_type">
                <xtce:LongDescription>In a Type-2 Report this field shall indicate the use of this report. If this bit is ‘0’, the contents of the report are project-specific 
                and if this bit is ‘1’, the report contains an SDLS FSR. 
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/operational_control" name="operational_control">
                <xtce:LongDescription>This field contains the remaining 30 bits of the operational control field. 
                </xtce:LongDescription>
            </xtce:Parameter>

            <!-- CLCW -->

            <xtce:Parameter parameterTypeRef="/dt/control_word_type" name="control_word_type" initialValue="0">
                <xtce:LongDescription>This field is used to distinguish the CLCW from another type of report that may be alternatively contained in the field that 
                carries the CLCW.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/ClCW_version_number" name="ClCW_version_number" initialValue="0">
                <xtce:LongDescription>The CLCW Version Number is included to provide future growth flexibility. At present a single ‘Version-1’ CLCW, whose binary 
                encoded Version Number is ‘00’, is defined in this Recommended Standard.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/status_field" name="status_field">
                <xtce:LongDescription>Application of the Status Field is mission-specified.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/COP_in_effect" name="COP_in_effect" initialValue="01">
                <xtce:LongDescription>The COP in Effect parameter shall be used to indicate the COP that is being used.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/virtual_channel_ID_CLCW" name="virtual_channel_ID_CLCW">
                <xtce:LongDescription>Each Virtual Channel in use has its own CLCW reporting activated.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/reserved_spare" name="reserved_spare" initialValue="0">
                <xtce:LongDescription>These two bits are reserved by CCSDS for future application.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/flag" name="no_RF_available_flag">
                <xtce:LongDescription>The No RF Available Flag shall provide a logical indication of the ‘ready’ status of the radio frequency (RF) elements 
                within the space link provided by the Physical Layer.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/flag" name="no_bit_log_flag">
                <xtce:LongDescription>The No Bit Lock Flag is an optional, mission-specific engineering measurement that provides a performance quality 
                indicator that indicates specifically whether the Physical Layer is working normally by having enough signal energy to achieve bit 
                synchronization with the received data stream. If the No Bit Lock Flag is not used, it shall be set permanently to ‘0’. If used, ‘0’ shall 
                indicate bit lock has been achieved and ‘1’ shall indicate bit lock has not been achieved.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/flag" name="lockout_flag">
                <xtce:LongDescription>The Lockout Flag shall be used to indicate the Lockout status of the FARM of a particular Virtual Channel.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/flag" name="wait_flag">
                <xtce:LongDescription>The Wait Flag shall be used to indicate that the receiving end is unable to accept data for processing on a particular Virtual Channel.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/flag" name="retransmit_flag">
                <xtce:LongDescription>The Retransmit Flag is used to speed the operation of the COP by providing immediate indication to the FOP at the sending 
                end that retransmission is necessary.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/FARMB_counter" name="FARMB_counter">
                <xtce:LongDescription>This field contains the two least significant bits of a FARM-B Counter. This counter is maintained within the FARM and 
                increments once each time a Type-B Transfer Frame is accepted in Bypass mode on a particular Virtual Channel. The field supports the verification
                that Type-B Transfer Frames (Control or User Data) were accepted by the receiving end.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/reserved_spare_2" name="reserved_spare_2" initialValue="0">
                <xtce:LongDescription>This bit is reserved by CCSDS for future application.
                </xtce:LongDescription>
            </xtce:Parameter>

            <xtce:Parameter parameterTypeRef="/dt/report_value" name="report_value">
                <xtce:LongDescription>This field contains the value of the Next Expected Frame Sequence Number, N(R), which is equal to the value of FARM’s 
                Receiver_Frame_Sequence_Number, V(R). The FARM V(R) counter increments once each time a Type-AD Transfer Frame is accepted on a particular
                Virtual Channel.
                </xtce:LongDescription>
            </xtce:Parameter>
            <!--Frame Error Control Field-->

            <xtce:Parameter parameterTypeRef="/dt/frame_error_control" name="frame_error_control">
                <xtce:LongDescription>The purpose of this field is to provide a capability for detecting errors which may have been introduced into the Transfer 
                Frame during the transmission and data handling process.
                </xtce:LongDescription>
            </xtce:Parameter>


        </xtce:ParameterSet>

        <xtce:ContainerSet>
            <xtce:SequenceContainer name="primary_header_TM">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="Transfer_Frame_Header"></xtce:ParameterRefEntry>

                    <xtce:ParameterRefEntry parameterRef="packet_version_number"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="packet_type"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="secondary_header_flag"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="application_process_ID"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="sequence_flags"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="packet_sequence_count_or_packet_name"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="packet_data_length"></xtce:ParameterRefEntry>
                </xtce:EntryList>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="secondary_header_TM">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="PUS_version_number"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="spacecraft_time_reference_status"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="service_type_ID_TM"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="message_subtype_ID_TM"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="message_type_counter"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="destination_ID"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="time"></xtce:ParameterRefEntry>
                </xtce:EntryList>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="packet_header_TM">
                <xtce:EntryList>
                    <xtce:ContainerRefEntry containerRef="secondary_header_TM"></xtce:ContainerRefEntry>
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="primary_header_TM"></xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="TM[3,10]:housekeeping_parameter_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="transfer_frame_secondary_header_version_number"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="transfer_frame_secondary_header_length"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="transfer_frame_secondary_header_data_field"></xtce:ParameterRefEntry>
                </xtce:EntryList>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="operational_control_field">
                <xtce:LongDescription>The purpose of this field is to provide a standardized mechanism for reporting a small number of real-time functions,
                </xtce:LongDescription>
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="type_flag"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="report_type"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="operational_control"></xtce:ParameterRefEntry>
                </xtce:EntryList>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="communications_link_control_word">
                <xtce:LongDescription>The Communications Link Control Word (CLCW), which is the protocol data unit transmitted from the receiving end to the sending end, 
                shall provide the mechanism by which the FARM at the receiving end reports the status of frame acceptance to the Frame Operation Procedure (FOP) at the 
                sending end.
                </xtce:LongDescription>
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="control_word_type"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="ClCW_version_number"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="status_field"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="COP_in_effect"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="virtual_channel_ID_CLCW"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="reserved_spare"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="no_RF_available_flag"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="no_bit_log_flag"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="lockout_flag"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="wait_flag"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="retransmit_flag"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="FARMB_counter"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="reserved_spare_2"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="report_value"></xtce:ParameterRefEntry>
                </xtce:EntryList>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="frame_error_control_field">
                <xtce:LongDescription>The purpose of this field is to provide a capability for detecting errors which may have been introduced into the Transfer 
                Frame during the transmission and data handling process.
                </xtce:LongDescription>
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="frame_error_control"></xtce:ParameterRefEntry>
                </xtce:EntryList>
            </xtce:SequenceContainer>



            <xtce:SequenceContainer name="TM_3_10">
                <xtce:LongDescription>TM[3,10] is a request packet. It is used to request the transmission of a telemetry packet.
                </xtce:LongDescription>
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="housekeeping_parameter_report_structure_ID_ST03"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="periodic_generation_action_status_ST03"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="collection_interval_ST03"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="number_of_simply_commutated_parameters"></xtce:ParameterRefEntry>
                    <xtce:ArrayParameterRefEntry parameterRef="/AcubeSAT/parameter_ID_ST03">
                        <xtce:DimensionList>
                            <xtce:Dimension>
                                <xtce:StartingIndex>
                                    <xtce:FixedValue>0</xtce:FixedValue>
                                </xtce:StartingIndex>
                                <xtce:EndingIndex>
                                    <xtce:DynamicValue>
                                        <xtce:ParameterInstanceRef parameterRef="number_of_simply_commutated_parameters" />
                                        <xtce:LinearAdjustment intercept="-1"/>
                                    </xtce:DynamicValue>
                                </xtce:EndingIndex>
                            </xtce:Dimension>
                        </xtce:DimensionList>
                    </xtce:ArrayParameterRefEntry>
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="packet_header_TM">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="3" parameterRef="service_type_ID_TM" />
                            <xtce:Comparison value="10" parameterRef="message_subtype_ID_TM" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="TM[20,2]:parameter_value_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="number_of_parameters"></xtce:ParameterRefEntry>
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="packet_header_TM">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="20" parameterRef="service_type_ID_TM" />
                            <xtce:Comparison value="2" parameterRef="message_subtype_ID_TM" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="TM[3,25]:housekeeping_parameter_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="housekeeping_parameter_report_structure_ID_ST03"></xtce:ParameterRefEntry>
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="packet_header_TM">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="3" parameterRef="service_type_ID_TM" />
                            <xtce:Comparison value="25" parameterRef="message_subtype_ID_TM" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <!--The Housekeeping Structure Containers-->

            <xtce:SequenceContainer name="Housekeeping_OBC_1">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCPCBBoardTemperature1" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCPCBBoardTemperature2" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMCUTemperature" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCBootCounter" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMemoryPartition" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMCUSysTick" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCCANBUSLoad1" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCCANBUSLoad2" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCCANBUSActive" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCNANDFLASHLCLThreshold" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMRAMLCLThreshold" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCNANDFLASHON" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMRAMON" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/AvailableHeap" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCUseCAN" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCUseUART" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCUseRTT" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[3,25]:housekeeping_parameter_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="0" parameterRef="housekeeping_parameter_report_structure_ID_ST03" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="Housekeeping_OBC_3">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCPCBBoardTemperature1" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCPCBBoardTemperature2" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCSpacecraftTimeRef" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCOperationalMode" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMemoryPartition" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCReconfigurationTimer" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCLastFailedEvent" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMCUSysTick" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[3,25]:housekeeping_parameter_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="1" parameterRef="housekeeping_parameter_report_structure_ID_ST03" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="Housekeeping_ADCS_0.01">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerRawX" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerRawY" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerRawZ" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeX" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeY" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeZ" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[3,25]:housekeeping_parameter_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="3" parameterRef="housekeeping_parameter_report_structure_ID_ST03" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="Housekeeping_ADCS_3">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerFrequency" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerCycleCountX" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerCycleCountY" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerCycleCountZ" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerSelfTest" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeXTemperature" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeYTemperature" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeZTemperature" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSBoardTemperature1" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSBoardTemperature2" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMCUTemperature" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSBootCounter" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMCUOnBoardTime" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSSystick" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[3,25]:housekeeping_parameter_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="4" parameterRef="housekeeping_parameter_report_structure_ID_ST03" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="Housekeeping_ADCS_5">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerSignX" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerSignY" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerSignZ" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroSignX" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroSignY" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroSignZ" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroBiasX" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroBiasY" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroBiasZ" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSFlashInt" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSSRAMInt" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[3,25]:housekeeping_parameter_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="5" parameterRef="housekeeping_parameter_report_structure_ID_ST03" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <!--The TM[20,2] Report-Value Parameter Groups Containers -->
            <xtce:SequenceContainer name="ADCS_parameters_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeX" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeY" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeZ" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeXTemperature" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeYTemperature" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSGyroscopeZTemperature" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[20,2]:parameter_value_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="6" parameterRef="number_of_parameters" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="mcu_parameters_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCBootCounter" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMCUSysTick" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMCUTemperature" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMCUTemperature" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMCUOnBoardTime" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSSystick" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSBootCounter" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCOperationalMode" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCLastFailedEvent" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[20,2]:parameter_value_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="9" parameterRef="number_of_parameters" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="ADCSMagnetometer_parameters_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerRawX" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerRawY" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerRawZ" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerFrequency" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerCycleCountX" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerCycleCountY" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerCycleCountZ" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSMagnetometerSelfTest" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[20,2]:parameter_value_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="8" parameterRef="number_of_parameters" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>


            <xtce:SequenceContainer name="can_parameters_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCCANBUSLoad1" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCCANBUSLoad2" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCCANBUSActive" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[20,2]:parameter_value_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="3" parameterRef="number_of_parameters" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="timer_parameters_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCReconfigurationTimer" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCSpacecraftTimeRef" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[20,2]:parameter_value_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="2" parameterRef="number_of_parameters" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="board_parameters_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCPCBBoardTemperature1" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCPCBBoardTemperature2" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSBoardTemperature1" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSBoardTemperature2" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[20,2]:parameter_value_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="4" parameterRef="number_of_parameters" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="memory_parameters_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCNANDFLASHLCLThreshold" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMRAMLCLThreshold" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCNANDFLASHON" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMRAMON" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCMemoryPartition" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSFlashInt" />
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/ADCSSRAMInt" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[20,2]:parameter_value_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="7" parameterRef="number_of_parameters" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="time_parameter_report">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="id" />
                    <xtce:ParameterRefEntry parameterRef="/AcubeSAT/OBCOnBoardTime" />
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="TM[20,2]:parameter_value_report">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="1" parameterRef="number_of_parameters" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="TM[4,2]:parameter_statistics_report">
                <xtce:LongDescription>
                    The formats of the max value field, the min value field, the mean value field and the standard deviation value
                    field, contained in the parameter_statistics_structure array, are specific to the parameter identified by the associated parameter ID field.
                </xtce:LongDescription>
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="start_time_ST04"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="end_time_ST04"></xtce:ParameterRefEntry>
                    <xtce:ParameterRefEntry parameterRef="number_of_structures"></xtce:ParameterRefEntry>
                    <xtce:ArrayParameterRefEntry parameterRef="/AcubeSAT/parameter_statistics_structure">
                        <xtce:DimensionList>
                            <xtce:Dimension>
                                <xtce:StartingIndex>
                                    <xtce:FixedValue>0</xtce:FixedValue>
                                </xtce:StartingIndex>
                                <xtce:EndingIndex>
                                    <xtce:DynamicValue>
                                        <xtce:ParameterInstanceRef parameterRef="number_of_structures" />
                                        <xtce:LinearAdjustment intercept="-1"/>
                                    </xtce:DynamicValue>
                                </xtce:EndingIndex>
                            </xtce:Dimension>
                        </xtce:DimensionList>
                    </xtce:ArrayParameterRefEntry>
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="packet_header_TM">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="4" parameterRef="service_type_ID_TM" />
                            <xtce:Comparison value="2" parameterRef="message_subtype_ID_TM" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="TM[17,2]:are_you_alive_connection_test_report">
                <xtce:EntryList></xtce:EntryList>
                <xtce:BaseContainer containerRef="packet_header_TM">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="17" parameterRef="service_type_ID_TM" />
                            <xtce:Comparison value="2" parameterRef="message_subtype_ID_TM" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>

            <xtce:SequenceContainer name="TM[128,128]:log_messages">
                <xtce:EntryList>
                    <xtce:ParameterRefEntry parameterRef="message_logs"></xtce:ParameterRefEntry>
                </xtce:EntryList>
                <xtce:BaseContainer containerRef="packet_header_TM">
                    <xtce:RestrictionCriteria>
                        <xtce:ComparisonList>
                            <xtce:Comparison value="128" parameterRef="service_type_ID_TM" />
                            <xtce:Comparison value="128" parameterRef="message_subtype_ID_TM" />
                        </xtce:ComparisonList>
                    </xtce:RestrictionCriteria>
                </xtce:BaseContainer>
            </xtce:SequenceContainer>
        </xtce:ContainerSet>
    </xtce:TelemetryMetaData>

    <xtce:CommandMetaData>
        <xtce:MetaCommandSet>
            <xtce:MetaCommand name="header" abstract="true">
                <xtce:ArgumentList>
                    <xtce:Argument argumentTypeRef="/dt/transfer_frame_version_number" name="transfer_frame_version_number"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/flag" name="bypass_flag"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/flag" name="control_command_flag"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/spacecraft_ID" name="spacecraft_ID"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/virtual_channel_ID_TC" name="virtual_channel_ID_TC"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/frame_length" name="frame_length"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/frame_sequence_number" name="frame_sequence_number"></xtce:Argument>

                    <xtce:Argument argumentTypeRef="/dt/packet_version_number" name="packet_version_number"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/packet_type" name="packet_type"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/secondary_header_flag" name="secondary_header_flag"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/application_process_ID" name="application_process_ID" initialValue="OBC"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/sequence_flags" name="sequence_flags"></xtce:Argument>
                    <!--Secondary Header-->
                    <xtce:Argument argumentTypeRef="/dt/aknowledgement_flags" name="PUS_version_number"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/aknowledgement_flags" name="aknowledgement_flags"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/service_type_ID_TC" name="service_type_ID"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/message_subtype_ID_TC" name="message_subtype_ID"></xtce:Argument>
                    <xtce:Argument argumentTypeRef="/dt/uint16_t" name="source_ID"></xtce:Argument>
                </xtce:ArgumentList>
                <xtce:CommandContainer name="packet_header_TC">
                    <xtce:EntryList>
                        <xtce:ArgumentRefEntry argumentRef="packet_version_number" />
                        <xtce:ArgumentRefEntry argumentRef="packet_type" />
                        <xtce:ArgumentRefEntry argumentRef="secondary_header_flag" />
                        <xtce:ArgumentRefEntry argumentRef="application_process_ID" />
                        <xtce:ArgumentRefEntry argumentRef="sequence_flags" />
                        <xtce:FixedValueEntry name="packet_sequence_count_or_packet_name" binaryValue="0000" sizeInBits="14" />
                        <xtce:FixedValueEntry name="packet_data_length" binaryValue="0000" sizeInBits="16" />
                        <!--Secondary Header-->
                        <xtce:ArgumentRefEntry argumentRef="PUS_version_number" />
                        <xtce:ArgumentRefEntry argumentRef="aknowledgement_flags" />
                        <xtce:ArgumentRefEntry argumentRef="service_type_ID" />
                        <xtce:ArgumentRefEntry argumentRef="message_subtype_ID" />
                        <xtce:ArgumentRefEntry argumentRef="source_ID" />
                    </xtce:EntryList>
                </xtce:CommandContainer>
            </xtce:MetaCommand>

            <xtce:MetaCommand name="Header_TC" abstract="true">
                <xtce:BaseMetaCommand metaCommandRef="header">
                    <xtce:ArgumentAssignmentList>
                        <xtce:ArgumentAssignment argumentName="packet_version_number" argumentValue="0" />
                        <xtce:ArgumentAssignment argumentName="packet_type" argumentValue="TC" />
                        <xtce:ArgumentAssignment argumentName="secondary_header_flag" argumentValue="1" />
                        <xtce:ArgumentAssignment argumentName="sequence_flags" argumentValue="3" />
                        <xtce:ArgumentAssignment argumentName="PUS_version_number" argumentValue="2" />
                        <xtce:ArgumentAssignment argumentName="source_ID" argumentValue="5" />
                        <xtce:ArgumentAssignment argumentName="aknowledgement_flags" argumentValue="0" />
                    </xtce:ArgumentAssignmentList>
                </xtce:BaseMetaCommand>
                <xtce:CommandContainer name="Header_TC">
                    <xtce:EntryList />
                    <xtce:BaseContainer containerRef="packet_header_TC" />
                </xtce:CommandContainer>
                <xtce:VerifierSet>
                    <xtce:ReceivedVerifier name="TC_receival">
                        <xtce:CustomAlgorithm name="receival_algorithm">
                            <xtce:AncillaryDataSet>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">sentApid</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">sentSeq</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">rcvdApid</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">rcvdSeq</xtce:AncillaryData>
                            </xtce:AncillaryDataSet>
                        <xtce:AlgorithmText language="JavaScript">
                            if(rcvdApid.value == sentApid.value &#38;&#38; rcvdSeq.value == sentSeq.value){
                                if(subtype.value == 1){
                                    return true;
                                }else if(subtype.value == 2){
                                    return errorCode.value;
                                }
                            }else{
                                return false;
                            }
                        </xtce:AlgorithmText>
                        <xtce:InputSet>
                            <xtce:InputParameterInstanceRef parameterRef="/yamcs/cmd/arg/application_process_ID" inputName="sentApid" />
                            <xtce:InputParameterInstanceRef parameterRef="/yamcs/cmdHist/packet_sequence_count_or_packet_name" inputName="sentSeq"/>
                            <xtce:InputParameterInstanceRef parameterRef="message_subtype_ID_TM" inputName="subtype" />
                            <xtce:InputParameterInstanceRef parameterRef="/pus-verification/source_application_process_ID" inputName="rcvdApid"/>
                            <xtce:InputParameterInstanceRef parameterRef="/pus-verification/source_packet_sequence_count" inputName="rcvdSeq" />
                            <xtce:InputParameterInstanceRef parameterRef="/pus-verification/AcceptanceErrorType" inputName="errorCode" />
                        </xtce:InputSet>
                        </xtce:CustomAlgorithm>
                        <xtce:CheckWindow timeToStopChecking="PT5S" />
                    </xtce:ReceivedVerifier>
                    <xtce:ExecutionVerifier name="TC_start_of_execution">
                        <xtce:CustomAlgorithm name="start_of_execution_algorithm">
                            <xtce:AncillaryDataSet>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">sentApid</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">sentSeq</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">rcvdApid</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">rcvdSeq</xtce:AncillaryData>
                            </xtce:AncillaryDataSet>
    
                            <xtce:AlgorithmText language="JavaScript">
                                if(rcvdApid.value == sentApid.value &#38;&#38; rcvdSeq.value == sentSeq.value){
                                    if(subtype.value == 3){
                                        return true;
                                    }else if(subtype.value == 4){
                                        return errorCode.value;
                                    }
                                }else{
                                    return false;
                                }
                            </xtce:AlgorithmText>
                            <xtce:InputSet>
                                <xtce:InputParameterInstanceRef parameterRef="/yamcs/cmd/arg/application_process_ID" inputName="sentApid" />
                                <xtce:InputParameterInstanceRef parameterRef="/yamcs/cmdHist/packet_sequence_count_or_packet_name" inputName="sentSeq"/>
                                <xtce:InputParameterInstanceRef parameterRef="message_subtype_ID_TM" inputName="subtype" />
                                <xtce:InputParameterInstanceRef parameterRef="/pus-verification/source_application_process_ID" inputName="rcvdApid"/>
                                <xtce:InputParameterInstanceRef parameterRef="/pus-verification/source_packet_sequence_count" inputName="rcvdSeq" />
                                <xtce:InputParameterInstanceRef parameterRef="/pus-verification/ExecutionStartErrorType" inputName="errorCode" />
                            </xtce:InputSet>
                        </xtce:CustomAlgorithm>
                        <xtce:CheckWindow timeToStopChecking="PT5S" timeWindowIsRelativeTo="commandRelease" />
                    </xtce:ExecutionVerifier>
                    <xtce:ExecutionVerifier name="TC_execution_progress">
                        <xtce:CustomAlgorithm name="execution_progress_algorithm">
                            <xtce:AncillaryDataSet>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">sentApid</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">sentSeq</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">rcvdApid</xtce:AncillaryData>
                                <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">rcvdSeq</xtce:AncillaryData>
                            </xtce:AncillaryDataSet>
                            <xtce:AlgorithmText language="JavaScript">
                                if(rcvdApid.value == sentApid.value &#38;&#38; rcvdSeq.value == sentSeq.value){
                                    if(subtype.value == 5){
                                        return step.value;
                                    }else if(subtype.value == 6){
                                        return errorCode.value;
                                    }
                                }else{
                                    return false;
                                }
                            </xtce:AlgorithmText>
                            <xtce:InputSet>
                                <xtce:InputParameterInstanceRef parameterRef="/yamcs/cmd/arg/application_process_ID" inputName="sentApid" />
                                <xtce:InputParameterInstanceRef parameterRef="/yamcs/cmdHist/packet_sequence_count_or_packet_name" inputName="sentSeq"/>
                                <xtce:InputParameterInstanceRef parameterRef="message_subtype_ID_TM" inputName="subtype" />
                                <xtce:InputParameterInstanceRef parameterRef="/pus-verification/stepID" inputName="step" />
                                <xtce:InputParameterInstanceRef parameterRef="/pus-verification/source_application_process_ID" inputName="rcvdApid"/>
                                <xtce:InputParameterInstanceRef parameterRef="/pus-verification/source_packet_sequence_count" inputName="rcvdSeq" />
                                <xtce:InputParameterInstanceRef parameterRef="/pus-verification/ExecutionProgressErrorType" inputName="errorCode" />
                            </xtce:InputSet>
                        </xtce:CustomAlgorithm>
                        <xtce:CheckWindow timeToStopChecking="PT15S" timeWindowIsRelativeTo="commandRelease"/>
                    </xtce:ExecutionVerifier>
                    <xtce:CompleteVerifier name="TC_completion">
                        <xtce:CustomAlgorithm name="completion_algorithm">
                        <xtce:AncillaryDataSet>
                            <xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">sentApid</xtce:AncillaryData>
							<xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">sentSeq</xtce:AncillaryData>
							<xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">rcvdApid</xtce:AncillaryData>
							<xtce:AncillaryData name="Yamcs:AlgorithmMandatoryInput">rcvdSeq</xtce:AncillaryData>
                        </xtce:AncillaryDataSet>

                        <xtce:AlgorithmText language="JavaScript">
                            if(rcvdApid.value == sentApid.value &#38;&#38; rcvdSeq.value == sentSeq.value){
                                if(subtype.value == 7){
                                    return true;
                                }else if(subtype.value == 8){
                                    return errorCode.value;
                                }
                            }else{
                                return false;
                            }
                        </xtce:AlgorithmText>
                        <xtce:InputSet>
                            <xtce:InputParameterInstanceRef parameterRef="/yamcs/cmd/arg/application_process_ID" inputName="sentApid" />
                            <xtce:InputParameterInstanceRef parameterRef="/yamcs/cmdHist/packet_sequence_count_or_packet_name" inputName="sentSeq"/>
                            <xtce:InputParameterInstanceRef parameterRef="message_subtype_ID_TM" inputName="subtype" />
                            <xtce:InputParameterInstanceRef parameterRef="/pus-verification/source_application_process_ID" inputName="rcvdApid"/>
                            <xtce:InputParameterInstanceRef parameterRef="/pus-verification/source_packet_sequence_count" inputName="rcvdSeq" />
                            <xtce:InputParameterInstanceRef parameterRef="/pus-verification/ExecutionCompletionErrorType" inputName="errorCode" />
                        </xtce:InputSet>
                        </xtce:CustomAlgorithm>
                        <xtce:CheckWindow timeToStopChecking="PT15S" timeWindowIsRelativeTo="commandRelease"/>
                    </xtce:CompleteVerifier>
                </xtce:VerifierSet>
            </xtce:MetaCommand>

            <xtce:MetaCommand name="frame_error_control_field" abstract="true">
                <xtce:ArgumentList>
                    <xtce:Argument argumentTypeRef="/dt/frame_error_control" name="frame_error_control"></xtce:Argument>
                </xtce:ArgumentList>
                <xtce:CommandContainer name="frame_error_control_field">
                    <xtce:EntryList>
                        <xtce:ArgumentRefEntry argumentRef="frame_error_control" />
                    </xtce:EntryList>
                </xtce:CommandContainer>
            </xtce:MetaCommand>
 

            <xtce:MetaCommand name="TC[3,1]:create_a_parameter_report_structure">
                <xtce:BaseMetaCommand metaCommandRef="Header_TC">
                    <xtce:ArgumentAssignmentList>
                        <xtce:ArgumentAssignment argumentName="service_type_ID" argumentValue="3" />
                        <xtce:ArgumentAssignment argumentName="message_subtype_ID" argumentValue="1" />
                    </xtce:ArgumentAssignmentList>
                </xtce:BaseMetaCommand>
                <xtce:ArgumentList>
                    <xtce:Argument argumentTypeRef="/dt/uint8_t" name="new_structure_id" />
                    <xtce:Argument argumentTypeRef="/dt/uint32_t" name="collection_interval_milliseconds" />
                    <xtce:Argument argumentTypeRef="/dt/uint16_t{1-10}" name="total_parameters" />
                    <xtce:Argument argumentTypeRef="/dt/parameterIdArray_t" name="parameters" />
                </xtce:ArgumentList>
                <xtce:CommandContainer name="TC[3,1]:create_a_parameter_report_structure">
                    <xtce:EntryList>
                        <xtce:ArgumentRefEntry argumentRef="new_structure_id" />
                        <xtce:ArgumentRefEntry argumentRef="collection_interval_milliseconds" />
                        <xtce:ArgumentRefEntry argumentRef="total_parameters" />
                        <xtce:ArgumentRefEntry argumentRef="parameters" />
                    </xtce:EntryList>
                    <xtce:BaseContainer containerRef="Header_TC" />
                </xtce:CommandContainer>
            </xtce:MetaCommand>
            
            <xtce:MetaCommand name="TC[3,9]:report_housekeeping_parameter_report_structures">
                <xtce:BaseMetaCommand metaCommandRef="Header_TC">
                    <xtce:ArgumentAssignmentList>
                        <xtce:ArgumentAssignment argumentName="service_type_ID" argumentValue="3" />
                        <xtce:ArgumentAssignment argumentName="message_subtype_ID" argumentValue="9" />
                    </xtce:ArgumentAssignmentList>
                </xtce:BaseMetaCommand>
                <xtce:ArgumentList>
                    <xtce:Argument argumentTypeRef="/dt/uint8_t{1-10}" name="total_structures" />
                    <xtce:Argument argumentTypeRef="/dt/structureIdArray_t" name="structures" />
                </xtce:ArgumentList>
                <xtce:CommandContainer name="TC[3,9]:report_housekeeping_parameter_report_structures">
                    <xtce:EntryList>
                        <xtce:ArgumentRefEntry argumentRef="total_structures" />
                        <xtce:ArgumentRefEntry argumentRef="structures" />
                    </xtce:EntryList>
                    <xtce:BaseContainer containerRef="Header_TC" />
                </xtce:CommandContainer>
            </xtce:MetaCommand>

            <xtce:MetaCommand name="custom_TC[3,9]:report_housekeeping_parameter_report_structures">
                <xtce:BaseMetaCommand metaCommandRef="Header_TC">
                    <xtce:ArgumentAssignmentList>
                        <xtce:ArgumentAssignment argumentName="service_type_ID" argumentValue="3" />
                        <xtce:ArgumentAssignment argumentName="message_subtype_ID" argumentValue="9" />
                    </xtce:ArgumentAssignmentList>
                </xtce:BaseMetaCommand>
                <xtce:ArgumentList>
                    <xtce:Argument argumentTypeRef="/dt/uint8_t{1-10}" name="total_structures" />
                    <xtce:Argument argumentTypeRef="/dt/uint8Array_t" name="structures" />
                </xtce:ArgumentList>
                <xtce:CommandContainer name="custom_TC[3,9]:report_housekeeping_parameter_report_structures">
                    <xtce:EntryList>
                        <xtce:ArgumentRefEntry argumentRef="total_structures" />
                        <xtce:ArgumentRefEntry argumentRef="structures" />
                    </xtce:EntryList>
                    <xtce:BaseContainer containerRef="Header_TC" />
                </xtce:CommandContainer>
            </xtce:MetaCommand>

            <xtce:MetaCommand name="TC[3,27]:generate_a_one_shot_report_for_housekeeping_parameter_report_structures">
                <xtce:BaseMetaCommand metaCommandRef="Header_TC">
                    <xtce:ArgumentAssignmentList>
                        <xtce:ArgumentAssignment argumentName="service_type_ID" argumentValue="3" />
                        <xtce:ArgumentAssignment argumentName="message_subtype_ID" argumentValue="27" />
                    </xtce:ArgumentAssignmentList>
                </xtce:BaseMetaCommand>
                <xtce:ArgumentList>
                    <xtce:Argument argumentTypeRef="/dt/uint8_t{1-10}" name="total_structures" />
                    <xtce:Argument argumentTypeRef="/dt/structureIdArray_t" name="structures" />
                </xtce:ArgumentList>
                <xtce:CommandContainer name="TC[3,27]:generate_a_one_shot_report_for_housekeeping_parameter_report_structures">
                    <xtce:EntryList>
                        <xtce:ArgumentRefEntry argumentRef="total_structures" />
                        <xtce:ArgumentRefEntry argumentRef="structures" />
                    </xtce:EntryList>
                    <xtce:BaseContainer containerRef="Header_TC" />
                </xtce:CommandContainer>
            </xtce:MetaCommand>

            <xtce:MetaCommand name="custom_TC[3,27]:generate_a_one_shot_report_for_housekeeping_parameter_report_structures">
                <xtce:BaseMetaCommand metaCommandRef="Header_TC">
                    <xtce:ArgumentAssignmentList>
                        <xtce:ArgumentAssignment argumentName="service_type_ID" argumentValue="3" />
                        <xtce:ArgumentAssignment argumentName="message_subtype_ID" argumentValue="27" />
                    </xtce:ArgumentAssignmentList>
                </xtce:BaseMetaCommand>
                <xtce:ArgumentList>
                    <xtce:Argument argumentTypeRef="/dt/uint8_t{1-10}" name="total_structures" />
                    <xtce:Argument argumentTypeRef="/dt/uint8Array_t" name="structures" />
                </xtce:ArgumentList>
                <xtce:CommandContainer name="custom_TC[3,27]:generate_a_one_shot_report_for_housekeeping_parameter_report_structures">
                    <xtce:EntryList>
                        <xtce:ArgumentRefEntry argumentRef="total_structures" />
                        <xtce:ArgumentRefEntry argumentRef="structures" />
                    </xtce:EntryList>
                    <xtce:BaseContainer containerRef="Header_TC" />
                </xtce:CommandContainer>
            </xtce:MetaCommand>

            <xtce:MetaCommand name="TC[4,1]:report_the_parameter_statistics">
                <xtce:BaseMetaCommand metaCommandRef="Header_TC">
                    <xtce:ArgumentAssignmentList>
                        <xtce:ArgumentAssignment argumentName="service_type_ID" argumentValue="4" />
                        <xtce:ArgumentAssignment argumentName="message_subtype_ID" argumentValue="1" />
                    </xtce:ArgumentAssignmentList>
                </xtce:BaseMetaCommand>
                <xtce:ArgumentList>
                    <xtce:Argument argumentTypeRef="/dt/reset_flag_ST04" name="reset_flag" />
                </xtce:ArgumentList>
                <xtce:CommandContainer name="TC[4,1]:report_the_parameter_statistics">
                    <xtce:EntryList>
                        <xtce:ArgumentRefEntry argumentRef="reset_flag" />
                    </xtce:EntryList>
                    <xtce:BaseContainer containerRef="Header_TC" />
                </xtce:CommandContainer>
            </xtce:MetaCommand>

            <xtce:MetaCommand name="TC[17,1]:are_you_alive_connection">
                <xtce:BaseMetaCommand metaCommandRef="Header_TC">
                    <xtce:ArgumentAssignmentList>
                        <xtce:ArgumentAssignment argumentName="service_type_ID" argumentValue="17" />
                        <xtce:ArgumentAssignment argumentName="message_subtype_ID" argumentValue="1" />
                    </xtce:ArgumentAssignmentList>
                </xtce:BaseMetaCommand>
                <xtce:CommandContainer name="TC[17,1]:are_you_alive_connection">
                    <xtce:EntryList></xtce:EntryList>
                    <xtce:BaseContainer containerRef="Header_TC" />
                </xtce:CommandContainer>
            </xtce:MetaCommand>
        </xtce:MetaCommandSet>
    </xtce:CommandMetaData>
</xtce:SpaceSystem>