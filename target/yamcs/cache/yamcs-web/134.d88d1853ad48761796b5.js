(self.webpackChunk_yamcs_webapp=self.webpackChunk_yamcs_webapp||[]).push([[134],{1134:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AlarmsModule:()=>nt});var n=a(7290),i=a(3337),l=a(7102),o=a(4017),s=a(9385),r=a(8378),c=a(1041),m=a(8512),u=a(7701),d=a(8561),g=a(8293),p=a(2935),f=a(5366),h=a(1116);function Z(e,t){if(1&e&&(f.ynx(0),f._uU(1),f.BQk()),2&e){const e=f.oxw();f.xp6(1),f.AsE(" ",e.data.alarms[0].id.namespace,"/",e.data.alarms[0].id.name," ")}}function A(e,t){if(1&e&&(f.ynx(0),f._uU(1),f.BQk()),2&e){const e=f.oxw();f.xp6(1),f.hij(" ",e.data.alarms.length," selected alarms. ")}}let v=(()=>{class e{constructor(e,t,a,n){this.dialogRef=e,this.yamcs=a,this.data=n,this.formGroup=t.group({comment:void 0})}acknowledge(){return e=this,void 0,a=function*(){const e=this.data.alarms,t=this.formGroup.get("comment").value;for(const a of e){const e={state:"acknowledged"};t&&(e.comment=t),this.yamcs.yamcsClient.editAlarm(this.yamcs.instance,this.yamcs.processor,a.id.namespace+"/"+a.id.name,a.seqNum,e)}this.dialogRef.close()},new((t=void 0)||(t=Promise))(function(n,i){function l(e){try{s(a.next(e))}catch(t){i(t)}}function o(e){try{s(a.throw(e))}catch(t){i(t)}}function s(e){var a;e.done?n(e.value):(a=e.value,a instanceof t?a:new t(function(e){e(a)})).then(l,o)}s((a=a.apply(e,[])).next())});var e,t,a}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(p.so),f.Y36(c.qu),f.Y36(g.C),f.Y36(p.WI))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-acknowledge-alarm-dialog"]],decls:15,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngIf"],[1,"ya-form",3,"formGroup"],["formControlName","comment","rows","5",2,"resize","none"],["align","end"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"disabled","click"]],template:function(e,t){1&e&&(f.TgZ(0,"h2",0),f._uU(1,"Acknowledge"),f.qZA(),f.TgZ(2,"mat-dialog-content",1),f.TgZ(3,"p"),f.YNc(4,Z,2,2,"ng-container",2),f.YNc(5,A,2,1,"ng-container",2),f.qZA(),f.TgZ(6,"form",3),f.TgZ(7,"label"),f._uU(8," Comment "),f._UZ(9,"textarea",4),f.qZA(),f.qZA(),f.qZA(),f.TgZ(10,"mat-dialog-actions",5),f.TgZ(11,"button",6),f._uU(12,"CANCEL"),f.qZA(),f.TgZ(13,"button",7),f.NdJ("click",function(){return t.acknowledge()}),f._uU(14,"OK"),f.qZA(),f.qZA()),2&e&&(f.xp6(4),f.Q6J("ngIf",1===t.data.alarms.length),f.xp6(1),f.Q6J("ngIf",1!==t.data.alarms.length),f.xp6(1),f.Q6J("formGroup",t.formGroup),f.xp6(7),f.Q6J("disabled",!t.formGroup.valid))},directives:[p.uh,p.xY,h.O5,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,p.H8,p.ZT],encapsulation:2}),e})();var w=a(9996);class x extends r.o2{constructor(e){super(),this.yamcs=e,this.alarms$=new m.X([]),this.filteredAlarms$=new m.X([]),this.loading$=new m.X(!1),this.alarmsByName={},this.filter=null,this.unacknowledgedAlarms$=this.alarms$.pipe((0,w.U)(e=>e.filter(e=>!e.shelveInfo&&!e.acknowledged))),this.acknowledgedAlarms$=this.alarms$.pipe((0,w.U)(e=>e.filter(e=>!e.shelveInfo&&e.acknowledged))),this.shelvedAlarms$=this.alarms$.pipe((0,w.U)(e=>e.filter(e=>!!e.shelveInfo)))}connect(){return this.filteredAlarms$}setFilter(e){this.filter=e||null}loadAlarms(){this.loading$.next(!0),this.yamcs.yamcsClient.getActiveAlarms(this.yamcs.instance,this.yamcs.processor).then(e=>{this.loading$.next(!1);for(const t of e)this.processAlarm(t);this.updateSubject()}),this.alarmSubscription=this.yamcs.yamcsClient.createAlarmSubscription({instance:this.yamcs.instance,processor:this.yamcs.processor},e=>{this.processAlarm(e),this.updateSubject()})}updateSubject(){const e=[...Object.values(this.alarmsByName).sort((e,t)=>{let a=e.acknowledged===t.acknowledged?0:e.acknowledged?1:-1;if(0===a){const n=this.getNumericSeverity(e.severity),i=this.getNumericSeverity(t.severity);a=n===i?0:n<i?1:-1}return 0===a&&(a=(e.id.namespace+"/"+e.id.name).localeCompare(t.id.namespace+"/"+t.id.name)),a})];if(this.alarms$.next(e),this.filter){const t=e.filter(e=>-1!==(e.id.namespace+"/"+e.id.name).toLowerCase().indexOf(this.filter));this.filteredAlarms$.next(t)}else this.filteredAlarms$.next(e)}getNumericSeverity(e){switch(e){case"WATCH":return 0;case"WARNING":return 1;case"DISTRESS":return 2;case"CRITICAL":return 3;case"SEVERE":return 4;default:return 5}}disconnect(){this.alarms$.complete(),this.filteredAlarms$.complete(),this.loading$.complete(),this.alarmSubscription&&this.alarmSubscription.cancel()}isEmpty(){return!this.filteredAlarms$.getValue().length}processAlarm(e){const t=e.id.namespace+"/"+e.id.name;e.processOK&&!e.triggered&&e.acknowledged?delete this.alarmsByName[t]:this.alarmsByName[t]=e}}var T=a(8509);function y(e,t){if(1&e&&(f.ynx(0),f._uU(1),f.BQk()),2&e){const e=f.oxw();f.xp6(1),f.AsE(" ",e.data.alarms[0].id.namespace,"/",e.data.alarms[0].id.name," ")}}function q(e,t){if(1&e&&(f.ynx(0),f._uU(1),f.BQk()),2&e){const e=f.oxw();f.xp6(1),f.hij(" ",e.data.alarms.length," selected alarms. ")}}let _=(()=>{class e{constructor(e,t,a,n){this.dialogRef=e,this.yamcs=a,this.data=n,this.formGroup=t.group({duration:"PT2H",comment:void 0})}shelve(){return e=this,void 0,a=function*(){const e=this.data.alarms,t=this.formGroup.get("comment").value;let a=null;if("UNLIMITED"!==this.formGroup.get("duration").value){const e=this.formGroup.get("duration").value;a=T.Uw(e)}for(const n of e){const e={state:"shelved"};t&&(e.comment=t),a&&(e.shelveDuration=a),this.yamcs.yamcsClient.editAlarm(this.yamcs.instance,this.yamcs.processor,n.id.namespace+"/"+n.id.name,n.seqNum,e)}this.dialogRef.close()},new((t=void 0)||(t=Promise))(function(n,i){function l(e){try{s(a.next(e))}catch(t){i(t)}}function o(e){try{s(a.throw(e))}catch(t){i(t)}}function s(e){var a;e.done?n(e.value):(a=e.value,a instanceof t?a:new t(function(e){e(a)})).then(l,o)}s((a=a.apply(e,[])).next())});var e,t,a}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(p.so),f.Y36(c.qu),f.Y36(g.C),f.Y36(p.WI))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-shelve-alarm-dialog"]],decls:31,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngIf"],[1,"ya-form",3,"formGroup"],["formControlName","duration"],["value","PT15M"],["value","PT30M"],["value","PT1H"],["value","PT2H"],["value","P1D"],["value","UNLIMITED"],["formControlName","comment","rows","5",2,"resize","none"],["align","end"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"disabled","click"]],template:function(e,t){1&e&&(f.TgZ(0,"h2",0),f._uU(1,"Shelve"),f.qZA(),f.TgZ(2,"mat-dialog-content",1),f.TgZ(3,"p"),f.YNc(4,y,2,2,"ng-container",2),f.YNc(5,q,2,1,"ng-container",2),f.qZA(),f.TgZ(6,"form",3),f.TgZ(7,"label"),f._uU(8," Duration"),f._UZ(9,"br"),f.TgZ(10,"select",4),f.TgZ(11,"option",5),f._uU(12,"15 minutes"),f.qZA(),f.TgZ(13,"option",6),f._uU(14,"30 minutes"),f.qZA(),f.TgZ(15,"option",7),f._uU(16,"1 hour"),f.qZA(),f.TgZ(17,"option",8),f._uU(18,"2 hours"),f.qZA(),f.TgZ(19,"option",9),f._uU(20,"1 day"),f.qZA(),f.TgZ(21,"option",10),f._uU(22,"unlimited"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(23,"label"),f._uU(24," Comment "),f._UZ(25,"textarea",11),f.qZA(),f.qZA(),f.qZA(),f.TgZ(26,"mat-dialog-actions",12),f.TgZ(27,"button",13),f._uU(28,"CANCEL"),f.qZA(),f.TgZ(29,"button",14),f.NdJ("click",function(){return t.shelve()}),f._uU(30,"OK"),f.qZA(),f.qZA()),2&e&&(f.xp6(4),f.Q6J("ngIf",1===t.data.alarms.length),f.xp6(1),f.Q6J("ngIf",1!==t.data.alarms.length),f.xp6(1),f.Q6J("formGroup",t.formGroup),f.xp6(23),f.Q6J("disabled",!t.formGroup.valid))},directives:[p.uh,p.xY,h.O5,c._Y,c.JL,c.sg,c.EJ,c.JJ,c.u,c.YN,c.Kr,c.Fj,p.H8,p.ZT],encapsulation:2}),e})();var k=a(9624),U=a(9451),b=a(6972),C=a(1430),N=a(7307),I=a(221),J=a(4369),Q=a(864),Y=a(4259),S=a(6278),$=a(2401),E=a(9979),O=a(487);const M=function(e){return["/telemetry/parameters/",e]},H=function(e){return{c:e}};function L(e,t){if(1&e&&(f.ynx(0),f.TgZ(1,"div",1),f._uU(2,"Parameter"),f.qZA(),f.TgZ(3,"div",2),f.TgZ(4,"a",5),f._uU(5),f.qZA(),f.qZA(),f.BQk()),2&e){const e=f.oxw();f.xp6(4),f.Q6J("routerLink",f.VKq(4,M,e.alarm.id.namespace+"/"+e.alarm.id.name))("queryParams",f.VKq(6,H,e.yamcs.context)),f.xp6(1),f.AsE(" ",e.alarm.id.namespace,"/",e.alarm.id.name," ")}}function D(e,t){if(1&e&&(f.ynx(0),f.TgZ(1,"div",1),f._uU(2,"Event"),f.qZA(),f.TgZ(3,"div",2),f._uU(4),f.qZA(),f.BQk()),2&e){const e=f.oxw();f.xp6(4),f.AsE(" ",e.alarm.id.namespace,"/",e.alarm.id.name," ")}}function V(e,t){1&e&&(f.TgZ(0,"span"),f._uU(1,"\u2193"),f.qZA())}function B(e,t){1&e&&(f.TgZ(0,"span"),f._uU(1,"\u2191"),f.qZA())}function P(e,t){1&e&&(f.TgZ(0,"span"),f._uU(1,"\u2193"),f.qZA())}function j(e,t){1&e&&(f.TgZ(0,"span"),f._uU(1,"\u2191"),f.qZA())}function F(e,t){if(1&e&&(f.ynx(0),f._UZ(1,"br"),f._UZ(2,"mat-divider"),f.TgZ(3,"div",1),f._uU(4,"Trigger value"),f.qZA(),f.TgZ(5,"div",2),f._UZ(6,"app-alarm-level",6),f._uU(7),f.ALo(8,"value"),f.YNc(9,V,2,0,"span",0),f.YNc(10,B,2,0,"span",0),f.qZA(),f._UZ(11,"br"),f._UZ(12,"mat-divider"),f.TgZ(13,"div",1),f._uU(14,"Live value"),f.qZA(),f.TgZ(15,"div",2),f.TgZ(16,"app-expirable",7),f._UZ(17,"app-alarm-level",6),f._uU(18),f.ALo(19,"value"),f.YNc(20,P,2,0,"span",0),f.YNc(21,j,2,0,"span",0),f.qZA(),f.qZA(),f.BQk()),2&e){const e=t.ngIf,a=f.oxw();f.xp6(6),f.Q6J("level",a.alarm.severity)("grayscale",!0),f.xp6(1),f.hij(" \xa0",f.lcZ(8,11,e.triggerValue.engValue)," "),f.xp6(2),f.Q6J("ngIf","LOW"===e.triggerValue.rangeCondition),f.xp6(1),f.Q6J("ngIf","HIGH"===e.triggerValue.rangeCondition),f.xp6(6),f.Q6J("pval",e.currentValue),f.xp6(1),f.Q6J("level",e.currentValue.monitoringResult)("grayscale",!0),f.xp6(1),f.hij(" \xa0",f.lcZ(19,13,e.currentValue.engValue)," "),f.xp6(2),f.Q6J("ngIf","LOW"===e.currentValue.rangeCondition),f.xp6(1),f.Q6J("ngIf","HIGH"===e.currentValue.rangeCondition)}}function G(e,t){if(1&e&&(f.ynx(0),f._UZ(1,"br"),f._UZ(2,"mat-divider"),f.TgZ(3,"div",1),f._uU(4,"Trigger event"),f.qZA(),f.TgZ(5,"div",2),f._uU(6),f.qZA(),f.BQk()),2&e){const e=t.ngIf;f.xp6(6),f.hij(" ",e.triggerEvent.message," ")}}function R(e,t){if(1&e&&(f.ynx(0),f.TgZ(1,"blockquote",8),f._uU(2),f.qZA(),f.BQk()),2&e){const e=f.oxw(2);f.xp6(2),f.hij(" ",e.alarm.acknowledgeInfo.acknowledgeMessage," ")}}function K(e,t){if(1&e&&(f.ynx(0),f._UZ(1,"br"),f._UZ(2,"mat-divider"),f.TgZ(3,"div",1),f._uU(4),f.qZA(),f.TgZ(5,"div",2),f._uU(6),f.ALo(7,"datetime"),f.YNc(8,R,3,1,"ng-container",0),f.qZA(),f.BQk()),2&e){const e=f.oxw();f.xp6(4),f.hij("Acknowledged by ",e.alarm.acknowledgeInfo.acknowledgedBy,""),f.xp6(2),f.hij(" On ",f.lcZ(7,3,e.alarm.acknowledgeInfo.acknowledgeTime)," "),f.xp6(2),f.Q6J("ngIf",e.alarm.acknowledgeInfo.acknowledgeMessage)}}function W(e,t){if(1&e&&(f.ynx(0),f.TgZ(1,"blockquote",8),f._uU(2),f.qZA(),f.BQk()),2&e){const e=f.oxw(2);f.xp6(2),f.hij(" ",e.alarm.shelveInfo.shelveMessage," ")}}function X(e,t){if(1&e&&(f.ynx(0),f.TgZ(1,"div",1),f._uU(2,"Shelve Expiration"),f.qZA(),f.TgZ(3,"div",2),f._uU(4),f.ALo(5,"datetime"),f.qZA(),f.BQk()),2&e){const e=f.oxw(2);f.xp6(4),f.hij(" ",f.lcZ(5,1,e.alarm.shelveInfo.shelveExpiration)," ")}}function z(e,t){if(1&e&&(f.ynx(0),f._UZ(1,"br"),f._UZ(2,"mat-divider"),f.TgZ(3,"div",1),f._uU(4),f.qZA(),f.TgZ(5,"div",2),f._uU(6),f.ALo(7,"datetime"),f.YNc(8,W,3,1,"ng-container",0),f.qZA(),f.YNc(9,X,6,3,"ng-container",0),f.BQk()),2&e){const e=f.oxw();f.xp6(4),f.hij("Shelved by ",e.alarm.shelveInfo.shelvedBy,""),f.xp6(2),f.hij(" On ",f.lcZ(7,4,e.alarm.shelveInfo.shelveTime)," "),f.xp6(2),f.Q6J("ngIf",e.alarm.shelveInfo.shelveMessage),f.xp6(1),f.Q6J("ngIf",e.alarm.shelveInfo.shelveExpiration)}}function ee(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(e);const t=f.oxw(2);return t.acknowledgeAlarm.emit(t.alarm)}),f.TgZ(1,"mat-icon"),f._uU(2,"notifications_off"),f.qZA(),f._uU(3," ACKNOWLEDGE "),f.qZA()}}function te(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(e);const t=f.oxw(2);return t.shelveAlarm.emit(t.alarm)}),f.TgZ(1,"mat-icon"),f._uU(2,"timer"),f.qZA(),f._uU(3," SHELVE "),f.qZA()}}function ae(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(e);const t=f.oxw(2);return t.unshelveAlarm.emit(t.alarm)}),f.TgZ(1,"mat-icon"),f._uU(2,"timer_off"),f.qZA(),f._uU(3," UNSHELVE "),f.qZA()}}function ne(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"div",9),f.YNc(1,ee,4,0,"button",10),f.YNc(2,te,4,0,"button",10),f.YNc(3,ae,4,0,"button",10),f.TgZ(4,"button",11),f.NdJ("click",function(){f.CHM(e);const t=f.oxw();return t.clearAlarm.emit(t.alarm)}),f.TgZ(5,"mat-icon"),f._uU(6,"clear_all"),f.qZA(),f._uU(7," CLEAR "),f.qZA(),f.qZA()}if(2&e){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",!e.alarm.shelveInfo&&!e.alarm.acknowledged),f.xp6(1),f.Q6J("ngIf",!e.alarm.shelveInfo),f.xp6(1),f.Q6J("ngIf",e.alarm.shelveInfo)}}let ie=(()=>{class e{constructor(e){this.yamcs=e,this.mayControl=!1,this.acknowledgeAlarm=new f.vpe,this.shelveAlarm=new f.vpe,this.unshelveAlarm=new f.vpe,this.clearAlarm=new f.vpe}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(g.C))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-alarm-detail"]],inputs:{alarm:"alarm",mayControl:"mayControl"},outputs:{acknowledgeAlarm:"acknowledgeAlarm",shelveAlarm:"shelveAlarm",unshelveAlarm:"unshelveAlarm",clearAlarm:"clearAlarm"},decls:17,vars:12,consts:[[4,"ngIf"],[1,"block-title"],[1,"block"],[3,"level"],["class","action-bar",4,"ngIf"],[1,"ya-link",3,"routerLink","queryParams"],[3,"level","grayscale"],[3,"pval"],[2,"border-left","4px solid #eee","padding-left","1em","font-style","italic"],[1,"action-bar"],["class","ya-button",3,"click",4,"ngIf"],[1,"ya-button",3,"click"]],template:function(e,t){1&e&&(f.YNc(0,L,6,8,"ng-container",0),f.YNc(1,D,5,2,"ng-container",0),f.TgZ(2,"div",1),f._uU(3,"Severity"),f.qZA(),f.TgZ(4,"div",2),f._UZ(5,"app-alarm-level",3),f._uU(6),f.qZA(),f.TgZ(7,"div",1),f._uU(8,"Violations"),f.qZA(),f.TgZ(9,"div",2),f._uU(10),f.ALo(11,"number"),f.qZA(),f.YNc(12,F,22,15,"ng-container",0),f.YNc(13,G,7,1,"ng-container",0),f.YNc(14,K,9,5,"ng-container",0),f.YNc(15,z,10,6,"ng-container",0),f.YNc(16,ne,8,3,"div",4)),2&e&&(f.Q6J("ngIf","PARAMETER"===t.alarm.type),f.xp6(1),f.Q6J("ngIf","EVENT"===t.alarm.type),f.xp6(4),f.Q6J("level",t.alarm.severity),f.xp6(1),f.hij(" ",t.alarm.severity,"\n"),f.xp6(4),f.hij(" ",f.lcZ(11,10,t.alarm.violations),"\n"),f.xp6(2),f.Q6J("ngIf",t.alarm.parameterDetail),f.xp6(1),f.Q6J("ngIf",t.alarm.eventDetail),f.xp6(1),f.Q6J("ngIf",t.alarm.acknowledgeInfo),f.xp6(1),f.Q6J("ngIf",t.alarm.shelveInfo),f.xp6(1),f.Q6J("ngIf",t.mayControl))},directives:[h.O5,Y.i,i.yS,S.d,$.Y,N.Hw],pipes:[h.JJ,E.V,O.i],styles:[".mat-raised-button[_ngcontent-%COMP%]{margin-right:10px}"],changeDetection:0}),e})();var le=a(8784),oe=a(808),se=a(7340),re=a(6243),ce=a(4311);function me(e,t){1&e&&(f.TgZ(0,"mat-icon",5),f._uU(1,"timer"),f.qZA())}function ue(e,t){1&e&&(f.TgZ(0,"mat-icon",6),f._uU(1,"check_circle"),f.qZA())}function de(e,t){if(1&e&&(f.TgZ(0,"mat-icon",7),f.ALo(1,"async"),f._uU(2,"notifications"),f.qZA()),2&e){const e=f.oxw();f.Udp("visibility",f.lcZ(1,2,e.visibility$)?"visible":"hidden")}}function ge(e,t){1&e&&(f.TgZ(0,"mat-icon",8),f._uU(1,"check_circle_outline"),f.qZA())}function pe(e,t){if(1&e&&(f.TgZ(0,"mat-icon",9),f.ALo(1,"async"),f._uU(2,"notifications_none"),f.qZA()),2&e){const e=f.oxw();f.Udp("visibility",f.lcZ(1,2,e.visibility$)?"visible":"hidden")}}let fe=(()=>{class e{constructor(e){this.visibility$=new m.X(!0),this.syncSubscription=e.syncFast(()=>{this.visibility$.next(!this.visibility$.value)})}ngOnDestroy(){this.syncSubscription&&this.syncSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(re.j))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-alarm-state-icon"]],inputs:{alarm:"alarm"},decls:5,vars:5,consts:[["matTooltip","Shelved",4,"ngIf"],["matTooltip","Active, acknowledged",4,"ngIf"],["matTooltip","Active, unacknowledged",3,"visibility",4,"ngIf"],["matTooltip","RTN, acknowledged",4,"ngIf"],["matTooltip","RTN, unacknowledged",3,"visibility",4,"ngIf"],["matTooltip","Shelved"],["matTooltip","Active, acknowledged"],["matTooltip","Active, unacknowledged"],["matTooltip","RTN, acknowledged"],["matTooltip","RTN, unacknowledged"]],template:function(e,t){1&e&&(f.YNc(0,me,2,0,"mat-icon",0),f.YNc(1,ue,2,0,"mat-icon",1),f.YNc(2,de,3,4,"mat-icon",2),f.YNc(3,ge,2,0,"mat-icon",3),f.YNc(4,pe,3,4,"mat-icon",4)),2&e&&(f.Q6J("ngIf",t.alarm.shelveInfo),f.xp6(1),f.Q6J("ngIf",!t.alarm.shelveInfo&&!t.alarm.processOK&&t.alarm.acknowledged),f.xp6(1),f.Q6J("ngIf",!t.alarm.shelveInfo&&!t.alarm.processOK&&!t.alarm.acknowledged),f.xp6(1),f.Q6J("ngIf",!t.alarm.shelveInfo&&t.alarm.processOK&&t.alarm.acknowledged),f.xp6(1),f.Q6J("ngIf",!t.alarm.shelveInfo&&t.alarm.processOK&&!t.alarm.acknowledged))},directives:[h.O5,N.Hw,ce.gM],pipes:[h.Ov],encapsulation:2}),e})();var he=a(9017),Ze=a(7070),Ae=a(6927);function ve(e,t){1&e&&(f.TgZ(0,"th",19),f._uU(1,"System"),f.qZA())}function we(e,t){if(1&e&&(f.TgZ(0,"td",20),f._uU(1),f.ALo(2,"shortName"),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",f.lcZ(2,1,e.id.namespace)," ")}}function xe(e,t){1&e&&(f.TgZ(0,"th",19),f._uU(1,"Source"),f.qZA())}function Te(e,t){if(1&e&&(f.TgZ(0,"td",20),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",e.id.name," ")}}function ye(e,t){1&e&&(f.TgZ(0,"th",21),f._uU(1,"State"),f.qZA())}function qe(e,t){if(1&e&&(f.TgZ(0,"td",22),f._UZ(1,"app-alarm-state-icon",23),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.Q6J("alarm",e)}}function _e(e,t){1&e&&(f.TgZ(0,"th",19),f._uU(1,"Alarm Time"),f.qZA())}function ke(e,t){if(1&e&&(f.TgZ(0,"td",20),f.TgZ(1,"span",24),f.ALo(2,"datetime"),f._UZ(3,"app-ago",25),f.qZA(),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.Q6J("matTooltip",f.lcZ(2,2,e.triggerTime)),f.xp6(2),f.Q6J("time",e.triggerTime)}}function Ue(e,t){1&e&&(f.TgZ(0,"th",21),f._uU(1,"Severity"),f.qZA())}function be(e,t){if(1&e&&(f.TgZ(0,"td",22),f._UZ(1,"app-alarm-level",26),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.Q6J("level",e.severity)}}function Ce(e,t){1&e&&(f.TgZ(0,"th",27),f._uU(1,"Trip Value"),f.qZA())}function Ne(e,t){1&e&&(f.TgZ(0,"span"),f._uU(1,"\u2193"),f.qZA())}function Ie(e,t){1&e&&(f.TgZ(0,"span"),f._uU(1,"\u2191"),f.qZA())}function Je(e,t){if(1&e&&(f.ynx(0),f._uU(1),f.ALo(2,"value"),f.YNc(3,Ne,2,0,"span",28),f.YNc(4,Ie,2,0,"span",28),f.BQk()),2&e){const e=t.ngIf;f.xp6(1),f.hij(" ",f.lcZ(2,3,e.triggerValue.engValue)," "),f.xp6(2),f.Q6J("ngIf","LOW"===e.triggerValue.rangeCondition),f.xp6(1),f.Q6J("ngIf","HIGH"===e.triggerValue.rangeCondition)}}function Qe(e,t){if(1&e&&(f.TgZ(0,"td",20),f.YNc(1,Je,5,5,"ng-container",28),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.Q6J("ngIf",e.parameterDetail)}}function Ye(e,t){1&e&&(f.TgZ(0,"th",27),f._uU(1,"Live Value"),f.qZA())}function Se(e,t){1&e&&(f.TgZ(0,"span"),f._uU(1,"\u2193"),f.qZA())}function $e(e,t){1&e&&(f.TgZ(0,"span"),f._uU(1,"\u2191"),f.qZA())}function Ee(e,t){if(1&e&&(f.ynx(0),f._uU(1),f.ALo(2,"value"),f.YNc(3,Se,2,0,"span",28),f.YNc(4,$e,2,0,"span",28),f.BQk()),2&e){const e=t.ngIf;f.xp6(1),f.hij(" ",f.lcZ(2,3,e.currentValue.engValue)," "),f.xp6(2),f.Q6J("ngIf","LOW"===e.currentValue.rangeCondition),f.xp6(1),f.Q6J("ngIf","HIGH"===e.currentValue.rangeCondition)}}function Oe(e,t){if(1&e&&(f.TgZ(0,"td",20),f.YNc(1,Ee,5,5,"ng-container",28),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.Q6J("ngIf",e.parameterDetail)}}function Me(e,t){1&e&&(f.TgZ(0,"th",27),f._uU(1,"Violations"),f.qZA())}function He(e,t){if(1&e&&(f.TgZ(0,"td",29),f._uU(1),f.ALo(2,"number"),f.ALo(3,"number"),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.AsE(" ",f.lcZ(2,2,e.violations)," (",f.xi3(3,4,e.violations/e.count*100,"1.2-2"),"%) ")}}function Le(e,t){1&e&&f._UZ(0,"th",30)}function De(e,t){if(1&e&&(f.TgZ(0,"button",35),f.NdJ("click",function(e){return e.stopPropagation()}),f.TgZ(1,"mat-icon"),f._uU(2,"more_vert"),f.qZA(),f.qZA()),2&e){f.oxw();const e=f.MAs(2);f.Q6J("matMenuTriggerFor",e)}}function Ve(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"td",29),f.TgZ(1,"mat-menu",31,32),f.TgZ(3,"button",33),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().acknowledgeAlarm.emit(t)}),f._uU(4," Acknowledge... "),f.qZA(),f.TgZ(5,"button",33),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().shelveAlarm.emit(t)}),f._uU(6," Shelve... "),f.qZA(),f.TgZ(7,"button",33),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().unshelveAlarm.emit(t)}),f._uU(8," Unshelve "),f.qZA(),f.qZA(),f.YNc(9,De,3,1,"button",34),f.qZA()}if(2&e){const e=t.$implicit,a=f.oxw();f.xp6(3),f.Q6J("disabled",e.shelveInfo||e.acknowledged),f.xp6(2),f.Q6J("disabled",e.shelveInfo),f.xp6(2),f.Q6J("disabled",!e.shelveInfo),f.xp6(2),f.Q6J("ngIf",a.mayControl)}}function Be(e,t){1&e&&f._UZ(0,"tr",36)}function Pe(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"tr",37),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().toggleOne(t)}),f.qZA()}if(2&e){const e=t.$implicit,a=f.oxw();f.ekj("selected",a.selection.isSelected(e))("hide",a.hideAlarm(e))}}let je=(()=>{class e{constructor(e){this.yamcs=e,this.displayedColumns=["state","severity","time","system","source","trip_value","live_value","actions"],this.view="standard",this.mayControl=!1,this.acknowledgeAlarm=new f.vpe,this.shelveAlarm=new f.vpe,this.unshelveAlarm=new f.vpe,this.tableTrackerFn=(e,t)=>t.id.name}toggleOne(e){(!this.selection.isSelected(e)||this.selection.selected.length>1)&&this.selection.clear(),this.selection.toggle(e)}hideAlarm(e){return"standard"===this.view?!!e.shelveInfo:"all"!==this.view&&("unacknowledged"===this.view?!!e.shelveInfo||e.acknowledged:"acknowledged"===this.view?!!e.shelveInfo||!e.acknowledged:"shelved"===this.view?!e.shelveInfo:void 0)}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(g.C))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-alarms-table"]],inputs:{dataSource:"dataSource",selection:"selection",view:"view",mayControl:"mayControl"},outputs:{acknowledgeAlarm:"acknowledgeAlarm",shelveAlarm:"shelveAlarm",unshelveAlarm:"unshelveAlarm"},decls:30,vars:6,consts:[["mat-table","",1,"ya-data-table",3,"dataSource","trackBy"],["matColumnDef","system"],["mat-header-cell","","style","width: 100px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","source"],["matColumnDef","state"],["mat-header-cell","","class","status",4,"matHeaderCellDef"],["mat-cell","","class","status",4,"matCellDef"],["matColumnDef","time"],["matColumnDef","severity"],["matColumnDef","trip_value"],["mat-header-cell","","style","width: 90px",4,"matHeaderCellDef"],["matColumnDef","live_value"],["matColumnDef","violations"],["mat-cell","","style","text-align: right",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","hide","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",2,"width","100px"],["mat-cell",""],["mat-header-cell","",1,"status"],["mat-cell","",1,"status"],[3,"alarm"],[3,"matTooltip"],[3,"time"],[3,"level"],["mat-header-cell","",2,"width","90px"],[4,"ngIf"],["mat-cell","",2,"text-align","right"],["mat-header-cell",""],["overlapTrigger","false",1,"ya-menu"],["alarmMenu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-button","","class","icon",3,"matMenuTriggerFor","click",4,"ngIf"],["mat-button","",1,"icon",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"table",0),f.ynx(1,1),f.YNc(2,ve,2,0,"th",2),f.YNc(3,we,3,3,"td",3),f.BQk(),f.ynx(4,4),f.YNc(5,xe,2,0,"th",2),f.YNc(6,Te,2,1,"td",3),f.BQk(),f.ynx(7,5),f.YNc(8,ye,2,0,"th",6),f.YNc(9,qe,2,1,"td",7),f.BQk(),f.ynx(10,8),f.YNc(11,_e,2,0,"th",2),f.YNc(12,ke,4,4,"td",3),f.BQk(),f.ynx(13,9),f.YNc(14,Ue,2,0,"th",6),f.YNc(15,be,2,1,"td",7),f.BQk(),f.ynx(16,10),f.YNc(17,Ce,2,0,"th",11),f.YNc(18,Qe,2,1,"td",3),f.BQk(),f.ynx(19,12),f.YNc(20,Ye,2,0,"th",11),f.YNc(21,Oe,2,1,"td",3),f.BQk(),f.ynx(22,13),f.YNc(23,Me,2,0,"th",11),f.YNc(24,He,4,7,"td",14),f.BQk(),f.ynx(25,15),f.YNc(26,Le,1,0,"th",16),f.YNc(27,Ve,10,4,"td",14),f.BQk(),f.YNc(28,Be,1,0,"tr",17),f.YNc(29,Pe,1,4,"tr",18),f.qZA()),2&e&&(f.ekj("hide",t.dataSource.isEmpty()),f.Q6J("dataSource",t.dataSource)("trackBy",t.tableTrackerFn),f.xp6(28),f.Q6J("matHeaderRowDef",t.displayedColumns),f.xp6(1),f.Q6J("matRowDefColumns",t.displayedColumns))},directives:[se.BZ,se.w1,se.fO,se.Dz,se.as,se.nj,se.ge,se.ev,fe,ce.gM,he.E,Y.i,h.O5,Ze.VK,Ze.OP,J.lW,Ze.p6,N.Hw,se.XQ,se.Gk],pipes:[Ae.y,O.i,E.V,h.JJ],styles:[".hide[_ngcontent-%COMP%]{display:none}"]}),e})();function Fe(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"button",9),f.NdJ("click",function(){f.CHM(e);const t=f.oxw();return t.acknowledgeAlarms(t.selection.selected)}),f.TgZ(1,"mat-icon"),f._uU(2,"notifications_off"),f.qZA(),f._uU(3," ACKNOWLEDGE "),f.qZA()}if(2&e){const e=f.oxw();f.Q6J("disabled",!e.selection.hasValue())}}function Ge(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"button",9),f.NdJ("click",function(){f.CHM(e);const t=f.oxw();return t.shelveAlarms(t.selection.selected)}),f.TgZ(1,"mat-icon"),f._uU(2,"timer"),f.qZA(),f._uU(3," SHELVE "),f.qZA()}if(2&e){const e=f.oxw();f.Q6J("disabled",!e.selection.hasValue())}}function Re(e,t){if(1&e){const e=f.EpF();f.ynx(0),f.TgZ(1,"app-detail-toolbar"),f._uU(2," Alarm Detail "),f.qZA(),f.TgZ(3,"div",10),f.TgZ(4,"app-alarm-detail",11),f.NdJ("acknowledgeAlarm",function(t){return f.CHM(e),f.oxw().acknowledgeAlarms([t])})("shelveAlarm",function(t){return f.CHM(e),f.oxw().shelveAlarms([t])})("unshelveAlarm",function(t){return f.CHM(e),f.oxw().unshelveAlarms([t])})("clearAlarm",function(t){return f.CHM(e),f.oxw().clearAlarms([t])}),f.qZA(),f.qZA(),f.BQk()}if(2&e){const e=t.ngIf,a=f.oxw();f.xp6(4),f.Q6J("alarm",e)("mayControl",a.mayControlAlarms())}}function Ke(e,t){1&e&&(f.TgZ(0,"app-detail-toolbar"),f._uU(1," Select an alarm "),f.qZA())}const We=function(e){return{c:e,view:"unacknowledged"}},Xe=function(e){return{c:e,view:"acknowledged"}},ze=function(e){return{c:e,view:"shelved"}};function et(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"div",12),f.TgZ(1,"dl",13),f.TgZ(2,"dt"),f._uU(3,"Unacknowledged alarms:"),f.qZA(),f.TgZ(4,"dd"),f.TgZ(5,"a",14),f.TgZ(6,"strong"),f._uU(7),f.ALo(8,"async"),f.qZA(),f.qZA(),f._UZ(9,"br"),f.qZA(),f.TgZ(10,"dt"),f._uU(11,"Acknowledged alarms:"),f.qZA(),f.TgZ(12,"dd"),f.TgZ(13,"a",14),f.TgZ(14,"strong"),f._uU(15),f.ALo(16,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(17,"dt"),f._uU(18,"Shelved alarms:"),f.qZA(),f.TgZ(19,"dd"),f.TgZ(20,"a",14),f.TgZ(21,"strong"),f._uU(22),f.ALo(23,"async"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(24,"form",15),f.TgZ(25,"div",16),f._UZ(26,"app-search-filter",17),f._UZ(27,"app-select",18),f.qZA(),f.qZA(),f.TgZ(28,"app-alarms-table",19),f.NdJ("acknowledgeAlarm",function(t){return f.CHM(e),f.oxw().acknowledgeAlarms([t])})("shelveAlarm",function(t){return f.CHM(e),f.oxw().shelveAlarms([t])})("unshelveAlarm",function(t){return f.CHM(e),f.oxw().unshelveAlarms([t])})("clearAlarm",function(t){return f.CHM(e),f.oxw().clearAlarms([t])}),f.ALo(29,"async"),f.qZA(),f.qZA()}if(2&e){const e=f.oxw();let t,a,n;f.xp6(5),f.Q6J("queryParams",f.VKq(20,We,e.yamcs.context)),f.xp6(2),f.Oqu(null==(t=f.lcZ(8,12,e.dataSource.unacknowledgedAlarms$))?null:t.length),f.xp6(6),f.Q6J("queryParams",f.VKq(22,Xe,e.yamcs.context)),f.xp6(2),f.Oqu(null==(a=f.lcZ(16,14,e.dataSource.acknowledgedAlarms$))?null:a.length),f.xp6(5),f.Q6J("queryParams",f.VKq(24,ze,e.yamcs.context)),f.xp6(2),f.Oqu(null==(n=f.lcZ(23,16,e.dataSource.shelvedAlarms$))?null:n.length),f.xp6(2),f.Q6J("formGroup",e.filterForm),f.xp6(3),f.Q6J("options",e.viewOptions),f.xp6(1),f.Q6J("dataSource",e.dataSource)("selection",e.selection)("view",f.lcZ(29,18,e.view$))("mayControl",e.mayControlAlarms())}}const tt=[{path:"",canActivate:[o.a,l.z],canActivateChild:[o.a],runGuardsAndResolvers:"always",component:s.K,children:[{path:"",pathMatch:"full",component:(()=>{class e{constructor(e,t,a,n,i,l){this.yamcs=e,this.route=t,this.router=a,this.dialog=i,this.authService=l,this.filterForm=new c.cw({filter:new c.NI,view:new c.NI("standard")}),this.detailAlarm$=new m.X(null),this.selection=new r.Ov(!1,[]),this.viewOptions=[{id:"standard",label:"Standard view (ack & unack)"},{id:"unacknowledged",label:"Unacknowledged alarms"},{id:"acknowledged",label:"Acknowledged alarms"},{id:"shelved",label:"Shelved alarms"},{id:"all",label:"All alarms"}],this.view$=new m.X("standard"),n.setTitle("Alarms"),this.selectionSubscription=this.selection.changed.subscribe(()=>{const e=this.selection.selected;this.detailAlarm$.next(1===e.length?e[0]:null)}),this.dataSource=new x(this.yamcs),this.dataSource.loadAlarms(),this.alarmsSubscription=this.dataSource.alarms$.subscribe(e=>{const t=this.detailAlarm$.value;if(t)for(const n of e)if(this.isSameAlarm(n,t)){this.detailAlarm$.next(n);break}const a=this.selection.selected;this.selection.clear();for(const n of a)for(const t of e)if(this.isSameAlarm(n,t)){this.selection.toggle(t);break}}),this.initializeOptions(),this.filterForm.get("filter").valueChanges.pipe((0,u.b)(400)).forEach(e=>{this.filter=e,this.updateURL(),this.dataSource.setFilter(e)}),this.filterForm.get("view").valueChanges.forEach(e=>{this.view$.next(e),this.updateURL(),this.selection.clear()})}initializeOptions(){const e=this.route.snapshot.queryParamMap;if(e.has("filter")&&(this.filter=e.get("filter")||"",this.filterForm.get("filter").setValue(this.filter)),e.has("view")){const t=e.get("view");this.view$.next(t),this.filterForm.get("view").setValue(t)}}isSameAlarm(e,t){return e.seqNum===t.seqNum&&e.id.namespace===t.id.namespace&&e.id.name===t.id.name&&e.triggerTime===t.triggerTime}acknowledgeAlarms(e){this.dialog.open(v,{width:"400px",data:{alarms:e}})}shelveAlarms(e){this.dialog.open(_,{width:"400px",data:{alarms:e}})}unshelveAlarms(e){for(const t of e)this.yamcs.yamcsClient.editAlarm(this.yamcs.instance,this.yamcs.processor,t.id.namespace+"/"+t.id.name,t.seqNum,{state:"unshelved"})}clearAlarms(e){for(const t of e)this.yamcs.yamcsClient.editAlarm(this.yamcs.instance,this.yamcs.processor,t.id.namespace+"/"+t.id.name,t.seqNum,{state:"cleared"})}mayControlAlarms(){return this.authService.getUser().hasSystemPrivilege("ControlAlarms")}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{filter:this.filter||null,view:this.view$.value||null},queryParamsHandling:"merge"})}ngOnDestroy(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.alarmsSubscription&&this.alarmsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(g.C),f.Y36(i.gz),f.Y36(i.F0),f.Y36(k.Dx),f.Y36(p.uw),f.Y36(d.e))},e.\u0275cmp=f.Xpm({type:e,selectors:[["ng-component"]],decls:46,vars:8,consts:[[3,"hasDetailPane"],[1,"ya-data-table"],["width","1"],[1,"icon16",2,"vertical-align","middle"],["mat-button","","color","primary",3,"disabled","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["noDetail",""],[1,"table-wrapper"],["class","panel-content",4,"ngIf"],["mat-button","","color","primary",3,"disabled","click"],[2,"padding","0 16px"],[3,"alarm","mayControl","acknowledgeAlarm","shelveAlarm","unshelveAlarm","clearAlarm"],[1,"panel-content"],[1,"dl-horizontal",2,"margin-top","0"],["routerLink","/alarms",1,"ya-link",3,"queryParams"],[3,"formGroup"],[1,"filter-bar"],["formControlName","filter","placeholder","Filter by text search"],["formControlName","view",3,"options"],[3,"dataSource","selection","view","mayControl","acknowledgeAlarm","shelveAlarm","unshelveAlarm","clearAlarm"]],template:function(e,t){if(1&e&&(f.TgZ(0,"app-instance-page"),f.TgZ(1,"app-instance-toolbar",0),f._uU(2," Alarms "),f.TgZ(3,"app-help"),f._uU(4," An alarm can be in these states: "),f.TgZ(5,"table",1),f.TgZ(6,"tr"),f.TgZ(7,"td",2),f.TgZ(8,"mat-icon",3),f._uU(9,"notifications"),f.qZA(),f.qZA(),f.TgZ(10,"td"),f._uU(11," The alarm is unacknowledged and the cause of the alarm still exists. "),f.qZA(),f.qZA(),f.TgZ(12,"tr"),f.TgZ(13,"td"),f.TgZ(14,"mat-icon",3),f._uU(15,"notifications_none"),f.qZA(),f.qZA(),f.TgZ(16,"td"),f._uU(17," The alarm is unacknowledged and the cause that generated the alarm no longer exists. "),f.qZA(),f.qZA(),f.TgZ(18,"tr"),f.TgZ(19,"td"),f.TgZ(20,"mat-icon",3),f._uU(21,"check_circle"),f.qZA(),f.qZA(),f.TgZ(22,"td"),f._uU(23," The alarm is acknowledged and the cause of the alarm still exists. "),f.qZA(),f.qZA(),f.TgZ(24,"tr"),f.TgZ(25,"td"),f.TgZ(26,"mat-icon",3),f._uU(27,"check_circle_outline"),f.qZA(),f.qZA(),f.TgZ(28,"td"),f._uU(29," The alarm is acknowledged and the cause that generated the alarm no longer exists. "),f.qZA(),f.qZA(),f.TgZ(30,"tr"),f.TgZ(31,"td"),f.TgZ(32,"mat-icon",3),f._uU(33,"timer"),f.qZA(),f.qZA(),f.TgZ(34,"td"),f._uU(35," The alarm was shelved. "),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f._uU(36," \xa0\xa0\xa0 "),f.YNc(37,Fe,4,1,"button",4),f.YNc(38,Ge,4,1,"button",4),f.qZA(),f.TgZ(39,"app-detail-pane"),f.YNc(40,Re,5,2,"ng-container",5),f.ALo(41,"async"),f.YNc(42,Ke,2,0,"ng-template",null,6,f.W1O),f.qZA(),f.TgZ(44,"div",7),f.YNc(45,et,30,26,"div",8),f.qZA(),f.qZA()),2&e){const e=f.MAs(43);f.xp6(1),f.Q6J("hasDetailPane",!0),f.xp6(36),f.Q6J("ngIf",t.mayControlAlarms()),f.xp6(1),f.Q6J("ngIf",t.mayControlAlarms()),f.xp6(2),f.Q6J("ngIf",f.lcZ(41,6,t.detailAlarm$))("ngIfElse",e),f.xp6(5),f.Q6J("ngIf",t.dataSource)}},directives:[U.a,b.k,C.W,N.Hw,h.O5,I.Z,J.lW,Q.j,ie,i.yS,c._Y,c.JL,c.sg,le.a,c.JJ,c.u,oe.P,je],pipes:[h.Ov],styles:[".detail[_ngcontent-%COMP%]{background-color:#fcfcfc;float:right;width:450px;border-left:1px solid #d3d3d3;box-sizing:border-box}.detail[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]{height:100%;overflow:auto}.table-wrapper[_ngcontent-%COMP%]{position:relative}mat-row[_ngcontent-%COMP%]{cursor:pointer}mat-row[_ngcontent-%COMP%]:hover{background:#fafafa}"],changeDetection:0}),e})()}]}];let at=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[i.Bz.forChild(tt)],i.Bz]}),e})(),nt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[n.m,at]]}),e})()}}]);