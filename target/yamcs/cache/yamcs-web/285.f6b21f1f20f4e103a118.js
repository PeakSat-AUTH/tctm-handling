(self.webpackChunk_yamcs_webapp=self.webpackChunk_yamcs_webapp||[]).push([[285],{8285:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AdminModule:()=>dc});var a=n(7290),i=n(3337),o=n(4017),s=n(7187),r=n(1496),c=n(5609),l=n(9241),u=n(7340),p=n(8293),m=n(8378);class d extends m.Ov{constructor(t,e,n){super(e,n),this.tracker=t}matchNewValues(t){const e=[];for(const i of t)e.push(this.tracker(-1,i));const n=this.selected.map(t=>this.tracker(-1,t)),a=[];for(const i of t){const t=this.tracker(-1,i);-1!==n.indexOf(t)&&a.push(i)}this.clear(),a.length&&this.select(...a)}isSelected(t){const e=this.tracker(-1,t);for(const n of this.selected)if(e===this.tracker(-1,n))return!0;return!1}}var h=n(5366),g=n(9624),f=n(6243);const Z=[[["app-admin-toolbar"]],[["app-detail-pane"]],"*"],A=["app-admin-toolbar","app-detail-pane","*"];let T=(()=>{class t{constructor(){this.noscroll=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-admin-page"]],inputs:{noscroll:"noscroll"},ngContentSelectors:A,decls:4,vars:2,consts:[[1,"page-content"]],template:function(t,e){1&t&&(h.F$t(Z),h.Hsn(0),h.TgZ(1,"div",0),h.Hsn(2,1),h.Hsn(3,2),h.qZA()),2&t&&(h.xp6(1),h.Udp("overflow",e.noscroll?"hidden":"auto"))},styles:[".page-content[_ngcontent-%COMP%]{position:absolute;top:49px;bottom:0;left:0;right:0;overflow:auto}"],changeDetection:0}),t})();var b=n(5847),y=n(7112),q=n(1116),x=n(4369);function U(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(t),h.oxw(2).showDetailPane(!0)}),h._uU(1," SHOW INFO PANEL "),h.qZA()}}function w(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(t),h.oxw(2).showDetailPane(!1)}),h._uU(1," HIDE INFO PANEL "),h.qZA()}}function _(t,e){if(1&t&&(h.ynx(0),h.YNc(1,U,2,0,"button",3),h.ALo(2,"async"),h.YNc(3,w,2,0,"button",3),h.ALo(4,"async"),h.BQk()),2&t){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",!h.lcZ(2,2,t.showDetailPane$)),h.xp6(2),h.Q6J("ngIf",h.lcZ(4,4,t.showDetailPane$))}}const v=["*"];let C=(()=>{class t{constructor(t){this.preferenceStore=t,this.hasDetailPane=!1,this.showDetailPane$=t.detailPane$}showDetailPane(t){this.preferenceStore.setShowDetailPane(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(b.V))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-admin-toolbar"]],inputs:{hasDetailPane:"hasDetailPane"},ngContentSelectors:v,decls:5,vars:1,consts:[[1,"top"],[2,"flex","1 1 auto"],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(h.F$t(),h.TgZ(0,"mat-toolbar",0),h.TgZ(1,"mat-toolbar-row"),h.Hsn(2),h._UZ(3,"span",1),h.YNc(4,_,5,6,"ng-container",2),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.Q6J("ngIf",e.hasDetailPane))},directives:[y.Ye,y.rD,q.O5,x.lW],pipes:[q.Ov],styles:["mat-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;background-color:#fff;box-sizing:initial;color:rgba(0,0,0,.65)}mat-toolbar-row[_ngcontent-%COMP%]{padding-left:24px}.hide[_ngcontent-%COMP%]{visibility:hidden}.toolbar-text[_ngcontent-%COMP%]{font-size:12px}"],changeDetection:0}),t})();var D=n(7307),N=n(2619),Y=n(5722),k=n(7070),S=n(3116),Q=n(3581);function J(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"th",23),h.TgZ(1,"input",24),h.NdJ("change",function(e){h.CHM(t);const n=h.oxw();return e?n.masterToggle():null}),h.qZA(),h.qZA()}if(2&t){const t=h.oxw();h.xp6(1),h.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())}}function I(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"td",25),h.TgZ(1,"input",26),h.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=h.CHM(t).$implicit,a=h.oxw();return e?a.selection.toggle(n):null}),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw();h.xp6(1),h.Q6J("checked",n.selection.isSelected(t))}}function $(t,e){1&t&&(h.TgZ(0,"th",27),h._uU(1,"Id"),h.qZA())}function O(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.id)}}function L(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"User Agent"),h.qZA())}function M(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu((null==t.httpRequest?null:t.httpRequest.userAgent)||"-")}}function R(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Protocol"),h.qZA())}function B(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu((null==t.httpRequest?null:t.httpRequest.protocol)||"-")}}function H(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Remote Address"),h.qZA())}function E(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.remoteAddress||"-")}}function P(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Read"),h.qZA())}function F(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.ALo(2,"formatBytes"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,t.readBytes)||"-")}}function j(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Written"),h.qZA())}function G(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.ALo(2,"formatBytes"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,t.writtenBytes)||"-")}}function X(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Rx"),h.qZA())}function z(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.ALo(2,"dataRate"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,8*t.readThroughput))}}function V(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Tx"),h.qZA())}function W(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.ALo(2,"dataRate"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,8*t.writeThroughput))}}function K(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Request"),h.qZA())}function tt(t,e){if(1&t&&(h.TgZ(0,"td",28),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.AsE(" ",null==t.httpRequest?null:t.httpRequest.method," ",null==t.httpRequest?null:t.httpRequest.uri," ")}}function et(t,e){1&t&&h._UZ(0,"th",30)}function nt(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"td",28),h.TgZ(1,"mat-menu",31,32),h.TgZ(3,"button",33),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw().closeConnection(e.id)}),h._uU(4," Kill "),h.qZA(),h.qZA(),h.TgZ(5,"button",34),h.NdJ("click",function(t){return t.stopPropagation()}),h.TgZ(6,"mat-icon"),h._uU(7,"more_vert"),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=h.MAs(2);h.xp6(5),h.Q6J("matMenuTriggerFor",t)}}function at(t,e){1&t&&h._UZ(0,"tr",35)}function it(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr",36),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw().toggleOne(e)}),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw();h.ekj("selected",n.selection.isSelected(t))}}let ot=(()=>{class t{constructor(t,e,n){this.yamcs=t,this.displayedColumns=["select","id","protocol","remoteAddress","readBytes","writtenBytes","readThroughput","writeThroughput","request","actions"],this.tableTrackerFn=(t,e)=>e.id,this.dataSource=new u.by,this.selection=new d(this.tableTrackerFn,!0,[]),e.setTitle("Client connections"),this.refresh(),this.syncSubscription=n.syncSlow(()=>this.refresh())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}toggleOne(t){(!this.selection.isSelected(t)||this.selection.selected.length>1)&&this.selection.clear(),this.selection.toggle(t)}refresh(){this.yamcs.yamcsClient.getClientConnections().then(t=>{this.selection.matchNewValues(t||[]),this.dataSource.data=t||[]})}closeSelectedConnections(){for(const t of this.selection.selected)this.closeConnection(t.id)}closeConnection(t){this.yamcs.yamcsClient.closeClientConnection(t).then(()=>this.refresh())}isGroupCloseEnabled(){return!this.selection.isEmpty()}ngOnDestroy(){this.syncSubscription&&this.syncSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(f.j))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(h.Gf(l.YE,5),h.Gf(c.NW,5)),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first),h.iGM(t=h.CRH())&&(e.paginator=t.first)}},decls:46,vars:8,consts:[["mat-button","","color","primary",3,"disabled","click"],[1,"panel-content"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource","trackBy"],["cdkColumnDef","select"],["mat-header-cell","","class","checkbox",4,"cdkHeaderCellDef"],["mat-cell","","class","checkbox",4,"cdkCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","width","100",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userAgent"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","protocol"],["matColumnDef","remoteAddress"],["matColumnDef","readBytes"],["matColumnDef","writtenBytes"],["matColumnDef","readThroughput"],["matColumnDef","writeThroughput"],["matColumnDef","request"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],[3,"pageSize","hidePageSize","showFirstLastButtons"],["mat-header-cell","",1,"checkbox"],["type","checkbox",3,"checked","change"],["mat-cell","",1,"checkbox"],["type","checkbox",3,"checked","click","change"],["mat-header-cell","","mat-sort-header","","width","100"],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-header-cell",""],["overlapTrigger","false",1,"ya-menu"],["connMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-button","",1,"icon",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Client connections \xa0\xa0\xa0 "),h.TgZ(3,"button",0),h.NdJ("click",function(){return e.closeSelectedConnections()}),h.TgZ(4,"mat-icon"),h._uU(5,"close"),h.qZA(),h._uU(6," KILL "),h.qZA(),h.qZA(),h.TgZ(7,"div",1),h.TgZ(8,"app-table-container"),h.TgZ(9,"table",2),h.ynx(10,3),h.YNc(11,J,2,1,"th",4),h.YNc(12,I,2,1,"td",5),h.BQk(),h.ynx(13,6),h.YNc(14,$,2,0,"th",7),h.YNc(15,O,2,1,"td",8),h.BQk(),h.ynx(16,9),h.YNc(17,L,2,0,"th",10),h.YNc(18,M,2,1,"td",8),h.BQk(),h.ynx(19,11),h.YNc(20,R,2,0,"th",10),h.YNc(21,B,2,1,"td",8),h.BQk(),h.ynx(22,12),h.YNc(23,H,2,0,"th",10),h.YNc(24,E,2,1,"td",8),h.BQk(),h.ynx(25,13),h.YNc(26,P,2,0,"th",10),h.YNc(27,F,3,3,"td",8),h.BQk(),h.ynx(28,14),h.YNc(29,j,2,0,"th",10),h.YNc(30,G,3,3,"td",8),h.BQk(),h.ynx(31,15),h.YNc(32,X,2,0,"th",10),h.YNc(33,z,3,3,"td",8),h.BQk(),h.ynx(34,16),h.YNc(35,V,2,0,"th",10),h.YNc(36,W,3,3,"td",8),h.BQk(),h.ynx(37,17),h.YNc(38,K,2,0,"th",10),h.YNc(39,tt,2,2,"td",8),h.BQk(),h.ynx(40,18),h.YNc(41,et,1,0,"th",19),h.YNc(42,nt,8,1,"td",8),h.BQk(),h.YNc(43,at,1,0,"tr",20),h.YNc(44,it,1,2,"tr",21),h.qZA(),h._UZ(45,"mat-paginator",22),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(3),h.Q6J("disabled",!e.isGroupCloseEnabled()),h.xp6(6),h.Q6J("dataSource",e.dataSource)("trackBy",e.tableTrackerFn),h.xp6(34),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns),h.xp6(1),h.Q6J("pageSize",100)("hidePageSize",!0)("showFirstLastButtons",!0))},directives:[T,C,x.lW,D.Hw,N.x,u.BZ,l.YE,Y.fo,Y.D5,Y.O_,u.w1,u.fO,u.Dz,u.as,u.nj,c.NW,u.ge,u.ev,l.nU,k.VK,k.OP,k.p6,u.XQ,u.Gk],pipes:[S.b,Q.z],encapsulation:2,changeDetection:0}),t})();var st=n(8512),rt=n(3835),ct=n(7173);const lt=function(t){return["/admin/databases",t,"tables"]};function ut(t,e){if(1&t&&(h.TgZ(0,"a",3),h._uU(1," Tables "),h.qZA()),2&t){const t=h.oxw(2).ngIf;h.Q6J("routerLink",h.VKq(1,lt,t.name))}}const pt=function(t){return["/admin/databases",t,"streams"]};function mt(t,e){if(1&t&&(h.TgZ(0,"a",3),h._uU(1," Streams "),h.qZA()),2&t){const t=h.oxw(2).ngIf;h.Q6J("routerLink",h.VKq(1,pt,t.name))}}function dt(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"mat-icon",2),h._uU(2,"navigate_next"),h.qZA(),h.YNc(3,ut,2,3,"a",6),h.YNc(4,mt,2,3,"a",6),h.TgZ(5,"mat-icon",2),h._uU(6,"navigate_next"),h.qZA(),h._uU(7),h.BQk()),2&t){const t=e.ngIf;h.xp6(3),h.Q6J("ngIf","table"===t.type),h.xp6(1),h.Q6J("ngIf","stream"===t.type),h.xp6(3),h.hij(" ",t.name," ")}}const ht=function(t){return["/admin/databases",t,"shell"]};function gt(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"a",7,8),h._uU(3," Tables "),h.qZA(),h.TgZ(4,"a",7,9),h._uU(6," Streams "),h.qZA(),h.TgZ(7,"a",7,10),h._uU(9," DB Shell "),h.qZA(),h.BQk()),2&t){const t=h.MAs(2),e=h.MAs(5),n=h.MAs(8),a=h.oxw().ngIf;h.xp6(1),h.Q6J("routerLink",h.VKq(6,lt,a.name))("active",t.isActive),h.xp6(3),h.Q6J("routerLink",h.VKq(8,pt,a.name))("active",e.isActive),h.xp6(3),h.Q6J("routerLink",h.VKq(10,ht,a.name))("active",n.isActive)}}const ft=function(t,e){return["/admin/databases",t,"tables",e,"info"]},Zt=function(t,e){return["/admin/databases",t,"tables",e,"data"]},At=function(t,e){return["/admin/databases",t,"tables",e,"script"]};function Tt(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"a",7,11),h._uU(3," Info "),h.qZA(),h.TgZ(4,"a",7,12),h._uU(6," Data "),h.qZA(),h.TgZ(7,"a",7,13),h._uU(9," Script "),h.qZA(),h.BQk()),2&t){const t=h.MAs(2),e=h.MAs(5),n=h.MAs(8),a=h.oxw().ngIf,i=h.oxw().ngIf;h.xp6(1),h.Q6J("routerLink",h.WLB(6,ft,i.name,a.name))("active",t.isActive),h.xp6(3),h.Q6J("routerLink",h.WLB(9,Zt,i.name,a.name))("active",e.isActive),h.xp6(3),h.Q6J("routerLink",h.WLB(12,At,i.name,a.name))("active",n.isActive)}}const bt=function(t,e){return["/admin/databases",t,"streams",e,"columns"]},yt=function(t,e){return["/admin/databases",t,"streams",e,"data"]},qt=function(t,e){return["/admin/databases",t,"streams",e,"script"]};function xt(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"a",7,14),h._uU(3," Columns "),h.qZA(),h.TgZ(4,"a",7,15),h._uU(6," Data "),h.qZA(),h.TgZ(7,"a",7,16),h._uU(9," Script "),h.qZA(),h.BQk()),2&t){const t=h.MAs(2),e=h.MAs(5),n=h.MAs(8),a=h.oxw().ngIf,i=h.oxw().ngIf;h.xp6(1),h.Q6J("routerLink",h.WLB(6,bt,i.name,a.name))("active",t.isActive),h.xp6(3),h.Q6J("routerLink",h.WLB(9,yt,i.name,a.name))("active",e.isActive),h.xp6(3),h.Q6J("routerLink",h.WLB(12,qt,i.name,a.name))("active",n.isActive)}}function Ut(t,e){if(1&t&&(h.ynx(0),h.YNc(1,Tt,10,15,"ng-container",0),h.YNc(2,xt,10,15,"ng-container",0),h.BQk()),2&t){const t=e.ngIf;h.xp6(1),h.Q6J("ngIf","table"===t.type),h.xp6(1),h.Q6J("ngIf","stream"===t.type)}}const wt=function(t){return["/admin/databases",t]};function _t(t,e){if(1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h.TgZ(2,"a",1),h.TgZ(3,"mat-icon"),h._uU(4,"account_tree"),h.qZA(),h.qZA(),h.TgZ(5,"mat-icon",2),h._uU(6,"navigate_next"),h.qZA(),h.TgZ(7,"a",3),h._uU(8),h.qZA(),h.YNc(9,dt,8,3,"ng-container",0),h.ALo(10,"async"),h.qZA(),h.TgZ(11,"nav",4),h.YNc(12,gt,10,12,"ng-container",0),h.ALo(13,"async"),h.YNc(14,Ut,3,2,"ng-container",0),h.ALo(15,"async"),h.qZA(),h.TgZ(16,"div",5),h._UZ(17,"router-outlet"),h.qZA(),h.qZA()),2&t){const t=e.ngIf,n=h.oxw();h.xp6(7),h.Q6J("routerLink",h.VKq(11,wt,t.name)),h.xp6(1),h.hij(" ",t.name," "),h.xp6(1),h.Q6J("ngIf",h.lcZ(10,5,n.object$)),h.xp6(3),h.Q6J("ngIf",!h.lcZ(13,7,n.object$)),h.xp6(2),h.Q6J("ngIf",h.lcZ(15,9,n.object$))}}let vt=(()=>{class t{constructor(t,e,n,a){this.yamcs=n,this.object$=new st.X(null),this.routerSubscription=t.events.pipe((0,rt.h)(t=>t instanceof i.m2)).subscribe(t=>{const n=e.snapshot.firstChild;let a=n.paramMap.get("table");a?this.object$.next({type:"table",name:a}):(a=n.paramMap.get("stream"),this.object$.next(a?{type:"stream",name:a}:null))});const o=e.snapshot.paramMap.get("database");a.setTitle(o),this.database$=n.yamcsClient.getDatabase(o)}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.F0),h.Y36(i.gz),h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-icon-button","","routerLink","/admin/databases"],[1,"icon14","sep"],[1,"ya-link","ya-header-link",3,"routerLink"],["mat-tab-nav-bar",""],[1,"outlet-wrapper"],["class","ya-link ya-header-link",3,"routerLink",4,"ngIf"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"],["rlb","routerLinkActive"],["rlc","routerLinkActive"],["rla1","routerLinkActive"],["rla2","routerLinkActive"],["rla3","routerLinkActive"],["rlb1","routerLinkActive"],["rlb2","routerLinkActive"],["rlb3","routerLinkActive"]],template:function(t,e){1&t&&(h.YNc(0,_t,18,13,"app-admin-page",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.database$))},directives:[q.O5,T,C,x.zs,i.yS,D.Hw,ct.BU,i.lC,ct.Nj,i.Od],pipes:[q.Ov],styles:[".outlet-wrapper[_ngcontent-%COMP%]{overflow:auto;position:absolute;top:49px;bottom:0;left:0;right:0}.sep[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}"],changeDetection:0}),t})();class Ct{constructor(t=""){this.text=t,this.edited=t}backspace(t){if(t>0){const e=this.edited.split("");e.splice(t-1,1),this.edited=e.join("")}}insert(t,e){const n=this.edited.split("");n.splice(t,0,e),this.edited=n.join("")}get value(){return this.edited}commit(){this.text=this.edited}revert(){this.edited=this.text}}class Dt{constructor(t){this.shell=t,this.history=[],this.pointer=-1,this.lastItem=new Ct,this.cursor=0,this.history.push(this.lastItem),this.pointer=0}consume(t){switch(t){case"Backspace":this.history[this.pointer].backspace(this.cursor),this.cursor=Math.max(0,this.cursor-1);break;case"ArrowUp":this.pointer=Math.max(0,this.pointer-1),this.cursor=this.history[this.pointer].value.length;break;case"ArrowDown":this.pointer=Math.min(this.history.length-1,this.pointer+1),this.cursor=this.history[this.pointer].value.length;break;case"ArrowLeft":this.cursor=Math.max(0,this.cursor-1);break;case"ArrowRight":this.cursor=Math.min(this.history[this.pointer].value.length,this.cursor+1);break;default:this.history[this.pointer].insert(this.cursor,t),this.cursor+=t.length}this.notifyChange()}notifyChange(){this.shell.repaintCommandLine()}abort(){const t=this.history[this.pointer].value;for(const e of this.history)e.revert();return this.cursor=0,this.pointer=this.history.length-1,this.notifyChange(),t}peek(){return this.history[this.pointer].value}take(){const t=this.history[this.pointer].value;for(let e=0;e<this.history.length;e++)e===this.pointer||e===this.history.length-1?this.history[e].revert():this.history[e].commit();if(t){const e=new Ct(t);this.history.splice(this.history.length-1,0,e),this.pointer=this.history.length-1}return this.cursor=0,this.notifyChange(),t}moveCursorToHome(){this.cursor=0,this.notifyChange()}moveCursorToEnd(){this.cursor=this.history[this.pointer].value.length,this.notifyChange()}}class Nt{constructor(t){this.dirty=!1,this.pointer=0,this.buffer=Array(t).fill(void 0)}add(t){this.buffer[this.pointer]=t,this.prevPointer=this.pointer,this.pointer=(this.pointer+1)%this.buffer.length,this.dirty=!0}reset(){this.buffer.fill(void 0),this.pointer=0,this.prevPointer=void 0,this.dirty=!0}snapshot(){if(void 0===this.prevPointer)return[];{const t=this.buffer.slice(0,this.prevPointer+1);return this.buffer.slice(this.prevPointer+1).concat(t).filter(t=>void 0!==t)}}}var Yt=n(7408);const kt=["shell"],St=["bottom"];function Qt(t,e){1&t&&h._UZ(0,"app-dots",8)}function Jt(t,e){if(1&t&&(h.ynx(0),h._uU(1),h._UZ(2,"br"),h.BQk()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t)}}function It(t,e){if(1&t&&(h.TgZ(0,"pre"),h._uU(1,"    "),h.TgZ(2,"code"),h._uU(3,"\n      "),h.TgZ(4,"span",9),h.YNc(5,Jt,3,1,"ng-container",10),h.ALo(6,"async"),h.qZA(),h._uU(7),h.ALo(8,"async"),h._UZ(9,"span",11),h.ALo(10,"async"),h._uU(11,"\n      "),h.qZA(),h._uU(12,"\n  "),h.qZA()),2&t){const t=h.oxw();h.xp6(5),h.Q6J("ngForOf",h.lcZ(6,3,t.lines$)),h.xp6(2),h.hij("\n      ",h.lcZ(8,5,t.prompt$),"\n      "),h.xp6(2),h.Q6J("innerHTML",h.lcZ(10,7,t.commandLineHTML$),h.oJD)}}let $t=(()=>{class t{constructor(t){this.sanitizer=t,this.scrollBuffer=new Nt(500),this.lines$=new st.X([]),this.ready$=new st.X(!1),this.prompt$=new st.X(""),this.focused$=new st.X(!1),this.commandLineHTML$=new st.X(""),this.command=new h.vpe,this.commandLine=new Dt(this),this.repaintCommandLine()}ngAfterViewInit(){this.shellEl.nativeElement.focus()}onFocus(){this.focused$.next(!0)}onFocusOut(){this.focused$.next(!1)}onPaste(t){var e;const n=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("Text");n&&this.commandLine.consume(n),t.preventDefault()}printLines(t){for(const e of t)this.scrollBuffer.add(e);this.lines$.next(this.scrollBuffer.snapshot()),this.scrollToBottom()}printLine(t=""){this.scrollBuffer.add(t),this.lines$.next(this.scrollBuffer.snapshot()),this.scrollToBottom()}setPrompt(t){this.prompt$.next(t)}handleKeyDownEvent(t){if(t.ctrlKey)switch(t.key){case"a":this.commandLine.moveCursorToHome(),t.preventDefault();break;case"c":const e=this.commandLine.abort();this.printLine(this.prompt$.value+e),t.preventDefault();break;case"e":this.commandLine.moveCursorToEnd(),t.preventDefault();break;case"h":this.commandLine.consume("Backspace"),t.preventDefault();break;case"l":this.scrollBuffer.reset(),this.lines$.next(this.scrollBuffer.snapshot()),t.preventDefault()}else if(!t.shiftKey&&!t.metaKey)switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Backspace":this.commandLine.consume(t.key),t.preventDefault()}}handleKeyboardEvent(t){if(this.focused$.value&&!(t.ctrlKey||t.altKey||t.metaKey))switch(t.key){case"Enter":const e=this.commandLine.take();this.printLine(this.prompt$.value+e),this.command.next(e.trim()),t.preventDefault();break;default:1===t.key.length&&(this.scrollToBottom(),this.commandLine.consume(t.key),t.preventDefault())}}repaintCommandLine(){let t="",e=!1;const n=this.commandLine.peek(),a=this.commandLine.cursor;for(let i=0;i<n.length;i++)a===i?(t+='<span class="cursor">'+n[i]+"</span>",e=!0):t+=n[i];e||(t+='<span class="cursor"> </span>'),this.commandLineHTML$.next(this.sanitizer.bypassSecurityTrustHtml(t))}scrollToBottom(){window.setTimeout(()=>{this.bottomAnchor.nativeElement.scrollIntoView()})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(g.H7))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-shell"]],viewQuery:function(t,e){if(1&t&&(h.Gf(kt,5),h.Gf(St,5)),2&t){let t;h.iGM(t=h.CRH())&&(e.shellEl=t.first),h.iGM(t=h.CRH())&&(e.bottomAnchor=t.first)}},hostBindings:function(t,e){1&t&&h.NdJ("keydown",function(t){return e.handleKeyDownEvent(t)},!1,h.evT)("keypress",function(t){return e.handleKeyboardEvent(t)},!1,h.evT)},outputs:{command:"command"},decls:11,vars:10,consts:[["tabindex","0","contenteditable","true","spellcheck","false",1,"shell",3,"focus","focusout","paste"],["shell",""],[1,"top"],["top",""],["color","#3f0",4,"ngIf"],[4,"ngIf"],[1,"bottom"],["bottom",""],["color","#3f0"],[1,"preserved"],[4,"ngFor","ngForOf"],[1,"preserved",3,"innerHTML"]],template:function(t,e){1&t&&(h.TgZ(0,"div",0,1),h.NdJ("focus",function(){return e.onFocus()})("focusout",function(){return e.onFocusOut()})("paste",function(t){return e.onPaste(t)}),h.ALo(2,"async"),h._UZ(3,"div",2,3),h.YNc(5,Qt,1,0,"app-dots",4),h.ALo(6,"async"),h.YNc(7,It,13,9,"pre",5),h.ALo(8,"async"),h._UZ(9,"div",6,7),h.qZA()),2&t&&(h.ekj("focused",h.lcZ(2,4,e.focused$)),h.xp6(5),h.Q6J("ngIf",!h.lcZ(6,6,e.ready$)),h.xp6(2),h.Q6J("ngIf",h.lcZ(8,8,e.ready$)))},directives:[q.O5,Yt.b,q.sg],pipes:[q.Ov],styles:[".shell[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;padding:5px;background-color:#24292e;overflow:auto;outline:none;caret-color:transparent}.bottom[_ngcontent-%COMP%], .top[_ngcontent-%COMP%]{visibility:hidden;line-height:0}code[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{white-space:normal;font-family:Roboto Mono,monospace;font-size:12px;line-height:14px}pre[_ngcontent-%COMP%]{background:#24292e;border:none;overflow:auto;border-radius:0;margin:0;padding:0;color:#3f0}.preserved[_ngcontent-%COMP%]{white-space:pre}code[_ngcontent-%COMP%]{padding:0;background:0 0}.shell.focused[_ngcontent-%COMP%]     .cursor{background-color:#3f0;color:#24292e}"],changeDetection:0}),t})();var Ot=n(8509);class Lt{constructor(t){this.columns=t,this.widths=[],this.pendingRows=[],this.printedRowCount=0;for(const e of t)this.widths.push(e.name.length)}add(t){const e=[];for(let n=0;n<t.values.length;n++){const a=Ot.c7(t.values[n])||"";e.push(a),this.widths[n]=Math.max(a.length,this.widths[n])}this.pendingRows.push(e)}printPending(){const t=[],e=this.columns.map(t=>t.name);0===this.printedRowCount&&(t.push(this.generateSeparator()),t.push(this.printRow(e)),t.push(this.generateSeparator()));for(const n of this.pendingRows)t.push(this.printRow(n)),this.printedRowCount++;return t}printRow(t){let e="";for(let n=0;n<this.columns.length;n++)e+="| ",e+=" ".repeat(this.widths[n]-t[n].length),e+=t[n],e+=" ";return e+"|"}printSummary(){const t=[];return t.push(this.generateSeparator()),t.push(1===this.printedRowCount?"1 row in set":`${this.printedRowCount} rows in set`),t.push(""),t}generateSeparator(){let t="";for(const e of this.widths)t+="+-"+"-".repeat(e)+"-";return t+="+",t}}let Mt=(()=>{class t{constructor(t,e){this.yamcs=e;const n=t.snapshot.parent.paramMap.get("database");this.changeDatabase(n)}ngAfterViewInit(){this.shell.printLine("Yamcs DB Shell"),this.shell.printLine("Type help or ? for help.\n")}handleCommand(t){if(!t)return;const e=t.split(";").map(t=>t.trim());for(const n of e)n&&this.handleStatement(n)}changeDatabase(t){this.yamcs.yamcsClient.getDatabase(t).then(t=>{this.database=t,this.shell.ready$.next(!0),this.shell.setPrompt(t.name+"> ")})}handleStatement(t){if("?"===t||t.startsWith("help")){const e=t.split(/\s+/,2);if(e.length>1)switch(e[1]){case"use":this.shell.printLine("Use another database, provided as argument.");break;default:this.shell.printLine("*** No help on "+e[1])}else this.shell.printLine(),this.shell.printLine("List of dbshell commands:"),this.shell.printLine("?        Show help."),this.shell.printLine('help     List available commands with "help" or detailed help with "help cmd".'),this.shell.printLine("use      Use another database, provided as argument."),this.shell.printLine()}else if(t.startsWith("use")){const e=t.split(/\s+/,2);1===e.length?this.shell.printLine("*** Missing argument"):this.changeDatabase(e[1])}else this.yamcs.yamcsClient.executeSQL(this.database.name,t).then(t=>{if(t.rows){const e=new Lt(t.columns||[]);for(const n of t.rows||[])e.add(n);this.shell.printLines(e.printPending()),this.shell.printLines(e.printSummary())}else this.shell.printLine("Empty set\n")}).catch(t=>{this.shell.printLine(`${t}`)})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf($t,5),2&t){let t;h.iGM(t=h.CRH())&&(e.shell=t.first)}},decls:1,vars:0,consts:[[3,"command"]],template:function(t,e){1&t&&(h.TgZ(0,"app-shell",0),h.NdJ("command",function(t){return e.handleCommand(t)}),h.qZA())},directives:[$t],encapsulation:2,changeDetection:0}),t})();var Rt=n(7433);function Bt(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.name),h.xp6(2),h.Oqu(t.type)}}function Ht(t,e){if(1&t&&(h.TgZ(0,"div",1),h.TgZ(1,"table",2),h.TgZ(2,"tr"),h.TgZ(3,"th",3),h._uU(4,"Column"),h.qZA(),h.TgZ(5,"th"),h._uU(6,"Type"),h.qZA(),h.qZA(),h.YNc(7,Bt,5,2,"tr",4),h.qZA(),h.qZA()),2&t){const t=e.ngIf;h.xp6(7),h.Q6J("ngForOf",t.column)}}let Et=(()=>{class t{constructor(t,e){const n=t.snapshot.parent,a=n.parent.paramMap.get("database"),i=n.paramMap.get("stream");this.stream$=e.yamcsClient.getStream(a,i)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[["class","panel-content",4,"ngIf"],[1,"panel-content"],["yaDataTable",""],["width","200"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(h.YNc(0,Ht,8,1,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.stream$))},directives:[q.O5,Rt.O,q.sg],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();var Pt=n(6801);class Ft{constructor(){this.dirty=!1,this.bufferSize=500,this.pointer=0,this.buffer=Array(this.bufferSize).fill(void 0)}add(t){this.buffer[this.pointer]=t,this.prevPointer=this.pointer,this.pointer=(this.pointer+1)%this.buffer.length,this.dirty=!0}reset(){this.buffer.fill(void 0),this.pointer=0,this.prevPointer=void 0,this.dirty=!0}snapshot(){if(void 0===this.prevPointer)return[];{const t=this.buffer.slice(0,this.prevPointer+1);return this.buffer.slice(this.prevPointer+1).concat(t).filter(t=>void 0!==t)}}}class jt extends m.o2{constructor(t,e,n,a){super(),this.yamcs=t,this.database=n,this.stream=a,this.streamData$=new st.X([]),this.loading$=new st.X(!1),this.streaming$=new st.X(!1),this.columns$=new st.X([]),this.streamBuffer=new Ft,this.syncSubscription=e.sync(()=>{this.streamBuffer.dirty&&!this.loading$.getValue()&&(this.streamData$.next(this.streamBuffer.snapshot().reverse()),this.streamBuffer.dirty=!1)})}connect(){return this.streamData$}startStreaming(){this.streaming$.next(!0),this.streamSubscription=this.yamcs.yamcsClient.createStreamSubscription({instance:this.database,stream:this.stream},t=>{if(!this.loading$.getValue()){t.animate=!0,this.streamBuffer.add(t);const e=this.columns$.value;for(const n of t.column)-1===e.indexOf(n.name)&&e.push(n.name);this.columns$.next([...e])}})}stopStreaming(){this.streamSubscription&&this.streamSubscription.cancel(),this.streaming$.next(!1)}disconnect(){this.streamSubscription&&this.streamSubscription.cancel(),this.syncSubscription&&this.syncSubscription.unsubscribe(),this.streamData$.complete(),this.loading$.complete(),this.streaming$.complete()}}var Gt=n(221),Xt=n(864),zt=n(4930),Vt=n(9979);function Wt(t,e){if(1&t&&(h.ynx(0),h._uU(1),h.ALo(2,"value"),h.BQk()),2&t){const t=h.oxw().index,e=h.oxw();h.xp6(1),h.hij(" ",h.lcZ(2,1,e.streamData.column[t].value)||"-"," ")}}function Kt(t,e){if(1&t&&(h.ynx(0),h._UZ(1,"app-hex",4),h.BQk()),2&t){const t=h.oxw().index,e=h.oxw();h.xp6(1),h.Q6J("base64String",e.streamData.column[t].value.binaryValue)}}function te(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"div",1),h._uU(2),h.qZA(),h.TgZ(3,"div",2),h.YNc(4,Wt,3,3,"ng-container",3),h.YNc(5,Kt,2,1,"ng-container",3),h.qZA(),h.BQk()),2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.name),h.xp6(2),h.Q6J("ngIf","BINARY"!==t.value.type),h.xp6(1),h.Q6J("ngIf","BINARY"===t.value.type)}}let ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-stream-data"]],inputs:{streamData:"streamData"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"block-title"],[1,"block"],[4,"ngIf"],[3,"base64String"]],template:function(t,e){1&t&&h.YNc(0,te,6,3,"ng-container",0),2&t&&h.Q6J("ngForOf",e.streamData.column)},directives:[q.sg,q.O5,zt.p],pipes:[Vt.V],encapsulation:2,changeDetection:0}),t})(),ne=(()=>{class t{transform(t,e){if(!t||0===t.length)return null;for(const n of t)if(n.name===e)return n.value;return null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=h.Yjl({name:"columnValue",type:t,pure:!0}),t})();function ae(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"app-detail-toolbar"),h._uU(2," Tuple "),h.qZA(),h.TgZ(3,"div",9),h._UZ(4,"app-stream-data",10),h.qZA(),h.BQk()),2&t){const t=e.ngIf;h.xp6(4),h.Q6J("streamData",t)}}function ie(t,e){1&t&&(h.TgZ(0,"app-detail-toolbar"),h._uU(1," Select a tuple "),h.qZA())}function oe(t,e){if(1&t&&(h.TgZ(0,"th",14),h._uU(1),h.qZA()),2&t){const t=h.oxw().$implicit;h.xp6(1),h.Oqu(t)}}function se(t,e){if(1&t&&(h.TgZ(0,"td",15),h._uU(1),h.ALo(2,"value"),h.ALo(3,"columnValue"),h.qZA()),2&t){const t=e.$implicit,n=h.oxw().$implicit;h.xp6(1),h.hij(" ",h.lcZ(2,1,h.xi3(3,3,t.column,n))||"-"," ")}}function re(t,e){1&t&&(h.ynx(0,11),h.YNc(1,oe,2,1,"th",12),h.YNc(2,se,4,6,"td",13),h.BQk()),2&t&&h.Q6J("cdkColumnDef",e.$implicit)}function ce(t,e){1&t&&h._UZ(0,"tr",16)}const le=function(t){return{selected:t}};function ue(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr",17),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw().selectStreamData(e)}),h.ALo(1,"async"),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw();h.Q6J("@rowAnimation",t.animate)("ngClass",h.VKq(4,le,t===h.lcZ(1,2,n.selectedStreamData$)))}}let pe=(()=>{class t{constructor(t,e,n){this.displayedColumns=[],this.selectedStreamData$=new st.X(null);const a=t.snapshot.parent,i=a.parent.paramMap.get("database"),o=a.paramMap.get("stream");this.dataSource=new jt(e,n,i,o),this.availableColumns$=this.dataSource.columns$}ngAfterViewInit(){this.columnDefinitionsSubscription=this.columnDefinitions.changes.subscribe(()=>{this.columnDefinitions.forEach(t=>{-1===this.displayedColumns.indexOf(t.name)&&this.displayedColumns.push(t.name)})}),this.dataSource.startStreaming()}selectStreamData(t){this.selectedStreamData$.next(t)}ngOnDestroy(){this.columnDefinitionsSubscription&&this.columnDefinitionsSubscription.unsubscribe(),this.dataSource&&this.dataSource.stopStreaming()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C),h.Y36(f.j))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf(Y.fo,5),2&t){let t;h.iGM(t=h.CRH())&&(e.columnDefinitions=t)}},decls:13,vars:10,consts:[[4,"ngIf","ngIfElse"],["noSelection",""],[1,"data-table-wrapper"],[1,"panel-content"],["mat-table","",1,"ya-data-table",3,"dataSource"],["table",""],[3,"cdkColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"cdkRowDef","cdkRowDefColumns"],[2,"padding","0 16px"],[3,"streamData"],[3,"cdkColumnDef"],["mat-header-cell","","style","white-space: nowrap",4,"cdkHeaderCellDef"],["mat-cell","",4,"cdkCellDef"],["mat-header-cell","",2,"white-space","nowrap"],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass","click"]],template:function(t,e){if(1&t&&(h.TgZ(0,"app-detail-pane"),h.YNc(1,ae,5,1,"ng-container",0),h.ALo(2,"async"),h.YNc(3,ie,2,0,"ng-template",null,1,h.W1O),h.qZA(),h.TgZ(5,"div",2),h.TgZ(6,"div",3),h.TgZ(7,"table",4,5),h.YNc(9,re,3,1,"ng-container",6),h.ALo(10,"async"),h.YNc(11,ce,1,0,"tr",7),h.YNc(12,ue,2,6,"tr",8),h.qZA(),h.qZA(),h.qZA()),2&t){const t=h.MAs(4);h.xp6(1),h.Q6J("ngIf",h.lcZ(2,6,e.selectedStreamData$))("ngIfElse",t),h.xp6(6),h.Q6J("dataSource",e.dataSource),h.xp6(2),h.Q6J("ngForOf",h.lcZ(10,8,e.availableColumns$)),h.xp6(2),h.Q6J("cdkHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("cdkRowDefColumns",e.displayedColumns)}},directives:[Gt.Z,q.O5,u.BZ,q.sg,Y.s$,Y.Sq,Xt.j,ee,Y.fo,Y.D5,Y.O_,u.ge,u.ev,u.XQ,u.Gk,q.mk],pipes:[q.Ov,Vt.V,ne],styles:[".data-table-wrapper[_ngcontent-%COMP%]{position:relative;overflow:auto;height:100%}.detail[_ngcontent-%COMP%]{background-color:#fcfcfc;float:right;height:100%;width:450px;overflow:auto;border-left:1px solid #d3d3d3;box-sizing:border-box}.data-table-wrapper[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .data-table-wrapper[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}.data-table-wrapper[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[Pt.q]},changeDetection:0}),t})();function me(t,e){1&t&&(h.ynx(0),h._UZ(1,"router-outlet"),h.BQk())}let de=(()=>{class t{constructor(t,e,n){this.yamcs=e;const a=t.snapshot,i=a.parent.paramMap.get("database"),o=a.paramMap.get("stream");n.setTitle(o),this.stream$=e.yamcsClient.getStream(i,o)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(h.YNc(0,me,2,0,"ng-container",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.stream$))},directives:[q.O5,i.lC],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();const he="&nbsp;&nbsp;&nbsp;&nbsp;",ge=/[()]|(, ")/;function fe(t){if(!t)return t;const e=[];let n="",a=t.search(ge);for(;-1!==a;)"("===t[a]?(e.push(t.substring(0,a+1)),n+=he,e.push("<br>",n),a=(t=t.substring(a+1)).search(ge)):")"===t[a]?(e.push(t.substring(0,a)),n=n.replace(he,""),e.push("<br>",n),e.push(")"),a=(t=t.substring(a+1)).search(ge)):(e.push(t.substring(0,a+1)),e.push("<br>",n),e.push('"'),a=(t=t.substring(a+3)).search(ge));let i=e.join("")+t;return i=i.replace(/(engine|histogram|partition|primary|table_format)/g,"<br>$1"),i.replace(/(BINARY|ENUM|HRES_TIMESTAMP|INT|LONG|PARAMETER_VALUE|PROTOBUF|STRING|TIMESTAMP)/g,'<span class="dtype">$1</span>').replace(/([(),]+)/g,'<span class="paren">$1</span>').replace(/(auto_increment|create|compressed|histogram|engine|primary key|table(_format)?|stream)/g,'<span class="kw">$1</span>').replace(/(partition by time(_and_value)?|partition by value)/g,'<span class="kw">$1</span>')}function Ze(t,e){if(1&t&&(h.TgZ(0,"div",1),h._UZ(1,"code",2),h.qZA()),2&t){const t=e.ngIf,n=h.oxw();h.xp6(1),h.Q6J("innerHTML",n.formatSQL(t.script),h.oJD)}}let Ae=(()=>{class t{constructor(t,e){const n=t.snapshot.parent,a=n.parent.paramMap.get("database"),i=n.paramMap.get("stream");this.stream$=e.yamcsClient.getStream(a,i)}formatSQL(t){return fe(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[["class","panel-content sql",4,"ngIf"],[1,"panel-content","sql"],[3,"innerHTML"]],template:function(t,e){1&t&&(h.YNc(0,Ze,2,1,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.stream$))},directives:[q.O5],pipes:[q.Ov],styles:["code[_ngcontent-%COMP%]{display:inline-block;font-size:12px;line-height:14px}",".dtype{color:red}  .paren{color:#1b61b9}  .kw{color:#1b61b9}"],changeDetection:0}),t})();function Te(t,e){1&t&&(h.TgZ(0,"th",9),h._uU(1,"Name"),h.qZA())}function be(t,e){if(1&t&&(h.TgZ(0,"td",10),h.TgZ(1,"a",11),h._uU(2),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink",t.name),h.xp6(1),h.hij(" ",t.name," ")}}function ye(t,e){1&t&&(h.TgZ(0,"th",9),h._uU(1,"Data count"),h.qZA())}function qe(t,e){if(1&t&&(h.TgZ(0,"td",12),h._uU(1),h.ALo(2,"number"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",h.lcZ(2,1,t.dataCount)," ")}}function xe(t,e){1&t&&h._UZ(0,"tr",13)}function Ue(t,e){1&t&&h._UZ(0,"tr",14)}let we=(()=>{class t{constructor(t,e){this.yamcs=e,this.displayedColumns=["name","dataCount"],this.dataSource=new u.by,this.itemsByName={},this.database=t.snapshot.parent.paramMap.get("database")}ngAfterViewInit(){this.dataSource.sort=this.sort,this.streamStatisticsSubscription=this.yamcs.yamcsClient.createStreamStatisticsSubscription({instance:this.database},t=>{this.processStreamEvent(t)})}processStreamEvent(t){switch(t.type){case"CREATED":case"UPDATED":this.itemsByName[t.name]={name:t.name,dataCount:t.dataCount},this.updateDataSource();break;case"DELETED":delete this.itemsByName[t.name],this.updateDataSource();break;default:console.error("Unexpected stream update of type "+t.type)}}updateDataSource(){const t=Object.values(this.itemsByName);t.sort((t,e)=>t.name.localeCompare(e.name)),this.dataSource.data=t}ngOnDestroy(){this.streamStatisticsSubscription&&this.streamStatisticsSubscription.cancel()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,7),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},decls:10,vars:3,consts:[[1,"panel-content"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dataCount"],["mat-cell","","style","text-align: right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],["mat-cell","",2,"text-align","right"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"table",1),h.ynx(2,2),h.YNc(3,Te,2,0,"th",3),h.YNc(4,be,3,2,"td",4),h.BQk(),h.ynx(5,5),h.YNc(6,ye,2,0,"th",3),h.YNc(7,qe,3,3,"td",6),h.BQk(),h.YNc(8,xe,1,0,"tr",7),h.YNc(9,Ue,1,0,"tr",8),h.qZA(),h.qZA()),2&t&&(h.xp6(1),h.Q6J("dataSource",e.dataSource),h.xp6(7),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns))},directives:[u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,l.nU,u.ev,i.yS,u.XQ,u.Gk],pipes:[q.JJ],encapsulation:2,changeDetection:0}),t})();var _e=n(4311);function ve(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"div",2),h.TgZ(2,"mat-icon",3),h._uU(3,"vpn_key"),h.qZA(),h._uU(4),h.qZA(),h.TgZ(5,"div",4),h._uU(6),h.ALo(7,"value"),h.ALo(8,"columnValue"),h.qZA(),h.BQk()),2&t){const t=e.$implicit,n=h.oxw();h.xp6(4),h.hij(" ",t.name," "),h.xp6(2),h.hij(" ",h.lcZ(7,2,h.xi3(8,4,n.record.column,t.name))||"-"," ")}}function Ce(t,e){if(1&t&&(h.ynx(0),h._uU(1),h.ALo(2,"value"),h.ALo(3,"columnValue"),h.BQk()),2&t){const t=h.oxw().$implicit,e=h.oxw();h.xp6(1),h.hij(" ",h.lcZ(2,1,h.xi3(3,3,e.record.column,t.name))||"-"," ")}}function De(t,e){if(1&t&&(h.ynx(0),h._UZ(1,"app-hex",7),h.BQk()),2&t){const t=e.ngIf;h.xp6(1),h.Q6J("base64String",t.binaryValue)}}function Ne(t,e){if(1&t&&(h.ynx(0),h.YNc(1,De,2,1,"ng-container",6),h.ALo(2,"columnValue"),h.BQk()),2&t){const t=h.oxw().$implicit,e=h.oxw(),n=h.MAs(5);h.xp6(1),h.Q6J("ngIf",h.xi3(2,2,e.record.column,t.name))("ngIfElse",n)}}function Ye(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"div",2),h._uU(2),h.qZA(),h.TgZ(3,"div",4),h.YNc(4,Ce,4,6,"ng-container",5),h.YNc(5,Ne,3,5,"ng-container",5),h.qZA(),h.BQk()),2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.name),h.xp6(2),h.Q6J("ngIf","BINARY"!==t.type&&!t.type.startsWith("PROTOBUF")),h.xp6(1),h.Q6J("ngIf","BINARY"===t.type||t.type.startsWith("PROTOBUF"))}}function ke(t,e){1&t&&h._uU(0,"-")}let Se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-record"]],inputs:{table:"table",record:"record"},decls:6,vars:2,consts:[[4,"ngFor","ngForOf"],["dash",""],[1,"block-title"],["matTooltip","Key Column",1,"icon12",2,"color","gold"],[1,"block"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"base64String"]],template:function(t,e){1&t&&(h.YNc(0,ve,9,7,"ng-container",0),h.YNc(1,Ye,6,3,"ng-container",0),h.TgZ(2,"p"),h._uU(3,"\xa0"),h.qZA(),h.YNc(4,ke,1,0,"ng-template",null,1,h.W1O)),2&t&&(h.Q6J("ngForOf",e.table.keyColumn),h.xp6(1),h.Q6J("ngForOf",e.table.valueColumn))},directives:[q.sg,D.Hw,_e.gM,q.O5,zt.p],pipes:[Vt.V,ne],encapsulation:2,changeDetection:0}),t})();var Qe=n(4626);function Je(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"app-detail-toolbar"),h._uU(2," Record "),h.qZA(),h.TgZ(3,"div",6),h._UZ(4,"app-record",7),h.qZA(),h.BQk()),2&t){const t=e.ngIf,n=h.oxw().ngIf;h.xp6(4),h.Q6J("table",n)("record",t)}}function Ie(t,e){1&t&&(h.TgZ(0,"app-detail-toolbar"),h._uU(1," Select a record "),h.qZA())}function $e(t,e){if(1&t&&(h.TgZ(0,"th"),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.name)}}function Oe(t,e){if(1&t&&(h.TgZ(0,"th"),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.name)}}function Le(t,e){if(1&t&&(h.TgZ(0,"td"),h._uU(1),h.ALo(2,"value"),h.ALo(3,"columnValue"),h.qZA()),2&t){const t=e.$implicit,n=h.oxw().$implicit;h.xp6(1),h.hij(" ",h.lcZ(2,1,h.xi3(3,3,n.column,t.name))||"-"," ")}}function Me(t,e){if(1&t&&(h.TgZ(0,"td"),h._uU(1),h.ALo(2,"value"),h.ALo(3,"columnValue"),h.qZA()),2&t){const t=e.$implicit,n=h.oxw().$implicit;h.ekj("mono","BINARY"===t.type),h.xp6(1),h.hij(" ",h.lcZ(2,3,h.xi3(3,5,n.column,t.name))||"-"," ")}}const Re=function(t){return{selected:t}};function Be(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr",12),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(4).selectRecord(e)}),h.ALo(1,"async"),h.YNc(2,Le,4,6,"td",10),h.YNc(3,Me,4,8,"td",13),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw(3).ngIf,a=h.oxw();h.Q6J("ngClass",h.VKq(5,Re,t===h.lcZ(1,3,a.selectedRecord$))),h.xp6(2),h.Q6J("ngForOf",n.keyColumn),h.xp6(1),h.Q6J("ngForOf",n.valueColumn)}}function He(t,e){if(1&t&&(h.TgZ(0,"table",9),h.TgZ(1,"tr"),h.YNc(2,$e,2,1,"th",10),h.YNc(3,Oe,2,1,"th",10),h.qZA(),h.YNc(4,Be,4,7,"tr",11),h.qZA()),2&t){const t=h.oxw().ngIf,e=h.oxw().ngIf;h.xp6(2),h.Q6J("ngForOf",e.keyColumn),h.xp6(1),h.Q6J("ngForOf",e.valueColumn),h.xp6(1),h.Q6J("ngForOf",t)}}function Ee(t,e){if(1&t&&(h.ynx(0),h.YNc(1,He,5,3,"table",8),h.BQk()),2&t){const t=e.ngIf;h.oxw(2);const n=h.MAs(3);h.xp6(1),h.Q6J("ngIf",t.length)("ngIfElse",n)}}function Pe(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"app-detail-pane"),h.YNc(2,Je,5,2,"ng-container",2),h.ALo(3,"async"),h.YNc(4,Ie,2,0,"ng-template",null,3,h.W1O),h.qZA(),h.TgZ(6,"div",4),h.TgZ(7,"div",5),h.YNc(8,Ee,2,2,"ng-container",2),h.ALo(9,"async"),h.qZA(),h.qZA(),h.BQk()),2&t){const t=h.MAs(5),e=h.oxw(),n=h.MAs(3);h.xp6(2),h.Q6J("ngIf",h.lcZ(3,4,e.selectedRecord$))("ngIfElse",t),h.xp6(6),h.Q6J("ngIf",h.lcZ(9,6,e.records$))("ngIfElse",n)}}function Fe(t,e){1&t&&(h.TgZ(0,"app-empty-message"),h._uU(1," Empty table. "),h.qZA())}let je=(()=>{class t{constructor(t,e){this.selectedRecord$=new st.X(null);const n=t.snapshot.parent,a=n.parent.paramMap.get("database"),i=n.paramMap.get("table");this.table$=e.yamcsClient.getTable(a,i),this.records$=e.yamcsClient.getTableData(a,i)}selectRecord(t){this.selectedRecord$.next(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:4,vars:3,consts:[[4,"ngIf"],["nodata",""],[4,"ngIf","ngIfElse"],["noSelection",""],[1,"data-table-wrapper"],[1,"panel-content"],[2,"padding","0 16px"],[3,"table","record"],["yaDataTable","",4,"ngIf","ngIfElse"],["yaDataTable",""],[4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"mono",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(h.YNc(0,Pe,10,8,"ng-container",0),h.ALo(1,"async"),h.YNc(2,Fe,2,0,"ng-template",null,1,h.W1O)),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.table$))},directives:[q.O5,Gt.Z,Xt.j,Se,Rt.O,q.sg,q.mk,Qe.M],pipes:[q.Ov,Vt.V,ne],styles:[".data-table-wrapper[_ngcontent-%COMP%]{position:relative;overflow:auto;height:100%}.detail[_ngcontent-%COMP%]{background-color:#fcfcfc;float:right;height:100%;width:450px;overflow:auto;border-left:1px solid #d3d3d3;box-sizing:border-box}.data-table-wrapper[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .data-table-wrapper[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}.data-table-wrapper[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#fafafa;cursor:pointer}"],changeDetection:0}),t})();var Ge=n(2935);function Xe(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.value),h.xp6(2),h.Oqu(t.label)}}let ze=(()=>{class t{constructor(t){this.data=t}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Ge.WI))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-show-enum-dialog"]],decls:13,vars:1,consts:[["mat-dialog-title",""],["yaDataTable","",1,"mat-typography",2,"width","100%"],[4,"ngFor","ngForOf"],["align","end"],["mat-dialog-close","",1,"ya-button"]],template:function(t,e){1&t&&(h.TgZ(0,"h2",0),h._uU(1,"Enum States"),h.qZA(),h.TgZ(2,"mat-dialog-content"),h.TgZ(3,"table",1),h.TgZ(4,"tr"),h.TgZ(5,"th"),h._uU(6,"Value"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"Label"),h.qZA(),h.qZA(),h.YNc(9,Xe,5,2,"tr",2),h.qZA(),h.qZA(),h.TgZ(10,"mat-dialog-actions",3),h.TgZ(11,"button",4),h._uU(12,"Close"),h.qZA(),h.qZA()),2&t&&(h.xp6(9),h.Q6J("ngForOf",e.data.column.enumValue))},directives:[Ge.uh,Ge.xY,Rt.O,q.sg,Ge.H8,Ge.ZT],encapsulation:2}),t})();function Ve(t,e){if(1&t){const t=h.EpF();h.ynx(0),h.TgZ(1,"span",9),h.NdJ("click",function(){h.CHM(t);const e=h.oxw().$implicit;return h.oxw(2).showEnum(e)}),h._uU(2),h.qZA(),h.BQk()}if(2&t){const t=h.oxw().$implicit;h.xp6(2),h.Oqu(t.type)}}function We(t,e){if(1&t&&(h.ynx(0),h._uU(1),h.BQk()),2&t){const t=h.oxw().$implicit;h.xp6(1),h.hij(" ",t.type," ")}}function Ke(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td",8),h._uU(2),h.qZA(),h.TgZ(3,"td"),h.YNc(4,Ve,3,1,"ng-container",7),h.YNc(5,We,2,1,"ng-container",7),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.name),h.xp6(2),h.Q6J("ngIf","ENUM"===t.type),h.xp6(1),h.Q6J("ngIf","ENUM"!==t.type)}}function tn(t,e){if(1&t){const t=h.EpF();h.ynx(0),h.TgZ(1,"span",9),h.NdJ("click",function(){h.CHM(t);const e=h.oxw().$implicit;return h.oxw(2).showEnum(e)}),h._uU(2),h.qZA(),h.BQk()}if(2&t){const t=h.oxw().$implicit;h.xp6(2),h.Oqu(t.type)}}function en(t,e){if(1&t&&(h.ynx(0),h._uU(1),h.BQk()),2&t){const t=h.oxw().$implicit;h.xp6(1),h.hij(" ",t.type," ")}}function nn(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td",8),h._uU(2),h.qZA(),h.TgZ(3,"td"),h.YNc(4,tn,3,1,"ng-container",7),h.YNc(5,en,2,1,"ng-container",7),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.name),h.xp6(2),h.Q6J("ngIf","ENUM"===t.type),h.xp6(1),h.Q6J("ngIf","ENUM"!==t.type)}}function an(t,e){1&t&&(h.TgZ(0,"span"),h._uU(1,", "),h.qZA())}function on(t,e){if(1&t&&(h.ynx(0),h._uU(1),h.YNc(2,an,2,0,"span",7),h.BQk()),2&t){const t=e.$implicit,n=e.last;h.xp6(1),h.hij(" ",t,""),h.xp6(1),h.Q6J("ngIf",!n)}}function sn(t,e){if(1&t&&(h.ynx(0),h.YNc(1,on,3,2,"ng-container",4),h.BQk()),2&t){const t=h.oxw().ngIf;h.xp6(1),h.Q6J("ngForOf",t.histogramColumn)}}function rn(t,e){1&t&&(h.ynx(0),h._uU(1,"-"),h.BQk())}function cn(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"th",6),h._uU(2,"Time partition column"),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.qZA()),2&t){const t=h.oxw().ngIf;h.xp6(4),h.AsE("",null==t.partitioningInfo?null:t.partitioningInfo.timeColumn,"('",null==t.partitioningInfo?null:t.partitioningInfo.timePartitionSchema,"')")}}function ln(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"th",6),h._uU(2,"Value partition column"),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.qZA()),2&t){const t=h.oxw().ngIf;h.xp6(4),h.Oqu(null==t.partitioningInfo?null:t.partitioningInfo.valueColumn)}}function un(t,e){if(1&t&&(h.TgZ(0,"div",1),h.TgZ(1,"h3"),h._uU(2,"Key"),h.qZA(),h.TgZ(3,"table",2),h.TgZ(4,"tr"),h.TgZ(5,"th",3),h._uU(6,"Column"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"Type"),h.qZA(),h.qZA(),h.YNc(9,Ke,6,3,"tr",4),h.qZA(),h.TgZ(10,"p"),h._uU(11,"\xa0"),h.qZA(),h.TgZ(12,"h3"),h._uU(13,"Value"),h.qZA(),h.TgZ(14,"table",2),h.TgZ(15,"tr"),h.TgZ(16,"th",3),h._uU(17,"Column"),h.qZA(),h.TgZ(18,"th"),h._uU(19,"Type"),h.qZA(),h.qZA(),h.YNc(20,nn,6,3,"tr",4),h.qZA(),h.TgZ(21,"p"),h._uU(22,"\xa0"),h.qZA(),h.TgZ(23,"h3"),h._uU(24,"Options"),h.qZA(),h.TgZ(25,"table",2),h.TgZ(26,"tr"),h.TgZ(27,"th",5),h._uU(28,"Format version"),h.qZA(),h.TgZ(29,"td"),h._uU(30),h.qZA(),h.qZA(),h.TgZ(31,"tr"),h.TgZ(32,"th",6),h._uU(33,"Storage engine"),h.qZA(),h.TgZ(34,"td"),h._uU(35),h.qZA(),h.qZA(),h.TgZ(36,"tr"),h.TgZ(37,"th",6),h._uU(38,"Tablespace"),h.qZA(),h.TgZ(39,"td"),h._uU(40),h.qZA(),h.qZA(),h.TgZ(41,"tr"),h.TgZ(42,"th",6),h._uU(43,"Compressed"),h.qZA(),h.TgZ(44,"td"),h._uU(45),h.qZA(),h.qZA(),h.TgZ(46,"tr"),h.TgZ(47,"th",6),h._uU(48,"Histogram"),h.qZA(),h.TgZ(49,"td"),h.YNc(50,sn,2,1,"ng-container",7),h.YNc(51,rn,2,0,"ng-container",7),h.qZA(),h.qZA(),h.TgZ(52,"tr"),h.TgZ(53,"th",6),h._uU(54,"Partition by"),h.qZA(),h.TgZ(55,"td"),h._uU(56),h.ALo(57,"lowercase"),h.qZA(),h.qZA(),h.YNc(58,cn,5,2,"tr",7),h.YNc(59,ln,5,1,"tr",7),h.qZA(),h.qZA()),2&t){const t=e.ngIf;h.xp6(9),h.Q6J("ngForOf",t.keyColumn),h.xp6(11),h.Q6J("ngForOf",t.valueColumn),h.xp6(10),h.Oqu(t.formatVersion),h.xp6(5),h.Oqu(t.storageEngine),h.xp6(5),h.Oqu(t.tablespace||"-"),h.xp6(5),h.Oqu(t.compressed?"yes":"no"),h.xp6(5),h.Q6J("ngIf",t.histogramColumn),h.xp6(1),h.Q6J("ngIf",!t.histogramColumn),h.xp6(5),h.Oqu(h.lcZ(57,11,null==t.partitioningInfo?null:t.partitioningInfo.type)||"-"),h.xp6(2),h.Q6J("ngIf",null==t.partitioningInfo?null:t.partitioningInfo.timeColumn),h.xp6(1),h.Q6J("ngIf",null==t.partitioningInfo?null:t.partitioningInfo.valueColumn)}}let pn=(()=>{class t{constructor(t,e,n){this.dialog=n;const a=t.snapshot.parent,i=a.parent.paramMap.get("database"),o=a.paramMap.get("table");this.table$=e.yamcsClient.getTable(i,o)}showEnum(t){this.dialog.open(ze,{width:"400px",data:{column:t}})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C),h.Y36(Ge.uw))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[["class","panel-content",4,"ngIf"],[1,"panel-content"],["yaDataTable",""],["width","200"],[4,"ngFor","ngForOf"],["width","200",1,"lcolumn"],[1,"lcolumn"],[4,"ngIf"],[2,"white-space","nowrap"],["matTooltip","Show enum states",1,"enum",3,"click"]],template:function(t,e){1&t&&(h.YNc(0,un,60,13,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.table$))},directives:[q.O5,Rt.O,q.sg,_e.gM],pipes:[q.Ov,q.i8],styles:[".enum[_ngcontent-%COMP%]{border-bottom:1px dotted #888;cursor:pointer}"],changeDetection:0}),t})();function mn(t,e){1&t&&(h.ynx(0),h._UZ(1,"router-outlet"),h.BQk())}let dn=(()=>{class t{constructor(t,e,n){this.yamcs=e;const a=t.snapshot.parent.paramMap.get("database"),i=t.snapshot.paramMap.get("table");n.setTitle(i),this.table$=e.yamcsClient.getTable(a,i)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(h.YNc(0,mn,2,0,"ng-container",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.table$))},directives:[q.O5,i.lC],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();function hn(t,e){if(1&t&&(h.TgZ(0,"div",1),h._UZ(1,"code",2),h.qZA()),2&t){const t=e.ngIf,n=h.oxw();h.xp6(1),h.Q6J("innerHTML",n.formatSQL(t.script),h.oJD)}}let gn=(()=>{class t{constructor(t,e){const n=t.snapshot.parent,a=n.parent.paramMap.get("database"),i=n.paramMap.get("table");this.table$=e.yamcsClient.getTable(a,i)}formatSQL(t){return fe(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[["class","panel-content sql",4,"ngIf"],[1,"panel-content","sql"],[3,"innerHTML"]],template:function(t,e){1&t&&(h.YNc(0,hn,2,1,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.table$))},directives:[q.O5],pipes:[q.Ov],styles:["code[_ngcontent-%COMP%]{display:inline-block;font-size:12px;line-height:14px}",".dtype{color:red}  .paren{color:#1b61b9}  .kw{color:#1b61b9}"],changeDetection:0}),t})();function fn(t,e){1&t&&(h.TgZ(0,"th",7),h._uU(1,"Name"),h.qZA())}function Zn(t,e){if(1&t&&(h.TgZ(0,"td",8),h.TgZ(1,"a",9),h._uU(2),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink",t.name),h.xp6(1),h.hij(" ",t.name," ")}}function An(t,e){1&t&&h._UZ(0,"tr",10)}function Tn(t,e){1&t&&h._UZ(0,"tr",11)}let bn=(()=>{class t{constructor(t,e){this.yamcs=e,this.displayedColumns=["name"],this.dataSource=new u.by;const n=t.snapshot.parent.paramMap.get("database");e.yamcsClient.getTables(n).then(t=>{this.dataSource.data=t})}ngAfterViewInit(){this.dataSource.sort=this.sort}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,7),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},decls:7,vars:3,consts:[[1,"panel-content"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"table",1),h.ynx(2,2),h.YNc(3,fn,2,0,"th",3),h.YNc(4,Zn,3,2,"td",4),h.BQk(),h.YNc(5,An,1,0,"tr",5),h.YNc(6,Tn,1,0,"tr",6),h.qZA(),h.qZA()),2&t&&(h.xp6(1),h.Q6J("dataSource",e.dataSource),h.xp6(4),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns))},directives:[u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,l.nU,u.ev,i.yS,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})();function yn(t,e){1&t&&(h.TgZ(0,"th",10),h._uU(1,"Name"),h.qZA())}function qn(t,e){if(1&t&&(h.TgZ(0,"td",11),h.TgZ(1,"a",12),h._uU(2),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink",t.name),h.xp6(1),h.hij(" ",t.name," ")}}function xn(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"Tablespace"),h.qZA())}function Un(t,e){if(1&t&&(h.TgZ(0,"td",11),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.tablespace," ")}}function wn(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"Path"),h.qZA())}function _n(t,e){if(1&t&&(h.TgZ(0,"td",11),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.path," ")}}function vn(t,e){1&t&&h._UZ(0,"tr",14)}function Cn(t,e){1&t&&h._UZ(0,"tr",15)}let Dn=(()=>{class t{constructor(t,e){this.yamcs=t,this.displayedColumns=["name","tablespace","path"],this.dataSource=new u.by,e.setTitle("Databases"),t.yamcsClient.getDatabases().then(t=>{this.dataSource.data=t})}ngAfterViewInit(){this.dataSource.sort=this.sort}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,7),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},decls:16,vars:3,consts:[[1,"panel-content"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","style","width: 200px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tablespace"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","path"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",2,"width","200px"],["mat-cell",""],[3,"routerLink"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2,"Databases"),h.qZA(),h.TgZ(3,"div",0),h.TgZ(4,"table",1),h.ynx(5,2),h.YNc(6,yn,2,0,"th",3),h.YNc(7,qn,3,2,"td",4),h.BQk(),h.ynx(8,5),h.YNc(9,xn,2,0,"th",6),h.YNc(10,Un,2,1,"td",4),h.BQk(),h.ynx(11,7),h.YNc(12,wn,2,0,"th",6),h.YNc(13,_n,2,1,"td",4),h.BQk(),h.YNc(14,vn,1,0,"tr",8),h.YNc(15,Cn,1,0,"tr",9),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.Q6J("dataSource",e.dataSource),h.xp6(10),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns))},directives:[T,C,u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,l.nU,u.ev,i.yS,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})();var Nn=n(3076);function Yn(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.ALo(7,"formatBytes"),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.ALo(10,"formatBytes"),h.qZA(),h.TgZ(11,"td"),h._uU(12),h.ALo(13,"formatBytes"),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.directory),h.xp6(2),h.Oqu(t.type||"-"),h.xp6(2),h.Oqu(h.lcZ(7,5,t.totalSpace)),h.xp6(3),h.Oqu(h.lcZ(10,7,t.unallocatedSpace)),h.xp6(3),h.Oqu(h.lcZ(13,9,t.usableSpace))}}function kn(t,e){if(1&t&&(h.TgZ(0,"div",1),h.TgZ(1,"dl",2),h.TgZ(2,"dt"),h._uU(3,"Yamcs version"),h.qZA(),h.TgZ(4,"dd"),h._uU(5),h.qZA(),h.TgZ(6,"dt"),h._uU(7,"Build"),h.qZA(),h.TgZ(8,"dd"),h._uU(9),h.qZA(),h.TgZ(10,"dt"),h._uU(11,"Server ID"),h.qZA(),h.TgZ(12,"dd"),h._uU(13),h.qZA(),h.qZA(),h.TgZ(14,"dl",3),h.TgZ(15,"dt"),h._uU(16,"OS"),h.qZA(),h.TgZ(17,"dd"),h._uU(18),h.qZA(),h.TgZ(19,"dt"),h._uU(20,"Architecture"),h.qZA(),h.TgZ(21,"dd"),h._uU(22),h.qZA(),h.TgZ(23,"dt"),h._uU(24,"JVM"),h.qZA(),h.TgZ(25,"dd"),h._uU(26),h.qZA(),h.qZA(),h.TgZ(27,"dl",3),h.TgZ(28,"dt"),h._uU(29,"Working directory"),h.qZA(),h.TgZ(30,"dd"),h._uU(31),h.qZA(),h.TgZ(32,"dt"),h._uU(33,"Config directory"),h.qZA(),h.TgZ(34,"dd"),h._uU(35),h.qZA(),h.TgZ(36,"dt"),h._uU(37,"Cache directory"),h.qZA(),h.TgZ(38,"dd"),h._uU(39),h.qZA(),h.TgZ(40,"dt"),h._uU(41,"Data directory"),h.qZA(),h.TgZ(42,"dd"),h._uU(43),h.qZA(),h.qZA(),h.TgZ(44,"dl",3),h.TgZ(45,"dt"),h._uU(46,"Uptime"),h.qZA(),h.TgZ(47,"dd"),h._uU(48),h.ALo(49,"duration"),h.qZA(),h.TgZ(50,"dt"),h._uU(51,"Load average"),h.qZA(),h.TgZ(52,"dd"),h._uU(53),h.ALo(54,"number"),h.qZA(),h.TgZ(55,"dt"),h._uU(56,"Available processors"),h.qZA(),h.TgZ(57,"dd"),h._uU(58),h.qZA(),h.TgZ(59,"dt"),h._uU(60,"Heap memory"),h.qZA(),h.TgZ(61,"dd"),h._uU(62),h.ALo(63,"formatBytes"),h.ALo(64,"formatBytes"),h.ALo(65,"formatBytes"),h.qZA(),h.TgZ(66,"dt"),h._uU(67,"Non-heap memory"),h.qZA(),h.TgZ(68,"dd"),h._uU(69),h.ALo(70,"formatBytes"),h.ALo(71,"formatBytes"),h.ALo(72,"formatBytes"),h.qZA(),h.TgZ(73,"dt"),h._uU(74,"Thread count"),h.qZA(),h.TgZ(75,"dd"),h._uU(76),h.qZA(),h.qZA(),h.TgZ(77,"h4"),h._uU(78,"Root directories"),h.qZA(),h.TgZ(79,"table",4),h.TgZ(80,"tr"),h.TgZ(81,"th"),h._uU(82,"Directory"),h.qZA(),h.TgZ(83,"th"),h._uU(84,"Type"),h.qZA(),h.TgZ(85,"th"),h._uU(86,"Total space"),h.qZA(),h.TgZ(87,"th"),h._uU(88,"Unallocated space"),h.qZA(),h.TgZ(89,"th"),h._uU(90,"Usable space"),h.qZA(),h.qZA(),h.YNc(91,Yn,14,11,"tr",5),h.qZA(),h.qZA()),2&t){const t=e.ngIf;h.xp6(5),h.Oqu(t.yamcsVersion),h.xp6(4),h.Oqu(t.revision),h.xp6(4),h.Oqu(t.serverId),h.xp6(5),h.Oqu(t.os),h.xp6(4),h.Oqu(t.arch),h.xp6(4),h.Oqu(t.jvm),h.xp6(5),h.Oqu(t.workingDirectory),h.xp6(4),h.Oqu(t.configDirectory),h.xp6(4),h.Oqu(t.cacheDirectory),h.xp6(4),h.Oqu(t.dataDirectory),h.xp6(5),h.Oqu(h.lcZ(49,21,t.uptime)),h.xp6(5),h.Oqu(h.xi3(54,23,t.loadAverage,"1.2-2")),h.xp6(5),h.Oqu(t.availableProcessors),h.xp6(4),h.lnq(" ",h.lcZ(63,26,t.heapMemory)," (used: ",h.lcZ(64,28,t.heapMemory-t.usedHeapMemory),", limit: ",h.lcZ(65,30,t.maxHeapMemory)||"n/a",")"),h.xp6(7),h.lnq(" ",h.lcZ(70,32,t.nonHeapMemory)," (used: ",h.lcZ(71,34,t.nonHeapMemory-t.usedNonHeapMemory),", limit: ",h.lcZ(72,36,t.maxNonHeapMemory)||"n/a",")"),h.xp6(7),h.Oqu(t.jvmThreadCount),h.xp6(15),h.Q6J("ngForOf",t.rootDirectories)}}let Sn=(()=>{class t{constructor(t,e,n){this.yamcs=t,this.info$=new st.X(null),e.setTitle("Admin Area"),this.refresh(),this.syncSubscription=n.syncSlow(()=>this.refresh())}refresh(){this.yamcs.yamcsClient.getSystemInfo().then(t=>this.info$.next(t))}ngOnDestroy(){this.syncSubscription&&this.syncSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(f.j))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:5,vars:3,consts:[["class","panel-content",4,"ngIf"],[1,"panel-content"],[1,"dl-horizontal",2,"margin-top","0"],[1,"dl-horizontal"],["yaDataTable",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Admin Home "),h.qZA(),h.YNc(3,kn,92,38,"div",0),h.ALo(4,"async"),h.qZA()),2&t&&(h.xp6(3),h.Q6J("ngIf",h.lcZ(4,1,e.info$)))},directives:[T,C,q.O5,Rt.O,q.sg],pipes:[q.Ov,Nn.u,q.JJ,S.b],encapsulation:2,changeDetection:0}),t})();var Qn=n(1041),Jn=n(8784);function In(t,e){1&t&&h._UZ(0,"th",21)}function $n(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"td",22),h.TgZ(1,"input",23),h.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=h.CHM(t).$implicit,a=h.oxw(2);return e?a.selection.toggle(n):null}),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw(2);h.xp6(1),h.Q6J("checked",n.selection.isSelected(t))}}function On(t,e){1&t&&(h.TgZ(0,"th",24),h._uU(1,"Type"),h.qZA())}function Ln(t,e){1&t&&(h.TgZ(0,"mat-icon",27),h._uU(1,"person"),h.qZA())}function Mn(t,e){if(1&t&&(h.TgZ(0,"td",25),h.YNc(1,Ln,2,0,"mat-icon",26),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf",t.user)}}function Rn(t,e){1&t&&(h.TgZ(0,"th",28),h._uU(1,"Member"),h.qZA())}function Bn(t,e){if(1&t&&(h.TgZ(0,"td",25),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.label," ")}}function Hn(t,e){1&t&&h._UZ(0,"tr",29)}function En(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr",30),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(2).toggleOne(e)}),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw(2);h.ekj("selected",n.selection.isSelected(t))}}function Pn(t,e){if(1&t&&(h.TgZ(0,"table",10),h.ynx(1,11),h.YNc(2,In,1,0,"th",12),h.YNc(3,$n,2,1,"td",13),h.BQk(),h.ynx(4,14),h.YNc(5,On,2,0,"th",15),h.YNc(6,Mn,2,1,"td",16),h.BQk(),h.ynx(7,17),h.YNc(8,Rn,2,0,"th",18),h.YNc(9,Bn,2,1,"td",16),h.BQk(),h.YNc(10,Hn,1,0,"tr",19),h.YNc(11,En,1,2,"tr",20),h.qZA()),2&t){const t=h.oxw();h.Q6J("dataSource",t.dataSource),h.xp6(10),h.Q6J("matHeaderRowDef",t.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",t.displayedColumns)}}function Fn(t,e){1&t&&(h.TgZ(0,"div",31),h._uU(1," No rows to display "),h.qZA())}let jn=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=n,this.displayedColumns=["select","type","name"],this.filterControl=new Qn.NI,this.dataSource=new u.by,this.selection=new m.Ov(!0,[]);const a=n.items.filter(t=>t.user).map(t=>t.user.name);e.yamcsClient.getUsers().then(t=>{const e=(t||[]).filter(t=>-1===a.indexOf(t.name)).map(t=>({label:t.displayName||t.name,user:t}));this.dataSource.data=e})}ngAfterViewInit(){this.filterControl.valueChanges.subscribe(()=>{this.dataSource.filter=(this.filterControl.value||"").toLowerCase()}),this.dataSource.filterPredicate=(t,e)=>t.label.toLowerCase().indexOf(e)>=0,this.dataSource.paginator=this.paginator}toggleOne(t){(!this.selection.isSelected(t)||this.selection.selected.length>1)&&this.selection.clear(),this.selection.toggle(t)}save(){this.dialogRef.close(this.selection.selected)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Ge.so),h.Y36(p.C),h.Y36(Ge.WI))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-add-members-dialog"]],viewQuery:function(t,e){if(1&t&&h.Gf(c.NW,7),2&t){let t;h.iGM(t=h.CRH())&&(e.paginator=t.first)}},decls:13,vars:7,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"filter-bar",2,"margin-top","5px"],["placeholder","Filter users",3,"formControl"],["mat-table","","class","ya-data-table","style","width: 100%",3,"dataSource",4,"ngIf"],["class","ya-data-table-placeholder",4,"ngIf"],[3,"pageSize","hidePageSize","showFirstLastButtons"],["align","end"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"disabled","click"],["mat-table","",1,"ya-data-table",2,"width","100%",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox",4,"matHeaderCellDef"],["mat-cell","","class","checkbox",4,"matCellDef"],["matColumnDef","type"],["mat-header-cell","","width","1",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"checkbox"],["mat-cell","",1,"checkbox"],["type","checkbox",3,"checked","click","change"],["mat-header-cell","","width","1"],["mat-cell",""],["matTooltip","User","style","vertical-align: middle",4,"ngIf"],["matTooltip","User",2,"vertical-align","middle"],["mat-header-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"ya-data-table-placeholder"]],template:function(t,e){1&t&&(h.TgZ(0,"h2",0),h._uU(1,"Add members"),h.qZA(),h.TgZ(2,"mat-dialog-content",1),h.TgZ(3,"div",2),h._UZ(4,"app-search-filter",3),h.qZA(),h.YNc(5,Pn,12,3,"table",4),h.YNc(6,Fn,2,0,"div",5),h._UZ(7,"mat-paginator",6),h.qZA(),h.TgZ(8,"mat-dialog-actions",7),h.TgZ(9,"button",8),h._uU(10,"CANCEL"),h.qZA(),h.TgZ(11,"button",9),h.NdJ("click",function(){return e.save()}),h._uU(12,"ADD"),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.Q6J("formControl",e.filterControl),h.xp6(1),h.Q6J("ngIf",e.dataSource),h.xp6(1),h.Q6J("ngIf",!e.dataSource.data.length),h.xp6(1),h.Q6J("pageSize",10)("hidePageSize",!0)("showFirstLastButtons",!1),h.xp6(4),h.Q6J("disabled",e.selection.isEmpty()))},directives:[Ge.uh,Ge.xY,Jn.a,Qn.JJ,Qn.oH,q.O5,c.NW,Ge.H8,Ge.ZT,u.BZ,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,u.ev,D.Hw,_e.gM,u.XQ,u.Gk],styles:[".selected[_ngcontent-%COMP%]{background-color:#f0f4fd!important}.mat-row[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t})();var Gn=n(2420),Xn=n(3357);function zn(t,e){1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td",13),h._uU(2,"No rows to display"),h.qZA(),h.qZA())}function Vn(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr"),h.TgZ(1,"td"),h.TgZ(2,"mat-icon",14),h._uU(3,"person"),h.qZA(),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td",15),h.TgZ(7,"app-text-action",16),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(2).deleteItem(e)}),h._uU(8,"DELETE"),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit;h.xp6(5),h.Oqu(t.label)}}function Wn(t,e){if(1&t&&(h.TgZ(0,"table",9),h.TgZ(1,"tr"),h.TgZ(2,"th",10),h._uU(3,"Type"),h.qZA(),h.TgZ(4,"th"),h._uU(5,"Member"),h.qZA(),h._UZ(6,"th"),h.qZA(),h.YNc(7,zn,3,0,"tr",11),h.YNc(8,Vn,9,1,"tr",12),h.qZA()),2&t){const t=e.ngIf;h.xp6(7),h.Q6J("ngIf",!t.length),h.xp6(1),h.Q6J("ngForOf",t)}}let Kn=(()=>{class t{constructor(t,e,n,a,i,o,s,r){this.router=n,this.route=a,this.yamcs=i,this.dialog=o,this.messageService=s,this.location=r,this.memberItems$=new st.X([]),e.setTitle("Create a Group"),this.form=t.group({name:new Qn.NI("",[Qn.kI.required]),description:new Qn.NI})}showAddMembersDialog(){this.dialog.open(jn,{data:{items:this.memberItems$.value},width:"600px"}).afterClosed().subscribe(t=>{t&&this.updateMemberItems([...this.memberItems$.value,...t])})}updateMemberItems(t){t.sort((t,e)=>t.label<e.label?-1:t.label>e.label?1:0),this.memberItems$.next(t)}deleteItem(t){this.updateMemberItems(this.memberItems$.value.filter(e=>e!==t))}onConfirm(){const t={name:this.form.value.name,description:this.form.value.description,users:this.memberItems$.value.filter(t=>t.user).map(t=>t.user.name)};this.yamcs.yamcsClient.createGroup(t).then(()=>this.router.navigate([".."],{relativeTo:this.route})).catch(t=>this.messageService.showError(t))}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Qn.qu),h.Y36(g.Dx),h.Y36(i.F0),h.Y36(i.gz),h.Y36(p.C),h.Y36(Ge.uw),h.Y36(Gn.e),h.Y36(q.Ye))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:33,vars:5,consts:[["mat-icon-button","","routerLink","..","color","primary"],[1,"form-content","ya-form"],["novalidate","",3,"formGroup"],["formControlName","name","type","text"],["formControlName","description","rows","5"],[1,"ya-button",3,"click"],["yaDataTable","","style","width: 100%",4,"ngIf"],[1,"action-bar"],["type","submit",1,"ya-button","primary",3,"disabled","click"],["yaDataTable","",2,"width","100%"],["width","1"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","3"],["matTooltip","User",2,"vertical-align","middle"],[2,"text-align","right"],["icon","delete",3,"click"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h.TgZ(2,"a",0),h.TgZ(3,"mat-icon"),h._uU(4,"arrow_back"),h.qZA(),h.qZA(),h._uU(5," Create group "),h.qZA(),h.TgZ(6,"div",1),h.TgZ(7,"form",2),h.TgZ(8,"label"),h._uU(9," Group name"),h._UZ(10,"br"),h._UZ(11,"input",3),h.qZA(),h._UZ(12,"br"),h.TgZ(13,"label"),h._uU(14," Description "),h._UZ(15,"textarea",4),h.qZA(),h.qZA(),h.TgZ(16,"p"),h._uU(17,"\xa0"),h.qZA(),h.TgZ(18,"button",5),h.NdJ("click",function(){return e.showAddMembersDialog()}),h.TgZ(19,"mat-icon"),h._uU(20,"add"),h.qZA(),h._uU(21," ADD MEMBERS "),h.qZA(),h.TgZ(22,"p"),h._uU(23,"\xa0"),h.qZA(),h.YNc(24,Wn,9,2,"table",6),h.ALo(25,"async"),h.TgZ(26,"p"),h._uU(27,"\xa0"),h.qZA(),h.TgZ(28,"div",7),h.TgZ(29,"button",5),h.NdJ("click",function(){return e.location.back()}),h._uU(30,"Cancel"),h.qZA(),h.TgZ(31,"button",8),h.NdJ("click",function(){return e.onConfirm()}),h._uU(32,"CREATE"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("formGroup",e.form),h.xp6(17),h.Q6J("ngIf",h.lcZ(25,3,e.memberItems$)),h.xp6(7),h.Q6J("disabled",!e.form.valid))},directives:[T,C,x.zs,i.yS,D.Hw,Qn._Y,Qn.JL,Qn.sg,Qn.Fj,Qn.JJ,Qn.u,q.O5,Rt.O,q.sg,_e.gM,Xn.l],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})(),ta=(()=>{class t{constructor(t){this.data=t}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Ge.WI))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-application-credentials-dialog"]],decls:22,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"dl-horizontal"],["align","end"],["mat-dialog-close","",1,"ya-button","primary"]],template:function(t,e){1&t&&(h.TgZ(0,"h2",0),h._uU(1,"Service account created"),h.qZA(),h.TgZ(2,"mat-dialog-content",1),h.TgZ(3,"p"),h._uU(4),h.qZA(),h.TgZ(5,"dl",2),h.TgZ(6,"dt"),h._uU(7,"Application ID"),h.qZA(),h.TgZ(8,"dd"),h.TgZ(9,"pre"),h._uU(10),h.qZA(),h.qZA(),h.TgZ(11,"dt"),h._uU(12,"Application Secret"),h.qZA(),h.TgZ(13,"dd"),h.TgZ(14,"pre"),h._uU(15),h.qZA(),h.qZA(),h.qZA(),h.TgZ(16,"strong"),h._uU(17,"Important: "),h.qZA(),h._uU(18," Take note of these application credentials. It is not possible to display them after closing this dialog.\n"),h.qZA(),h.TgZ(19,"mat-dialog-actions",3),h.TgZ(20,"button",4),h._uU(21,"CLOSE"),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.hij("The service account '",e.data.name,"' was created successfully. You can use this account to connect an application to Yamcs."),h.xp6(6),h.Oqu(e.data.applicationId),h.xp6(5),h.Oqu(e.data.applicationSecret))},directives:[Ge.uh,Ge.xY,Ge.H8,Ge.ZT],encapsulation:2,changeDetection:0}),t})(),ea=(()=>{class t{constructor(t,e,n,a,i,o,s,r){this.router=n,this.route=a,this.yamcs=i,this.messageService=o,this.location=s,this.dialog=r,e.setTitle("Create service account"),this.form=t.group({name:new Qn.NI("",[Qn.kI.required])})}onConfirm(){this.yamcs.yamcsClient.createServiceAccount({name:this.form.value.name}).then(t=>this.onServerConfirm(t)).catch(t=>this.messageService.showError(t))}onServerConfirm(t){this.dialog.open(ta,{disableClose:!0,closeOnNavigation:!1,data:t,width:"550px"}).afterClosed().subscribe(()=>{this.router.navigate([".."],{relativeTo:this.route})})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Qn.qu),h.Y36(g.Dx),h.Y36(i.F0),h.Y36(i.gz),h.Y36(p.C),h.Y36(Gn.e),h.Y36(q.Ye),h.Y36(Ge.uw))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:29,vars:4,consts:[["mat-icon-button","","routerLink","..","color","primary"],[1,"form-content","ya-form"],["novalidate","",3,"formGroup"],[1,"hint"],["formControlName","name","type","text"],[2,"margin-top","32px"],["type","checkbox",3,"disabled","checked"],[1,"action-bar"],[1,"ya-button",3,"click"],["type","submit",1,"ya-button","primary",3,"disabled","click"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h.TgZ(2,"a",0),h.TgZ(3,"mat-icon"),h._uU(4,"arrow_back"),h.qZA(),h.qZA(),h._uU(5," Create service account "),h.qZA(),h.TgZ(6,"div",1),h.TgZ(7,"form",2),h.TgZ(8,"label"),h._uU(9," Service account name "),h.TgZ(10,"span",3),h._uU(11,"(required)"),h.qZA(),h._UZ(12,"br"),h._UZ(13,"input",4),h.qZA(),h.TgZ(14,"h2",5),h._uU(15,"Scopes"),h.qZA(),h.TgZ(16,"label"),h._UZ(17,"input",6),h._uU(18," Impersonation"),h._UZ(19,"br"),h.TgZ(20,"span",3),h._uU(21,"Grants permission to access the API on behalf of any user in the system."),h.qZA(),h.qZA(),h.qZA(),h.TgZ(22,"p"),h._uU(23,"\xa0"),h.qZA(),h.TgZ(24,"div",7),h.TgZ(25,"button",8),h.NdJ("click",function(){return e.location.back()}),h._uU(26,"Cancel"),h.qZA(),h.TgZ(27,"button",9),h.NdJ("click",function(){return e.onConfirm()}),h._uU(28,"CREATE"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("formGroup",e.form),h.xp6(10),h.Q6J("disabled",!0)("checked",!0),h.xp6(10),h.Q6J("disabled",!e.form.valid))},directives:[T,C,x.zs,i.yS,D.Hw,Qn._Y,Qn.JL,Qn.sg,Qn.Fj,Qn.JJ,Qn.u],encapsulation:2,changeDetection:0}),t})();var na=n(6278);let aa=(()=>{class t{constructor(t,e,n,a,i){this.router=n,this.yamcs=a,this.messageService=i,e.setTitle("Create a User"),this.form=t.group({name:new Qn.NI("",[Qn.kI.required]),displayName:new Qn.NI("",[Qn.kI.required]),email:new Qn.NI("",[Qn.kI.required]),password:new Qn.NI,passwordConfirmation:new Qn.NI})}onConfirm(){const t=this.form.value,e={name:t.name,displayName:t.displayName,email:t.email};if(t.password){if(t.password!==t.passwordConfirmation)return void alert("Password confirmation does not match password");e.password=t.password}this.yamcs.yamcsClient.createUser(e).then(()=>this.router.navigateByUrl(`/admin/iam/users/${t.name}`)).catch(t=>this.messageService.showError(t))}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Qn.qu),h.Y36(g.Dx),h.Y36(i.F0),h.Y36(p.C),h.Y36(Gn.e))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:53,vars:2,consts:[["mat-icon-button","","routerLink","..","color","primary"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],[1,"hint"],["formControlName","name","type","text"],["formControlName","displayName","type","text"],["formControlName","email","type","text"],[1,"section-divider"],["formControlName","password","type","password"],["formControlName","passwordConfirmation","type","password"],[1,"action-bar"],["routerLink","..",1,"ya-button"],["type","submit",1,"ya-button","primary",3,"disabled","click"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h.TgZ(2,"a",0),h.TgZ(3,"mat-icon"),h._uU(4,"arrow_back"),h.qZA(),h.qZA(),h._uU(5," Create user "),h.qZA(),h.TgZ(6,"div",1),h.TgZ(7,"form",2),h.TgZ(8,"label"),h._uU(9," Username "),h.TgZ(10,"span",3),h._uU(11,"(required)"),h.qZA(),h._UZ(12,"br"),h._UZ(13,"input",4),h.qZA(),h._UZ(14,"br"),h.TgZ(15,"label"),h._uU(16," Display name "),h.TgZ(17,"span",3),h._uU(18,"(required)"),h.qZA(),h._UZ(19,"br"),h._UZ(20,"input",5),h.qZA(),h._UZ(21,"br"),h.TgZ(22,"label"),h._uU(23," Email "),h.TgZ(24,"span",3),h._uU(25,"(required)"),h.qZA(),h._UZ(26,"br"),h._UZ(27,"input",6),h.qZA(),h.TgZ(28,"p"),h._uU(29,"\xa0"),h.qZA(),h.TgZ(30,"div",7),h._UZ(31,"mat-divider"),h.qZA(),h._UZ(32,"br"),h.TgZ(33,"label"),h._uU(34," Password "),h.TgZ(35,"span",3),h._uU(36,"(optional)"),h.qZA(),h._UZ(37,"br"),h.TgZ(38,"span",3),h._uU(39,"User without a password may still be able to login if an external identity provider is configured."),h.qZA(),h._UZ(40,"input",8),h.qZA(),h._UZ(41,"br"),h.TgZ(42,"label"),h._uU(43," Password confirmation"),h._UZ(44,"br"),h._UZ(45,"input",9),h.qZA(),h.qZA(),h.TgZ(46,"p"),h._uU(47,"\xa0"),h.qZA(),h.TgZ(48,"div",10),h.TgZ(49,"button",11),h._uU(50,"Cancel"),h.qZA(),h.TgZ(51,"button",12),h.NdJ("click",function(){return e.onConfirm()}),h._uU(52,"CREATE"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("formGroup",e.form),h.xp6(44),h.Q6J("disabled",!e.form.valid))},directives:[T,C,x.zs,i.yS,D.Hw,Qn._Y,Qn.JL,Qn.sg,Qn.Fj,Qn.JJ,Qn.u,na.d,i.rH],encapsulation:2,changeDetection:0}),t})();function ia(t,e){1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td",13),h._uU(2,"No rows to display"),h.qZA(),h.qZA())}function oa(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr"),h.TgZ(1,"td"),h.TgZ(2,"mat-icon",14),h._uU(3,"person"),h.qZA(),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td",15),h.TgZ(7,"app-text-action",16),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(3).deleteItem(e)}),h._uU(8,"DELETE"),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit;h.xp6(5),h.Oqu(t.label)}}function sa(t,e){if(1&t&&(h.TgZ(0,"table",10),h.TgZ(1,"tr"),h.TgZ(2,"th",11),h._uU(3,"Type"),h.qZA(),h.TgZ(4,"th"),h._uU(5,"Member"),h.qZA(),h._UZ(6,"th"),h.qZA(),h.YNc(7,ia,3,0,"tr",0),h.YNc(8,oa,9,1,"tr",12),h.qZA()),2&t){const t=e.ngIf;h.xp6(7),h.Q6J("ngIf",!t.length),h.xp6(1),h.Q6J("ngForOf",t)}}function ra(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"form",2),h.TgZ(5,"label"),h._uU(6," Name"),h._UZ(7,"br"),h._UZ(8,"input",3),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"label"),h._uU(11," Description "),h._UZ(12,"textarea",4),h.qZA(),h.qZA(),h.TgZ(13,"p"),h._uU(14,"\xa0"),h.qZA(),h.TgZ(15,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().showAddMembersDialog()}),h.TgZ(16,"mat-icon"),h._uU(17,"add"),h.qZA(),h._uU(18," ADD MEMBERS "),h.qZA(),h.TgZ(19,"p"),h._uU(20,"\xa0"),h.qZA(),h.YNc(21,sa,9,2,"table",6),h.ALo(22,"async"),h.TgZ(23,"p"),h._uU(24,"\xa0"),h.qZA(),h.TgZ(25,"div",7),h.TgZ(26,"button",8),h.NdJ("click",function(){return h.CHM(t),h.oxw().location.back()}),h._uU(27,"Cancel"),h.qZA(),h.TgZ(28,"button",9),h.NdJ("click",function(){return h.CHM(t),h.oxw().onConfirm()}),h.ALo(29,"async"),h._uU(30,"SAVE CHANGES"),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.ngIf,n=h.oxw();h.xp6(2),h.hij(" Edit Group: ",t.name," "),h.xp6(2),h.Q6J("formGroup",n.form),h.xp6(17),h.Q6J("ngIf",h.lcZ(22,4,n.memberItems$)),h.xp6(7),h.Q6J("disabled",!h.lcZ(29,6,n.dirty$)||!n.form.valid)}}let ca=(()=>{class t{constructor(t,e,n,a,i,o,s,r){this.router=n,this.yamcs=i,this.messageService=o,this.dialog=s,this.location=r,this.memberItems$=new st.X([]),this.dirty$=new st.X(!1),e.setTitle("Edit Group");const c=a.snapshot.paramMap.get("name");this.group$=i.yamcsClient.getGroup(c),this.group$.then(e=>{this.group=e,this.form=t.group({name:new Qn.NI(e.name),description:new Qn.NI(e.description)}),this.formSubscription=this.form.valueChanges.subscribe(()=>{this.dirty$.next(!0)});const n=[];if(e.users)for(const t of e.users)n.push({label:t.displayName||t.name,user:t});this.updateMemberItems(n,!1)})}showAddMembersDialog(){this.dialog.open(jn,{data:{items:this.memberItems$.value},width:"600px"}).afterClosed().subscribe(t=>{t&&this.updateMemberItems([...this.memberItems$.value,...t])})}updateMemberItems(t,e=!0){t.sort((t,e)=>t.label<e.label?-1:t.label>e.label?1:0),this.memberItems$.next(t),this.dirty$.next(e)}deleteItem(t){this.updateMemberItems(this.memberItems$.value.filter(e=>e!==t))}onConfirm(){const t=this.form.value,e={newName:t.name,description:t.description,memberInfo:{users:this.memberItems$.value.filter(t=>t.user).map(t=>t.user.name)}},n=t.name;this.yamcs.yamcsClient.editGroup(this.group.name,e).then(()=>this.router.navigateByUrl(`/admin/iam/groups/${n}`)).catch(t=>this.messageService.showError(t))}ngOnDestroy(){this.formSubscription&&this.formSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Qn.qu),h.Y36(g.Dx),h.Y36(i.F0),h.Y36(i.gz),h.Y36(p.C),h.Y36(Gn.e),h.Y36(Ge.uw),h.Y36(q.Ye))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],["formControlName","name","type","text"],["formControlName","description","rows","5"],["mat-stroked-button","",3,"click"],["yaDataTable","","style","width: 100%",4,"ngIf"],[1,"action-bar"],[1,"ya-button",3,"click"],["type","submit",1,"ya-button","primary",3,"disabled","click"],["yaDataTable","",2,"width","100%"],["width","1"],[4,"ngFor","ngForOf"],["colspan","3"],["matTooltip","User",2,"vertical-align","middle"],[2,"text-align","right"],["icon","delete",3,"click"]],template:function(t,e){1&t&&(h.YNc(0,ra,31,8,"app-admin-page",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.group$))},directives:[q.O5,T,C,Qn._Y,Qn.JL,Qn.sg,Qn.Fj,Qn.JJ,Qn.u,x.lW,D.Hw,Rt.O,q.sg,_e.gM,Xn.l],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();function la(t,e){1&t&&h._UZ(0,"th",19)}function ua(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"td",20),h.TgZ(1,"input",21),h.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=h.CHM(t).$implicit,a=h.oxw(2);return e?a.selection.toggle(n):null}),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw(2);h.xp6(1),h.Q6J("checked",n.selection.isSelected(t))}}function pa(t,e){1&t&&(h.TgZ(0,"th",22),h._uU(1,"Role"),h.qZA())}function ma(t,e){if(1&t&&(h.TgZ(0,"td",23),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.label," ")}}function da(t,e){1&t&&h._UZ(0,"tr",24)}function ha(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr",25),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(2).toggleOne(e)}),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw(2);h.ekj("selected",n.selection.isSelected(t))}}function ga(t,e){if(1&t&&(h.TgZ(0,"table",10),h.ynx(1,11),h.YNc(2,la,1,0,"th",12),h.YNc(3,ua,2,1,"td",13),h.BQk(),h.ynx(4,14),h.YNc(5,pa,2,0,"th",15),h.YNc(6,ma,2,1,"td",16),h.BQk(),h.YNc(7,da,1,0,"tr",17),h.YNc(8,ha,1,2,"tr",18),h.qZA()),2&t){const t=h.oxw();h.Q6J("dataSource",t.dataSource),h.xp6(7),h.Q6J("matHeaderRowDef",t.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",t.displayedColumns)}}function fa(t,e){1&t&&(h.TgZ(0,"div",26),h._uU(1," No rows to display "),h.qZA())}let Za=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=n,this.displayedColumns=["select","name"],this.filterControl=new Qn.NI,this.dataSource=new u.by,this.selection=new m.Ov(!0,[]);const a=n.items.filter(t=>t.role).map(t=>t.role.name);e.yamcsClient.getRoles().then(t=>{const e=(t||[]).filter(t=>-1===a.indexOf(t.name)).map(t=>({label:t.name,role:t}));this.dataSource.data=e})}ngAfterViewInit(){this.filterControl.valueChanges.subscribe(()=>{this.dataSource.filter=(this.filterControl.value||"").toLowerCase()}),this.dataSource.filterPredicate=(t,e)=>t.label.toLowerCase().indexOf(e)>=0,this.dataSource.paginator=this.paginator}toggleOne(t){(!this.selection.isSelected(t)||this.selection.selected.length>1)&&this.selection.clear(),this.selection.toggle(t)}save(){this.dialogRef.close(this.selection.selected)}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Ge.so),h.Y36(p.C),h.Y36(Ge.WI))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-add-roles-dialog"]],viewQuery:function(t,e){if(1&t&&h.Gf(c.NW,7),2&t){let t;h.iGM(t=h.CRH())&&(e.paginator=t.first)}},decls:13,vars:7,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"filter-bar",2,"margin-top","5px"],["placeholder","Filter roles",3,"formControl"],["mat-table","","class","ya-data-table","style","width: 100%",3,"dataSource",4,"ngIf"],["class","ya-data-table-placeholder",4,"ngIf"],[3,"pageSize","hidePageSize","showFirstLastButtons"],["align","end"],["mat-dialog-close","",1,"ya-button"],[1,"ya-button","primary",3,"disabled","click"],["mat-table","",1,"ya-data-table",2,"width","100%",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","checkbox",4,"matHeaderCellDef"],["mat-cell","","class","checkbox",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"checkbox"],["mat-cell","",1,"checkbox"],["type","checkbox",3,"checked","click","change"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[1,"ya-data-table-placeholder"]],template:function(t,e){1&t&&(h.TgZ(0,"h2",0),h._uU(1,"Add roles"),h.qZA(),h.TgZ(2,"mat-dialog-content",1),h.TgZ(3,"div",2),h._UZ(4,"app-search-filter",3),h.qZA(),h.YNc(5,ga,9,3,"table",4),h.YNc(6,fa,2,0,"div",5),h._UZ(7,"mat-paginator",6),h.qZA(),h.TgZ(8,"mat-dialog-actions",7),h.TgZ(9,"button",8),h._uU(10,"CANCEL"),h.qZA(),h.TgZ(11,"button",9),h.NdJ("click",function(){return e.save()}),h._uU(12,"ADD"),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.Q6J("formControl",e.filterControl),h.xp6(1),h.Q6J("ngIf",e.dataSource),h.xp6(1),h.Q6J("ngIf",!e.dataSource.data.length),h.xp6(1),h.Q6J("pageSize",10)("hidePageSize",!0)("showFirstLastButtons",!1),h.xp6(4),h.Q6J("disabled",e.selection.isEmpty()))},directives:[Ge.uh,Ge.xY,Jn.a,Qn.JJ,Qn.oH,q.O5,c.NW,Ge.H8,Ge.ZT,u.BZ,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,u.ev,u.XQ,u.Gk],styles:[".selected[_ngcontent-%COMP%]{background-color:#f0f4fd!important}.mat-row[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t})();var Aa=n(9572);function Ta(t,e){1&t&&(h.TgZ(0,"span",8),h._uU(1," This user has an external identity. Changes to this field may get overwritten on next login. "),h.qZA())}function ba(t,e){1&t&&(h.TgZ(0,"span",8),h._uU(1," This user has an external identity. Changes to this field may get overwritten on next login. "),h.qZA())}function ya(t,e){1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td",17),h._uU(2,"No rows to display"),h.qZA(),h.qZA())}function qa(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td",18),h.TgZ(4,"app-text-action",19),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(3).deleteItem(e)}),h._uU(5,"DELETE"),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.label)}}function xa(t,e){if(1&t&&(h.TgZ(0,"table",15),h.TgZ(1,"tr"),h.TgZ(2,"th"),h._uU(3,"Role"),h.qZA(),h._UZ(4,"th"),h.qZA(),h.YNc(5,ya,3,0,"tr",0),h.YNc(6,qa,6,1,"tr",16),h.qZA()),2&t){const t=e.ngIf;h.xp6(5),h.Q6J("ngIf",!t.length),h.xp6(1),h.Q6J("ngForOf",t)}}function Ua(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"form",2),h.TgZ(5,"label"),h._uU(6," Username"),h._UZ(7,"br"),h._UZ(8,"input",3),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"label"),h._uU(11," Display name"),h._UZ(12,"br"),h._UZ(13,"input",4),h.YNc(14,Ta,2,0,"span",5),h.qZA(),h._UZ(15,"br"),h.TgZ(16,"label"),h._uU(17," Email"),h._UZ(18,"br"),h._UZ(19,"input",6),h.YNc(20,ba,2,0,"span",5),h.qZA(),h._UZ(21,"br"),h.TgZ(22,"label"),h._uU(23," Active"),h._UZ(24,"br"),h._UZ(25,"mat-slide-toggle",7),h._UZ(26,"br"),h.TgZ(27,"span",8),h._uU(28,'Inactive users are considered "blocked". They are not or no longer able to login.'),h.qZA(),h.qZA(),h._UZ(29,"br"),h.TgZ(30,"label"),h._uU(31," Superuser"),h._UZ(32,"br"),h._UZ(33,"mat-slide-toggle",9),h._UZ(34,"br"),h.TgZ(35,"span",8),h._uU(36,"Superusers bypass any permission checks. This attribute is intended for system administrators only."),h.qZA(),h.qZA(),h.TgZ(37,"p"),h._uU(38,"\xa0"),h.qZA(),h.TgZ(39,"button",10),h.NdJ("click",function(){return h.CHM(t),h.oxw().showAddRolesDialog()}),h.TgZ(40,"mat-icon"),h._uU(41,"add"),h.qZA(),h._uU(42," ADD ROLES "),h.qZA(),h.TgZ(43,"p"),h._uU(44,"\xa0"),h.qZA(),h.YNc(45,xa,7,2,"table",11),h.ALo(46,"async"),h.qZA(),h.TgZ(47,"p"),h._uU(48,"\xa0"),h.qZA(),h.TgZ(49,"div",12),h.TgZ(50,"button",13),h.NdJ("click",function(){return h.CHM(t),h.oxw().location.back()}),h._uU(51,"Cancel"),h.qZA(),h.TgZ(52,"button",14),h.NdJ("click",function(){return h.CHM(t),h.oxw().onConfirm()}),h.ALo(53,"async"),h._uU(54,"SAVE CHANGES"),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.ngIf,n=h.oxw();h.xp6(2),h.hij(" Edit User: ",t.displayName||t.name," "),h.xp6(2),h.Q6J("formGroup",n.form),h.xp6(4),h.Q6J("value",t.name),h.xp6(6),h.Q6J("ngIf",t.identities&&t.identities.length>0),h.xp6(6),h.Q6J("ngIf",t.identities&&t.identities.length>0),h.xp6(25),h.Q6J("ngIf",h.lcZ(46,7,n.roleItems$)),h.xp6(7),h.Q6J("disabled",!h.lcZ(53,9,n.dirty$)||!n.form.valid)}}let wa=(()=>{class t{constructor(t,e,n,a,i,o,s,r){this.router=n,this.route=a,this.yamcs=i,this.messageService=o,this.dialog=s,this.location=r,this.roleItems$=new st.X([]),this.dirty$=new st.X(!1),e.setTitle("Edit User");const c=a.snapshot.paramMap.get("username");this.user$=i.yamcsClient.getUser(c),this.user$.then(e=>{this.user=e,this.form=t.group({displayName:new Qn.NI(e.displayName),email:new Qn.NI(e.email),active:new Qn.NI(e.active),superuser:new Qn.NI(e.superuser)}),this.formSubscription=this.form.valueChanges.subscribe(()=>{this.dirty$.next(!0)});const n=[];if(e.roles)for(const t of e.roles)n.push({label:t.name,role:t});this.updateRoleItems(n,!1)})}showAddRolesDialog(){this.dialog.open(Za,{data:{items:this.roleItems$.value},width:"600px"}).afterClosed().subscribe(t=>{t&&this.updateRoleItems([...this.roleItems$.value,...t])})}updateRoleItems(t,e=!0){t.sort((t,e)=>t.label<e.label?-1:t.label>e.label?1:0),this.roleItems$.next(t),this.dirty$.next(e)}deleteItem(t){this.updateRoleItems(this.roleItems$.value.filter(e=>e!==t))}onConfirm(){const t=this.form.value,e={roleAssignment:{roles:this.roleItems$.value.filter(t=>t.role).map(t=>t.role.name)}};t.displayName!==this.user.displayName&&(e.displayName=t.displayName),t.email!==this.user.email&&(e.email=t.email),t.active!==this.user.active&&(e.active=t.active),t.superuser!==this.user.superuser&&(e.superuser=t.superuser),this.yamcs.yamcsClient.editUser(this.user.name,e).then(()=>this.router.navigate([".."],{relativeTo:this.route})).catch(t=>this.messageService.showError(t))}ngOnDestroy(){this.formSubscription&&this.formSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Qn.qu),h.Y36(g.Dx),h.Y36(i.F0),h.Y36(i.gz),h.Y36(p.C),h.Y36(Gn.e),h.Y36(Ge.uw),h.Y36(q.Ye))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"form-content","ya-form"],["novalidate","","autocomplete","off",3,"formGroup"],["disabled","","type","text",3,"value"],["formControlName","displayName","type","text"],["class","hint",4,"ngIf"],["formControlName","email","type","text"],["formControlName","active"],[1,"hint"],["formControlName","superuser"],["mat-stroked-button","",3,"click"],["yaDataTable","","style","width: 100%",4,"ngIf"],[1,"action-bar"],[1,"ya-button",3,"click"],["type","submit",1,"ya-button","primary",3,"disabled","click"],["yaDataTable","",2,"width","100%"],[4,"ngFor","ngForOf"],["colspan","2"],[2,"text-align","right"],["icon","delete",3,"click"]],template:function(t,e){1&t&&(h.YNc(0,Ua,55,11,"app-admin-page",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.user$))},directives:[q.O5,T,C,Qn._Y,Qn.JL,Qn.sg,Qn.Fj,Qn.JJ,Qn.u,Aa.Rr,x.lW,D.Hw,Rt.O,q.sg,Xn.l],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();function _a(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"div",3),h._UZ(2,"mat-divider"),h.qZA(),h.TgZ(3,"h4"),h._uU(4,"Description"),h.qZA(),h.TgZ(5,"div",5),h._uU(6),h.qZA(),h.BQk()),2&t){const t=h.oxw().ngIf;h.xp6(6),h.Oqu(t.description||"-")}}const va=function(t){return["/admin/iam/users",t]};function Ca(t,e){if(1&t&&(h.TgZ(0,"div"),h.TgZ(1,"mat-icon",6),h._uU(2,"person"),h.qZA(),h.TgZ(3,"a",7),h._uU(4),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(3),h.Q6J("routerLink",h.VKq(2,va,t.name)),h.xp6(1),h.Oqu(t.displayName||t.name)}}function Da(t,e){if(1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2),h.TgZ(3,"a",1),h.TgZ(4,"mat-icon"),h._uU(5,"edit"),h.qZA(),h._uU(6," EDIT GROUP "),h.qZA(),h.qZA(),h.TgZ(7,"div",2),h.YNc(8,_a,7,1,"ng-container",0),h._UZ(9,"br"),h.TgZ(10,"div",3),h._UZ(11,"mat-divider"),h.qZA(),h.TgZ(12,"h4"),h._uU(13),h.qZA(),h.YNc(14,Ca,5,4,"div",4),h.qZA(),h.qZA()),2&t){const t=e.ngIf;h.xp6(2),h.hij(" ",t.name," \xa0\xa0\xa0 "),h.xp6(6),h.Q6J("ngIf",t.description),h.xp6(5),h.hij("",(null==t.users?null:t.users.length)||0," members"),h.xp6(1),h.Q6J("ngForOf",t.users)}}let Na=(()=>{class t{constructor(t,e,n){this.yamcs=e,this.title=n,this.group$=new st.X(null),t.paramMap.subscribe(t=>{const e=t.get("name");this.changeGroup(e)})}changeGroup(t){this.yamcs.yamcsClient.getGroup(t).then(t=>{this.group$.next(t),this.title.setTitle(t.name)})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-button","","color","primary","routerLink","edit"],[1,"panel-content","ya-link"],[1,"section-divider"],[4,"ngFor","ngForOf"],[2,"white-space","pre-wrap"],["matTooltip","User",1,"icon16",2,"vertical-align","middle"],[3,"routerLink"]],template:function(t,e){1&t&&(h.YNc(0,Da,15,4,"app-admin-page",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.group$))},directives:[q.O5,T,C,x.zs,i.yS,D.Hw,na.d,q.sg,_e.gM],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();function Ya(t,e){1&t&&(h.TgZ(0,"th",15),h._uU(1,"Group"),h.qZA())}function ka(t,e){if(1&t&&(h.TgZ(0,"td",16),h.TgZ(1,"a",17),h._uU(2),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink",t.name),h.xp6(1),h.Oqu(t.name)}}function Sa(t,e){1&t&&(h.TgZ(0,"th",18),h._uU(1,"Members"),h.qZA())}function Qa(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"mat-icon",20),h._uU(2,"person"),h.qZA(),h._uU(3),h._UZ(4,"br"),h.BQk()),2&t){const t=e.$implicit;h.xp6(3),h.hij(" ",t.displayName||t.name," ")}}function Ja(t,e){if(1&t&&(h.TgZ(0,"td",16),h.YNc(1,Qa,5,1,"ng-container",19),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("ngForOf",t.users)}}function Ia(t,e){1&t&&h._UZ(0,"th",21)}const $a=function(t){return[t,"edit"]};function Oa(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"td",16),h.TgZ(1,"mat-menu",22,23),h.TgZ(3,"a",24),h._uU(4," Edit group "),h.qZA(),h.TgZ(5,"button",25),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw().deleteGroup(e.name)}),h._uU(6," Delete group "),h.qZA(),h.qZA(),h.TgZ(7,"button",26),h.NdJ("click",function(t){return t.stopPropagation()}),h.TgZ(8,"mat-icon"),h._uU(9,"more_vert"),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit,n=h.MAs(2);h.xp6(3),h.Q6J("routerLink",h.VKq(2,$a,t.name)),h.xp6(4),h.Q6J("matMenuTriggerFor",n)}}function La(t,e){1&t&&h._UZ(0,"tr",27)}function Ma(t,e){1&t&&h._UZ(0,"tr",28)}function Ra(t,e){1&t&&(h.TgZ(0,"div",29),h._uU(1," No rows to display "),h.qZA())}let Ba=(()=>{class t{constructor(t,e,n,a,i){this.yamcs=t,this.route=n,this.router=a,this.messageService=i,this.filterControl=new Qn.NI,this.displayedColumns=["name","members","actions"],this.dataSource=new u.by,e.setTitle("Groups"),this.dataSource.filterPredicate=(t,e)=>t.name.toLowerCase().indexOf(e)>=0}ngAfterViewInit(){const t=this.route.snapshot.queryParamMap;t.has("filter")&&(this.filterControl.setValue(t.get("filter")),this.dataSource.filter=t.get("filter").toLowerCase()),this.filterControl.valueChanges.subscribe(()=>{this.updateURL(),this.dataSource.filter=(this.filterControl.value||"").toLowerCase()}),this.refresh(),this.dataSource.sort=this.sort}refresh(){this.yamcs.yamcsClient.getGroups().then(t=>{this.dataSource.data=t})}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{filter:this.filterControl.value||null},queryParamsHandling:"merge"})}deleteGroup(t){confirm(`Are you sure you want to delete group ${t}`)&&this.yamcs.yamcsClient.deleteGroup(t).then(()=>this.refresh()).catch(t=>this.messageService.showError(t))}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(i.gz),h.Y36(i.F0),h.Y36(Gn.e))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,7),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},decls:23,vars:5,consts:[["mat-button","","color","primary","routerLink","create"],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter groups",3,"formControl"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","width","200",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","members"],["mat-header-cell","","mat-sort-header","","width","300",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","ya-data-table-placeholder",4,"ngIf"],["mat-header-cell","","mat-sort-header","","width","200"],["mat-cell",""],[3,"routerLink"],["mat-header-cell","","mat-sort-header","","width","300"],[4,"ngFor","ngForOf"],[1,"icon16",2,"vertical-align","middle"],["mat-header-cell",""],["overlapTrigger","false",1,"ya-menu"],["groupMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-button","",1,"icon",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row",""],[1,"ya-data-table-placeholder"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Groups \xa0\xa0\xa0 "),h.TgZ(3,"a",0),h.TgZ(4,"mat-icon"),h._uU(5,"add"),h.qZA(),h._uU(6," CREATE GROUP "),h.qZA(),h.qZA(),h.TgZ(7,"div",1),h.TgZ(8,"div",2),h._UZ(9,"app-search-filter",3),h.qZA(),h.TgZ(10,"table",4),h.ynx(11,5),h.YNc(12,Ya,2,0,"th",6),h.YNc(13,ka,3,2,"td",7),h.BQk(),h.ynx(14,8),h.YNc(15,Sa,2,0,"th",9),h.YNc(16,Ja,2,1,"td",7),h.BQk(),h.ynx(17,10),h.YNc(18,Ia,1,0,"th",11),h.YNc(19,Oa,10,4,"td",7),h.BQk(),h.YNc(20,La,1,0,"tr",12),h.YNc(21,Ma,1,0,"tr",13),h.qZA(),h.YNc(22,Ra,2,0,"div",14),h.qZA(),h.qZA()),2&t&&(h.xp6(9),h.Q6J("formControl",e.filterControl),h.xp6(1),h.Q6J("dataSource",e.dataSource),h.xp6(10),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns),h.xp6(1),h.Q6J("ngIf",!e.dataSource.data.length))},directives:[T,C,x.zs,i.yS,D.Hw,Jn.a,Qn.JJ,Qn.oH,u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,q.O5,u.ge,l.nU,u.ev,q.sg,k.VK,k.OP,x.lW,k.p6,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})();function Ha(t,e){if(1&t&&(h.TgZ(0,"div"),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t," ")}}function Ea(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"dt"),h._uU(2),h.qZA(),h.TgZ(3,"dd"),h._uU(4),h.qZA(),h.BQk()),2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.type),h.xp6(2),h.Oqu(t.object)}}function Pa(t,e){if(1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"h4"),h._uU(5,"Description"),h.qZA(),h.TgZ(6,"div",2),h._uU(7),h.qZA(),h._UZ(8,"br"),h.TgZ(9,"div",3),h._UZ(10,"mat-divider"),h.qZA(),h.TgZ(11,"h4"),h._uU(12),h.qZA(),h.YNc(13,Ha,2,1,"div",4),h._UZ(14,"br"),h.TgZ(15,"div",3),h._UZ(16,"mat-divider"),h.qZA(),h.TgZ(17,"h4"),h._uU(18),h.qZA(),h.TgZ(19,"dl"),h.YNc(20,Ea,5,2,"ng-container",4),h.qZA(),h.qZA(),h.qZA()),2&t){const t=e.ngIf;h.xp6(2),h.hij(" ",t.name," "),h.xp6(5),h.Oqu(t.description||"-"),h.xp6(5),h.hij("",(null==t.systemPrivileges?null:t.systemPrivileges.length)||0," assigned system privileges"),h.xp6(1),h.Q6J("ngForOf",t.systemPrivileges),h.xp6(5),h.hij("",(null==t.objectPrivileges?null:t.objectPrivileges.length)||0," assigned object privileges"),h.xp6(2),h.Q6J("ngForOf",t.objectPrivileges)}}let Fa=(()=>{class t{constructor(t,e,n){this.yamcs=e,this.title=n,this.role$=new st.X(null),t.paramMap.subscribe(t=>{const e=t.get("name");this.changeRole(e)})}changeRole(t){this.yamcs.yamcsClient.getRole(t).then(t=>{this.role$.next(t),this.title.setTitle(t.name)})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"panel-content","ya-link"],[2,"white-space","pre-wrap"],[1,"section-divider"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(h.YNc(0,Pa,21,6,"app-admin-page",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.role$))},directives:[q.O5,T,C,na.d,q.sg],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();function ja(t,e){1&t&&(h.TgZ(0,"th",12),h._uU(1,"Role"),h.qZA())}function Ga(t,e){if(1&t&&(h.TgZ(0,"td",13),h.TgZ(1,"a",14),h._uU(2),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink",t.name),h.xp6(1),h.Oqu(t.name)}}function Xa(t,e){1&t&&(h.TgZ(0,"th",15),h._uU(1,"Default"),h.qZA())}function za(t,e){1&t&&(h.TgZ(0,"mat-icon"),h._uU(1,"check"),h.qZA())}function Va(t,e){1&t&&(h.TgZ(0,"mat-icon"),h._uU(1,"close"),h.qZA())}function Wa(t,e){if(1&t&&(h.TgZ(0,"td",13),h.YNc(1,za,2,0,"mat-icon",16),h.YNc(2,Va,2,0,"mat-icon",16),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf",t.default),h.xp6(1),h.Q6J("ngIf",!t.default)}}function Ka(t,e){1&t&&h._UZ(0,"tr",17)}function ti(t,e){1&t&&h._UZ(0,"tr",18)}function ei(t,e){1&t&&(h.TgZ(0,"div",19),h._uU(1," No rows to display "),h.qZA())}let ni=(()=>{class t{constructor(t,e,n,a){this.yamcs=t,this.route=n,this.router=a,this.filterControl=new Qn.NI,this.displayedColumns=["name","default"],this.dataSource=new u.by,e.setTitle("Roles"),this.dataSource.filterPredicate=(t,e)=>t.name.toLowerCase().indexOf(e)>=0}ngAfterViewInit(){const t=this.route.snapshot.queryParamMap;t.has("filter")&&(this.filterControl.setValue(t.get("filter")),this.dataSource.filter=t.get("filter").toLowerCase()),this.filterControl.valueChanges.subscribe(()=>{this.updateURL(),this.dataSource.filter=(this.filterControl.value||"").toLowerCase()}),this.refresh(),this.dataSource.sort=this.sort}refresh(){this.yamcs.yamcsClient.getRoles().then(t=>{this.dataSource.data=t})}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{filter:this.filterControl.value||null},queryParamsHandling:"merge"})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(i.gz),h.Y36(i.F0))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,7),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},decls:16,vars:5,consts:[[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter roles",3,"formControl"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","style","width: 200px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","default"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","ya-data-table-placeholder",4,"ngIf"],["mat-header-cell","","mat-sort-header","",2,"width","200px"],["mat-cell",""],[3,"routerLink"],["mat-header-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""],[1,"ya-data-table-placeholder"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Roles "),h.qZA(),h.TgZ(3,"div",0),h.TgZ(4,"div",1),h._UZ(5,"app-search-filter",2),h.qZA(),h.TgZ(6,"table",3),h.ynx(7,4),h.YNc(8,ja,2,0,"th",5),h.YNc(9,Ga,3,2,"td",6),h.BQk(),h.ynx(10,7),h.YNc(11,Xa,2,0,"th",8),h.YNc(12,Wa,3,2,"td",6),h.BQk(),h.YNc(13,Ka,1,0,"tr",9),h.YNc(14,ti,1,0,"tr",10),h.qZA(),h.YNc(15,ei,2,0,"div",11),h.qZA(),h.qZA()),2&t&&(h.xp6(5),h.Q6J("formControl",e.filterControl),h.xp6(1),h.Q6J("dataSource",e.dataSource),h.xp6(7),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns),h.xp6(1),h.Q6J("ngIf",!e.dataSource.data.length))},directives:[T,C,Jn.a,Qn.JJ,Qn.oH,u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,q.O5,u.ge,l.nU,u.ev,i.yS,D.Hw,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})();function ai(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"Service account"),h.qZA())}function ii(t,e){if(1&t&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.name," ")}}function oi(t,e){1&t&&h._UZ(0,"th",15)}function si(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"td",14),h.TgZ(1,"mat-menu",16,17),h.TgZ(3,"button",18),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw().deleteServiceAccount(e.name)}),h._uU(4," Delete service account "),h.qZA(),h.qZA(),h.TgZ(5,"button",19),h.NdJ("click",function(t){return t.stopPropagation()}),h.TgZ(6,"mat-icon"),h._uU(7,"more_vert"),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=h.MAs(2);h.xp6(5),h.Q6J("matMenuTriggerFor",t)}}function ri(t,e){1&t&&h._UZ(0,"tr",20)}function ci(t,e){1&t&&h._UZ(0,"tr",21)}function li(t,e){1&t&&(h.TgZ(0,"div",22),h._uU(1," No rows to display "),h.qZA())}let ui=(()=>{class t{constructor(t,e,n,a,i){this.yamcs=t,this.route=n,this.router=a,this.messageService=i,this.filterControl=new Qn.NI,this.displayedColumns=["name","actions"],this.dataSource=new u.by,e.setTitle("Service accounts"),this.dataSource.filterPredicate=(t,e)=>t.name.toLowerCase().indexOf(e)>=0}ngAfterViewInit(){const t=this.route.snapshot.queryParamMap;t.has("filter")&&(this.filterControl.setValue(t.get("filter")),this.dataSource.filter=t.get("filter").toLowerCase()),this.filterControl.valueChanges.subscribe(()=>{this.updateURL(),this.dataSource.filter=(this.filterControl.value||"").toLowerCase()}),this.refresh(),this.dataSource.sort=this.sort}refresh(){this.yamcs.yamcsClient.getServiceAccounts().then(t=>{this.dataSource.data=t.serviceAccounts||[]})}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{filter:this.filterControl.value||null},queryParamsHandling:"merge"})}deleteServiceAccount(t){confirm(`Are you sure you want to delete service account ${t}`)&&this.yamcs.yamcsClient.deleteServiceAccount(t).then(()=>this.refresh()).catch(t=>this.messageService.showError(t))}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(i.gz),h.Y36(i.F0),h.Y36(Gn.e))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,7),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},decls:20,vars:5,consts:[["mat-button","","color","primary","routerLink","create"],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter service accounts",3,"formControl"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","width","200",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","ya-data-table-placeholder",4,"ngIf"],["mat-header-cell","","mat-sort-header","","width","200"],["mat-cell",""],["mat-header-cell",""],["overlapTrigger","false",1,"ya-menu"],["serviceAccountMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-button","",1,"icon",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row",""],[1,"ya-data-table-placeholder"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Service accounts \xa0\xa0\xa0 "),h.TgZ(3,"a",0),h.TgZ(4,"mat-icon"),h._uU(5,"add"),h.qZA(),h._uU(6," CREATE SERVICE ACCOUNT "),h.qZA(),h.qZA(),h.TgZ(7,"div",1),h.TgZ(8,"div",2),h._UZ(9,"app-search-filter",3),h.qZA(),h.TgZ(10,"table",4),h.ynx(11,5),h.YNc(12,ai,2,0,"th",6),h.YNc(13,ii,2,1,"td",7),h.BQk(),h.ynx(14,8),h.YNc(15,oi,1,0,"th",9),h.YNc(16,si,8,1,"td",7),h.BQk(),h.YNc(17,ri,1,0,"tr",10),h.YNc(18,ci,1,0,"tr",11),h.qZA(),h.YNc(19,li,2,0,"div",12),h.qZA(),h.qZA()),2&t&&(h.xp6(9),h.Q6J("formControl",e.filterControl),h.xp6(1),h.Q6J("dataSource",e.dataSource),h.xp6(7),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns),h.xp6(1),h.Q6J("ngIf",!e.dataSource.data.length))},directives:[T,C,x.zs,i.yS,D.Hw,Jn.a,Qn.JJ,Qn.oH,u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,q.O5,u.ge,l.nU,u.ev,k.VK,k.OP,x.lW,k.p6,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})();function pi(t,e){1&t&&(h.TgZ(0,"p"),h._uU(1,"Confirmation does not match password"),h.qZA())}const mi=t=>{const e=t.get("password").value,n=t.get("passwordConfirmation").value;return e&&n&&e!==n?{passwordMismatch:!0}:null};let di=(()=>{class t{constructor(t,e,n){this.data=t,this.yamcs=e,this.user=t.user,this.form=n.group({password:new Qn.NI(null,Qn.kI.required),passwordConfirmation:new Qn.NI(null,Qn.kI.required)},{validator:mi})}changePassword(){this.yamcs.yamcsClient.editUser(this.user.name,{password:this.form.value.password})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(Ge.WI),h.Y36(p.C),h.Y36(Qn.qu))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-change-user-password-dialog"]],decls:19,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"ya-form",3,"formGroup"],["type","password","formControlName","password"],["type","password","formControlName","passwordConfirmation"],[4,"ngIf"],["align","end"],["mat-dialog-close","",1,"ya-button"],["mat-dialog-close","",1,"ya-button","primary",3,"disabled","click"]],template:function(t,e){1&t&&(h.TgZ(0,"h2",0),h._uU(1),h.qZA(),h.TgZ(2,"mat-dialog-content",1),h.TgZ(3,"form",2),h.TgZ(4,"label"),h._uU(5," Password"),h._UZ(6,"br"),h._UZ(7,"input",3),h.qZA(),h._UZ(8,"br"),h.TgZ(9,"label"),h._uU(10," Password confirmation"),h._UZ(11,"br"),h._UZ(12,"input",4),h.qZA(),h.qZA(),h.YNc(13,pi,2,0,"p",5),h.qZA(),h.TgZ(14,"mat-dialog-actions",6),h.TgZ(15,"button",7),h._uU(16,"CANCEL"),h.qZA(),h.TgZ(17,"button",8),h.NdJ("click",function(){return e.changePassword()}),h._uU(18,"OK"),h.qZA(),h.qZA()),2&t&&(h.xp6(1),h.hij("Change password of ",e.user.name,""),h.xp6(2),h.Q6J("formGroup",e.form),h.xp6(10),h.Q6J("ngIf",null==e.form.errors?null:e.form.errors.passwordMismatch),h.xp6(4),h.Q6J("disabled",!e.form.valid))},directives:[Ge.uh,Ge.xY,Qn._Y,Qn.JL,Qn.sg,Qn.Fj,Qn.JJ,Qn.u,q.O5,Ge.H8,Ge.ZT],encapsulation:2,changeDetection:0}),t})();var hi=n(487);const gi=function(t){return[t]};function fi(t,e){if(1&t&&(h.TgZ(0,"a",9),h._uU(1),h.qZA()),2&t){const t=h.oxw().ngIf;h.Q6J("routerLink",h.VKq(2,gi,"../"+t.createdBy.name)),h.xp6(1),h.Oqu(t.createdBy.name||"-")}}function Zi(t,e){1&t&&(h.ynx(0),h._uU(1,"-"),h.BQk())}function Ai(t,e){if(1&t&&(h.ynx(0),h._uU(1),h._UZ(2,"br"),h.BQk()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.name,"")}}function Ti(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h.TgZ(6,"app-text-action",11),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(3).deleteIdentity(e)}),h._uU(7,"DELETE"),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit;h.xp6(2),h.Oqu(t.identity),h.xp6(2),h.Oqu(t.provider)}}function bi(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"div",7),h._UZ(2,"mat-divider"),h.qZA(),h.TgZ(3,"h4"),h._uU(4,"External Identities"),h.qZA(),h.TgZ(5,"table",10),h.TgZ(6,"tr"),h.TgZ(7,"th"),h._uU(8,"Identity"),h.qZA(),h.TgZ(9,"th"),h._uU(10,"Provider"),h.qZA(),h._UZ(11,"th"),h.qZA(),h.YNc(12,Ti,8,2,"tr",8),h.qZA(),h.BQk()),2&t){const t=h.oxw().ngIf;h.xp6(12),h.Q6J("ngForOf",t.identities)}}function yi(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h.TgZ(2,"a",1),h.TgZ(3,"mat-icon"),h._uU(4,"arrow_back"),h.qZA(),h.qZA(),h._uU(5),h.TgZ(6,"a",2),h.TgZ(7,"mat-icon"),h._uU(8,"edit"),h.qZA(),h._uU(9," EDIT USER "),h.qZA(),h.TgZ(10,"a",3),h.NdJ("click",function(){return h.CHM(t),h.oxw().showChangeUserPasswordDialog()}),h.TgZ(11,"mat-icon"),h._uU(12,"account_box"),h.qZA(),h._uU(13," CHANGE PASSWORD "),h.qZA(),h.qZA(),h.TgZ(14,"div",4),h.TgZ(15,"dl",5),h.TgZ(16,"dt"),h._uU(17,"Username"),h.qZA(),h.TgZ(18,"dd"),h._uU(19),h.qZA(),h.TgZ(20,"dt"),h._uU(21,"Display name"),h.qZA(),h.TgZ(22,"dd"),h._uU(23),h.qZA(),h.TgZ(24,"dt"),h._uU(25,"Email"),h.qZA(),h.TgZ(26,"dd"),h._uU(27),h.qZA(),h.TgZ(28,"dt"),h._uU(29,"Joined"),h.qZA(),h.TgZ(30,"dd"),h._uU(31),h.ALo(32,"datetime"),h.qZA(),h.TgZ(33,"dt"),h._uU(34,"Confirmed at"),h.qZA(),h.TgZ(35,"dd"),h._uU(36),h.ALo(37,"datetime"),h.qZA(),h.TgZ(38,"dt"),h._uU(39,"Last login"),h.qZA(),h.TgZ(40,"dd"),h._uU(41),h.ALo(42,"datetime"),h.qZA(),h.TgZ(43,"dt"),h._uU(44,"Active"),h.qZA(),h.TgZ(45,"dd"),h._uU(46),h.qZA(),h.TgZ(47,"dt"),h._uU(48,"Superuser"),h.qZA(),h.TgZ(49,"dd"),h._uU(50),h.qZA(),h.TgZ(51,"dt"),h._uU(52,"Created by"),h.qZA(),h.TgZ(53,"dd"),h.YNc(54,fi,2,4,"a",6),h.YNc(55,Zi,2,0,"ng-container",0),h.qZA(),h.qZA(),h.TgZ(56,"div",7),h._UZ(57,"mat-divider"),h.qZA(),h.TgZ(58,"h4"),h._uU(59),h.qZA(),h.YNc(60,Ai,3,1,"ng-container",8),h.YNc(61,bi,13,1,"ng-container",0),h.qZA(),h.qZA()}if(2&t){const t=e.ngIf;h.xp6(5),h.hij(" ",t.displayName||t.name," \xa0\xa0\xa0 "),h.xp6(5),h.Q6J("disabled",null==t.identities?null:t.identities.length),h.xp6(9),h.Oqu(t.name),h.xp6(4),h.Oqu(t.displayName||"-"),h.xp6(4),h.Oqu(t.email||"-"),h.xp6(4),h.Oqu(h.lcZ(32,15,t.creationTime)),h.xp6(5),h.Oqu(h.lcZ(37,17,t.confirmationTime)||"never"),h.xp6(5),h.Oqu(h.lcZ(42,19,t.lastLoginTime)||"never"),h.xp6(5),h.Oqu(t.active),h.xp6(4),h.Oqu(t.superuser),h.xp6(4),h.Q6J("ngIf",t.createdBy),h.xp6(1),h.Q6J("ngIf",!t.createdBy),h.xp6(4),h.hij("",(null==t.roles?null:t.roles.length)||"0"," assigned roles"),h.xp6(1),h.Q6J("ngForOf",t.roles),h.xp6(1),h.Q6J("ngIf",t.identities)}}let qi=(()=>{class t{constructor(t,e,n,a,i){this.yamcs=e,this.title=n,this.dialog=a,this.messageService=i,this.user$=new st.X(null),t.paramMap.subscribe(t=>{const e=t.get("username");this.changeUser(e)})}changeUser(t){this.yamcs.yamcsClient.getUser(t).then(t=>{this.user$.next(t),this.title.setTitle(t.name)})}deleteIdentity(t){if(confirm(`Are you sure you want to delete the ${t.provider} identity?`)){const e=this.user$.value.name;this.yamcs.yamcsClient.deleteIdentity(e,t.provider).then(()=>this.changeUser(e)).catch(t=>this.messageService.showError(t))}}showChangeUserPasswordDialog(){this.dialog.open(di,{data:{user:this.user$.value},width:"400px"})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C),h.Y36(g.Dx),h.Y36(Ge.uw),h.Y36(Gn.e))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-icon-button","","routerLink","..","color","primary"],["mat-button","","color","primary","routerLink","edit"],["mat-button","","color","primary",3,"disabled","click"],[1,"panel-content","ya-link"],[1,"dl-horizontal"],[3,"routerLink",4,"ngIf"],[1,"section-divider"],[4,"ngFor","ngForOf"],[3,"routerLink"],["yaDataTable",""],["icon","delete",3,"click"]],template:function(t,e){1&t&&(h.YNc(0,yi,62,21,"app-admin-page",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.user$))},directives:[q.O5,T,C,x.zs,i.yS,D.Hw,na.d,q.sg,Rt.O,Xn.l],pipes:[q.Ov,hi.i],encapsulation:2,changeDetection:0}),t})();var xi=n(9996);function Ui(t,e){1&t&&(h.TgZ(0,"th",15),h._uU(1,"Username"),h.qZA())}function wi(t,e){if(1&t&&(h.TgZ(0,"td",16),h.TgZ(1,"a",17),h._uU(2),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink",t.name),h.xp6(1),h.hij(" ",t.name," ")}}function _i(t,e){1&t&&(h.TgZ(0,"th",15),h._uU(1,"Display name"),h.qZA())}function vi(t,e){if(1&t&&(h.TgZ(0,"td",16),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.displayName||"-"," ")}}function Ci(t,e){1&t&&(h.TgZ(0,"th",18),h._uU(1,"Groups"),h.qZA())}function Di(t,e){1&t&&(h.ynx(0),h._uU(1,", "),h.BQk())}function Ni(t,e){if(1&t&&(h.ynx(0),h.YNc(1,Di,2,0,"ng-container",20),h._uU(2),h.BQk()),2&t){const t=e.$implicit,n=e.first;h.xp6(1),h.Q6J("ngIf",!n),h.xp6(1),h.hij("",t.name," ")}}function Yi(t,e){1&t&&(h.ynx(0),h._uU(1,"-"),h.BQk())}function ki(t,e){if(1&t&&(h.TgZ(0,"td",16),h.YNc(1,Ni,3,2,"ng-container",19),h.YNc(2,Yi,2,0,"ng-container",20),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("ngForOf",t.groups),h.xp6(1),h.Q6J("ngIf",!t.groups)}}function Si(t,e){1&t&&(h.TgZ(0,"th",21),h._uU(1,"Registered"),h.qZA())}function Qi(t,e){if(1&t&&(h.TgZ(0,"td",16),h._uU(1),h.ALo(2,"datetime"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,t.creationTime)||"never")}}function Ji(t,e){1&t&&(h.TgZ(0,"th",21),h._uU(1,"Last Login"),h.qZA())}function Ii(t,e){if(1&t&&(h.TgZ(0,"td",16),h._uU(1),h.ALo(2,"datetime"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,t.lastLoginTime)||"never")}}function $i(t,e){1&t&&h._UZ(0,"th",18)}const Oi=function(t){return[t,"edit"]};function Li(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"td",16),h.TgZ(1,"mat-menu",22,23),h.TgZ(3,"a",24),h._uU(4," Edit user "),h.qZA(),h.TgZ(5,"button",25),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(2).deleteUser.next(e.name)}),h._uU(6," Delete user "),h.qZA(),h.qZA(),h.TgZ(7,"button",26),h.NdJ("click",function(t){return t.stopPropagation()}),h.TgZ(8,"mat-icon"),h._uU(9,"more_vert"),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.$implicit,n=h.MAs(2);h.xp6(3),h.Q6J("routerLink",h.VKq(2,Oi,t.name)),h.xp6(4),h.Q6J("matMenuTriggerFor",n)}}function Mi(t,e){1&t&&h._UZ(0,"tr",27)}function Ri(t,e){1&t&&h._UZ(0,"tr",28)}function Bi(t,e){if(1&t&&(h.TgZ(0,"table",2),h.ynx(1,3),h.YNc(2,Ui,2,0,"th",4),h.YNc(3,wi,3,2,"td",5),h.BQk(),h.ynx(4,6),h.YNc(5,_i,2,0,"th",4),h.YNc(6,vi,2,1,"td",5),h.BQk(),h.ynx(7,7),h.YNc(8,Ci,2,0,"th",8),h.YNc(9,ki,3,2,"td",5),h.BQk(),h.ynx(10,9),h.YNc(11,Si,2,0,"th",10),h.YNc(12,Qi,3,3,"td",5),h.BQk(),h.ynx(13,11),h.YNc(14,Ji,2,0,"th",10),h.YNc(15,Ii,3,3,"td",5),h.BQk(),h.ynx(16,12),h.YNc(17,$i,1,0,"th",8),h.YNc(18,Li,10,4,"td",5),h.BQk(),h.YNc(19,Mi,1,0,"tr",13),h.YNc(20,Ri,1,0,"tr",14),h.qZA()),2&t){const t=h.oxw();h.Q6J("dataSource",t.dataSource),h.xp6(19),h.Q6J("matHeaderRowDef",t.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",t.displayedColumns)}}function Hi(t,e){1&t&&(h.TgZ(0,"div",29),h._uU(1," No rows to display\n"),h.qZA())}let Ei=(()=>{class t{constructor(){this.displayedColumns=["name","displayName","groups","actions"],this.deleteUser=new h.vpe,this.dataSource=new u.by}ngAfterViewInit(){this.dataSource.filterPredicate=(t,e)=>t.name.toLowerCase().indexOf(e)>=0,this.dataSource.sort=this.sort}ngOnChanges(){this.dataSource.data=this.users||[],this.dataSource.filter=this.filter}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-users-table"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,5),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},inputs:{users:"users",filter:"filter"},outputs:{deleteUser:"deleteUser"},features:[h.TTD],decls:2,vars:2,consts:[["mat-table","","class","ya-data-table","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",3,"dataSource",4,"ngIf"],["class","ya-data-table-placeholder",4,"ngIf"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","width","200",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["matColumnDef","groups"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","registered"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","lastLogin"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","","width","200"],["mat-cell",""],[3,"routerLink"],["mat-header-cell",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["overlapTrigger","false",1,"ya-menu"],["groupMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-button","",1,"icon",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row",""],[1,"ya-data-table-placeholder"]],template:function(t,e){1&t&&(h.YNc(0,Bi,21,3,"table",0),h.YNc(1,Hi,2,0,"div",1)),2&t&&(h.Q6J("ngIf",e.dataSource),h.xp6(1),h.Q6J("ngIf",!e.dataSource.data.length))},directives:[q.O5,u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,l.nU,u.ev,i.yS,q.sg,k.VK,k.OP,x.lW,k.p6,D.Hw,u.XQ,u.Gk],pipes:[hi.i],encapsulation:2,changeDetection:0}),t})();function Pi(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" ACTIVE (",h.lcZ(1,1,t.activeUserCount$),") ")}}function Fi(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" SUPERUSERS (",h.lcZ(1,1,t.superUserCount$),") ")}}function ji(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" INTERNAL (",h.lcZ(1,1,t.internalUserCount$),") ")}}function Gi(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" BLOCKED (",h.lcZ(1,1,t.blockedUserCount$),") ")}}let Xi=(()=>{class t{constructor(t,e,n,a,i){this.yamcs=t,this.route=n,this.router=a,this.messageService=i,this.filterControl=new Qn.NI,this.filterValue$=new st.X(null),this.users$=new st.X([]),e.setTitle("Users")}ngAfterViewInit(){const t=this.route.snapshot.queryParamMap;t.has("filter")&&(this.filterControl.setValue(t.get("filter")),this.filterValue$.next(t.get("filter").toLowerCase())),this.filterControl.valueChanges.subscribe(()=>{this.updateURL(),this.filterValue$.next((this.filterControl.value||"").toLowerCase())}),this.activeUsers$=this.users$.pipe((0,xi.U)(t=>t.filter(t=>t.active))),this.activeUserCount$=this.activeUsers$.pipe((0,xi.U)(t=>t.length)),this.superUsers$=this.users$.pipe((0,xi.U)(t=>t.filter(t=>t.superuser))),this.superUserCount$=this.superUsers$.pipe((0,xi.U)(t=>t.length)),this.internalUsers$=this.users$.pipe((0,xi.U)(t=>t.filter(t=>!t.identities))),this.internalUserCount$=this.internalUsers$.pipe((0,xi.U)(t=>t.length)),this.blockedUsers$=this.users$.pipe((0,xi.U)(t=>t.filter(t=>!t.active))),this.blockedUserCount$=this.blockedUsers$.pipe((0,xi.U)(t=>t.length)),this.refresh()}refresh(){this.yamcs.yamcsClient.getUsers().then(t=>{this.users$.next(t)})}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{filter:this.filterControl.value||null},queryParamsHandling:"merge"})}deleteUser(t){confirm(`Are you sure you want to delete the user account '${t}'`)&&this.yamcs.yamcsClient.deleteUser(t).then(()=>this.refresh()).catch(t=>this.messageService.showError(t))}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(i.gz),h.Y36(i.F0),h.Y36(Gn.e))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:35,vars:25,consts:[["mat-button","","color","primary","routerLink","create"],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter users",3,"formControl"],["animationDuration","0ms"],["mat-tab-label",""],[3,"users","filter","deleteUser"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Users \xa0\xa0\xa0 "),h.TgZ(3,"a",0),h.TgZ(4,"mat-icon"),h._uU(5,"add"),h.qZA(),h._uU(6," CREATE USER "),h.qZA(),h.qZA(),h.TgZ(7,"div",1),h.TgZ(8,"div",2),h._UZ(9,"app-search-filter",3),h.qZA(),h.TgZ(10,"mat-tab-group",4),h.TgZ(11,"mat-tab"),h.YNc(12,Pi,2,3,"ng-template",5),h._UZ(13,"br"),h.TgZ(14,"app-users-table",6),h.NdJ("deleteUser",function(t){return e.deleteUser(t)}),h.ALo(15,"async"),h.ALo(16,"async"),h.qZA(),h.qZA(),h.TgZ(17,"mat-tab"),h.YNc(18,Fi,2,3,"ng-template",5),h._UZ(19,"br"),h.TgZ(20,"app-users-table",6),h.NdJ("deleteUser",function(t){return e.deleteUser(t)}),h.ALo(21,"async"),h.ALo(22,"async"),h.qZA(),h.qZA(),h.TgZ(23,"mat-tab"),h.YNc(24,ji,2,3,"ng-template",5),h._UZ(25,"br"),h.TgZ(26,"app-users-table",6),h.NdJ("deleteUser",function(t){return e.deleteUser(t)}),h.ALo(27,"async"),h.ALo(28,"async"),h.qZA(),h.qZA(),h.TgZ(29,"mat-tab"),h.YNc(30,Gi,2,3,"ng-template",5),h._UZ(31,"br"),h.TgZ(32,"app-users-table",6),h.NdJ("deleteUser",function(t){return e.deleteUser(t)}),h.ALo(33,"async"),h.ALo(34,"async"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(9),h.Q6J("formControl",e.filterControl),h.xp6(5),h.Q6J("users",h.lcZ(15,9,e.activeUsers$))("filter",h.lcZ(16,11,e.filterValue$)),h.xp6(6),h.Q6J("users",h.lcZ(21,13,e.superUsers$))("filter",h.lcZ(22,15,e.filterValue$)),h.xp6(6),h.Q6J("users",h.lcZ(27,17,e.internalUsers$))("filter",h.lcZ(28,19,e.filterValue$)),h.xp6(6),h.Q6J("users",h.lcZ(33,21,e.blockedUsers$))("filter",h.lcZ(34,23,e.filterValue$)))},directives:[T,C,x.zs,i.yS,D.Hw,Jn.a,Qn.JJ,Qn.oH,ct.SP,ct.uX,ct.uD,Ei],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();function zi(t,e){1&t&&(h.TgZ(0,"th",11),h._uU(1,"Valid period (at 0h UTC)"),h.qZA())}function Vi(t,e){if(1&t&&(h.TgZ(0,"td",12),h._uU(1),h.ALo(2,"date"),h.ALo(3,"date"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.AsE(" ",h.xi3(2,2,t.start,"y-MM-dd")," \u2013 ",h.xi3(3,5,t.stop,"y-MM-dd")," ")}}function Wi(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"Leap seconds"),h.qZA())}function Ki(t,e){if(1&t&&(h.TgZ(0,"td",12),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.leapSeconds)}}function to(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"TAI - UTC"),h.qZA())}function eo(t,e){if(1&t&&(h.TgZ(0,"td",12),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij("",t.taiDifference," s")}}function no(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"UTC - TAI"),h.qZA())}function ao(t,e){if(1&t&&(h.TgZ(0,"td",12),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij("",-t.taiDifference," s")}}function io(t,e){1&t&&h._UZ(0,"tr",14)}function oo(t,e){1&t&&h._UZ(0,"tr",15)}let so=(()=>{class t{constructor(t,e){this.displayedColumns=["period","leap-seconds","tai-utc","utc-tai"],this.dataSource=new u.by,e.setTitle("Leap seconds"),t.yamcsClient.getLeapSeconds().then(t=>{this.dataSource.data=t.ranges})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:19,vars:3,consts:[[1,"panel-content"],["mat-table","",1,"ya-data-table",3,"dataSource"],["matColumnDef","period"],["mat-header-cell","","width","200",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","leap-seconds"],["mat-header-cell","","width","100",4,"matHeaderCellDef"],["matColumnDef","tai-utc"],["matColumnDef","utc-tai"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","width","200"],["mat-cell",""],["mat-header-cell","","width","100"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Leap seconds "),h.qZA(),h.TgZ(3,"div",0),h.TgZ(4,"table",1),h.ynx(5,2),h.YNc(6,zi,2,0,"th",3),h.YNc(7,Vi,4,8,"td",4),h.BQk(),h.ynx(8,5),h.YNc(9,Wi,2,0,"th",6),h.YNc(10,Ki,2,1,"td",4),h.BQk(),h.ynx(11,7),h.YNc(12,to,2,0,"th",6),h.YNc(13,eo,2,1,"td",4),h.BQk(),h.ynx(14,8),h.YNc(15,no,2,0,"th",6),h.YNc(16,ao,2,1,"td",4),h.BQk(),h.YNc(17,io,1,0,"tr",9),h.YNc(18,oo,1,0,"tr",10),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.Q6J("dataSource",e.dataSource),h.xp6(13),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns))},directives:[T,C,u.BZ,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,u.ev,u.XQ,u.Gk],pipes:[q.uU],encapsulation:2,changeDetection:0}),t})();function ro(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"Name"),h.qZA())}function co(t,e){if(1&t&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.name)}}function lo(t,e){1&t&&(h.TgZ(0,"th",15),h._uU(1,"Description"),h.qZA())}function uo(t,e){if(1&t&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.description||"-")}}function po(t,e){1&t&&(h.TgZ(0,"th",16),h._uU(1,"Version"),h.qZA())}function mo(t,e){if(1&t&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.version||"-")}}function ho(t,e){1&t&&(h.TgZ(0,"th",17),h._uU(1,"Maintainer"),h.qZA())}function go(t,e){if(1&t&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.vendor||"-")}}function fo(t,e){1&t&&h._UZ(0,"tr",18)}function Zo(t,e){1&t&&h._UZ(0,"tr",19)}let Ao=(()=>{class t{constructor(t,e){this.displayedColumns=["name","description","version","vendor"],this.dataSource=new u.by,e.setTitle("Plugins"),t.yamcsClient.getGeneralInfo().then(t=>{this.dataSource.data=t.plugins||[]})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:19,vars:3,consts:[[1,"panel-content"],["mat-table","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","width","200",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","width","300",4,"matHeaderCellDef"],["matColumnDef","version"],["mat-header-cell","","width","150",4,"matHeaderCellDef"],["matColumnDef","vendor"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","width","200"],["mat-cell",""],["mat-header-cell","","width","300"],["mat-header-cell","","width","150"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Plugins "),h.qZA(),h.TgZ(3,"div",0),h.TgZ(4,"table",1),h.ynx(5,2),h.YNc(6,ro,2,0,"th",3),h.YNc(7,co,2,1,"td",4),h.BQk(),h.ynx(8,5),h.YNc(9,lo,2,0,"th",6),h.YNc(10,uo,2,1,"td",4),h.BQk(),h.ynx(11,7),h.YNc(12,po,2,0,"th",8),h.YNc(13,mo,2,1,"td",4),h.BQk(),h.ynx(14,9),h.YNc(15,ho,2,0,"th",10),h.YNc(16,go,2,1,"td",4),h.BQk(),h.YNc(17,fo,1,0,"tr",11),h.YNc(18,Zo,1,0,"tr",12),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.Q6J("dataSource",e.dataSource),h.xp6(13),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns))},directives:[T,C,u.BZ,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,u.ev,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})();function To(t,e){1&t&&(h.TgZ(0,"th",7),h._uU(1,"Name"),h.qZA())}function bo(t,e){if(1&t&&(h.TgZ(0,"td",8),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t)}}function yo(t,e){1&t&&h._UZ(0,"tr",9)}function qo(t,e){1&t&&h._UZ(0,"tr",10)}let xo=(()=>{class t{constructor(t,e){this.displayedColumns=["name"],this.dataSource=new u.by,e.setTitle("Processor types"),t.yamcsClient.getProcessorTypes().then(t=>{this.dataSource.data=t.types||[]})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:10,vars:3,consts:[[1,"panel-content"],["mat-table","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","style","width: 350px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",2,"width","350px"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Processor types "),h.qZA(),h.TgZ(3,"div",0),h.TgZ(4,"table",1),h.ynx(5,2),h.YNc(6,To,2,0,"th",3),h.YNc(7,bo,2,1,"td",4),h.BQk(),h.YNc(8,yo,1,0,"tr",5),h.YNc(9,qo,1,0,"tr",6),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.Q6J("dataSource",e.dataSource),h.xp6(4),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns))},directives:[T,C,u.BZ,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,u.ev,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})();function Uo(t,e){1&t&&(h.TgZ(0,"mat-icon",2),h._uU(1," check_circle\n"),h.qZA())}function wo(t,e){1&t&&(h.TgZ(0,"mat-icon",3),h._uU(1," lens\n"),h.qZA())}let _o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-replication-state"]],inputs:{connected:"connected"},decls:2,vars:2,consts:[["class","success",4,"ngIf"],["class","down",4,"ngIf"],[1,"success"],[1,"down"]],template:function(t,e){1&t&&(h.YNc(0,Uo,2,0,"mat-icon",0),h.YNc(1,wo,2,0,"mat-icon",1)),2&t&&(h.Q6J("ngIf",!0===e.connected),h.xp6(1),h.Q6J("ngIf",!1===e.connected))},directives:[q.O5,D.Hw],encapsulation:2,changeDetection:0}),t})();function vo(t,e){1&t&&h._UZ(0,"th",23)}function Co(t,e){if(1&t&&(h.TgZ(0,"td",24),h._UZ(1,"app-replication-state",25),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("connected",!!t.localAddress&&!!t.remoteAddress)}}function Do(t,e){1&t&&(h.TgZ(0,"th",26),h._uU(1,"Instance"),h.qZA())}function No(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.instance)}}function Yo(t,e){1&t&&(h.TgZ(0,"th",28),h._uU(1,"Streams"),h.qZA())}function ko(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu((null==t.streams?null:t.streams.join(", "))||"-")}}function So(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Mode"),h.qZA())}function Qo(t,e){if(1&t&&(h.TgZ(0,"td",30),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.push?"PUSH":"PULL"," ")}}function Jo(t,e){1&t&&(h.TgZ(0,"th",31),h._uU(1,"Local Address"),h.qZA())}function Io(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.localAddress||"-"," ")}}function $o(t,e){1&t&&(h.TgZ(0,"th",31),h._uU(1,"Remote Address"),h.qZA())}function Oo(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.remoteAddress||"-"," ")}}function Lo(t,e){1&t&&(h.TgZ(0,"th",26),h._uU(1,"Pull From"),h.qZA())}function Mo(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.pullFrom||"-")}}function Ro(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"TX"),h.qZA())}function Bo(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.ALo(2,"number"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,t.tx)||"-")}}function Ho(t,e){1&t&&h._UZ(0,"tr",32)}function Eo(t,e){1&t&&h._UZ(0,"tr",33)}function Po(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"table",4),h.ynx(2,5),h.YNc(3,vo,1,0,"th",6),h.YNc(4,Co,2,1,"td",7),h.BQk(),h.ynx(5,8),h.YNc(6,Do,2,0,"th",9),h.YNc(7,No,2,1,"td",10),h.BQk(),h.ynx(8,11),h.YNc(9,Yo,2,0,"th",12),h.YNc(10,ko,2,1,"td",10),h.BQk(),h.ynx(11,13),h.YNc(12,So,2,0,"th",14),h.YNc(13,Qo,2,1,"td",15),h.BQk(),h.ynx(14,16),h.YNc(15,Jo,2,0,"th",17),h.YNc(16,Io,2,1,"td",10),h.BQk(),h.ynx(17,18),h.YNc(18,$o,2,0,"th",17),h.YNc(19,Oo,2,1,"td",10),h.BQk(),h.ynx(20,19),h.YNc(21,Lo,2,0,"th",9),h.YNc(22,Mo,2,1,"td",10),h.BQk(),h.ynx(23,20),h.YNc(24,Ro,2,0,"th",14),h.YNc(25,Bo,3,3,"td",10),h.BQk(),h.YNc(26,Ho,1,0,"tr",21),h.YNc(27,Eo,1,0,"tr",22),h.qZA(),h.BQk()),2&t){const t=h.oxw();h.xp6(1),h.Q6J("dataSource",t.slavesDataSource),h.xp6(25),h.Q6J("matHeaderRowDef",t.slaveColumns),h.xp6(1),h.Q6J("matRowDefColumns",t.slaveColumns)}}function Fo(t,e){1&t&&h._UZ(0,"th",23)}function jo(t,e){if(1&t&&(h.TgZ(0,"td",24),h._UZ(1,"app-replication-state",25),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("connected",!!t.localAddress&&!!t.remoteAddress)}}function Go(t,e){1&t&&(h.TgZ(0,"th",26),h._uU(1,"Instance"),h.qZA())}function Xo(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.instance)}}function zo(t,e){1&t&&(h.TgZ(0,"th",28),h._uU(1,"Streams"),h.qZA())}function Vo(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu((null==t.streams?null:t.streams.join(", "))||"-")}}function Wo(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Mode"),h.qZA())}function Ko(t,e){if(1&t&&(h.TgZ(0,"td",30),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.push?"PUSH":"PULL"," ")}}function ts(t,e){1&t&&(h.TgZ(0,"th",31),h._uU(1,"Local Address"),h.qZA())}function es(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.localAddress||"-"," ")}}function ns(t,e){1&t&&(h.TgZ(0,"th",31),h._uU(1,"Remote Address"),h.qZA())}function as(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",t.remoteAddress||"-"," ")}}function is(t,e){1&t&&(h.TgZ(0,"th",26),h._uU(1,"Push To"),h.qZA())}function os(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.pushTo||"-")}}function ss(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Local\xa0TX"),h.qZA())}function rs(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.ALo(2,"number"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,t.localTx)||"-")}}function cs(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Next\xa0TX"),h.qZA())}function ls(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.ALo(2,"number"),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,t.nextTx)||"-")}}function us(t,e){1&t&&h._UZ(0,"tr",32)}function ps(t,e){1&t&&h._UZ(0,"tr",33)}function ms(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"table",4),h.ynx(2,5),h.YNc(3,Fo,1,0,"th",6),h.YNc(4,jo,2,1,"td",7),h.BQk(),h.ynx(5,8),h.YNc(6,Go,2,0,"th",9),h.YNc(7,Xo,2,1,"td",10),h.BQk(),h.ynx(8,11),h.YNc(9,zo,2,0,"th",12),h.YNc(10,Vo,2,1,"td",10),h.BQk(),h.ynx(11,13),h.YNc(12,Wo,2,0,"th",14),h.YNc(13,Ko,2,1,"td",15),h.BQk(),h.ynx(14,16),h.YNc(15,ts,2,0,"th",17),h.YNc(16,es,2,1,"td",10),h.BQk(),h.ynx(17,18),h.YNc(18,ns,2,0,"th",17),h.YNc(19,as,2,1,"td",10),h.BQk(),h.ynx(20,34),h.YNc(21,is,2,0,"th",9),h.YNc(22,os,2,1,"td",10),h.BQk(),h.ynx(23,35),h.YNc(24,ss,2,0,"th",14),h.YNc(25,rs,3,3,"td",10),h.BQk(),h.ynx(26,36),h.YNc(27,cs,2,0,"th",14),h.YNc(28,ls,3,3,"td",10),h.BQk(),h.YNc(29,us,1,0,"tr",21),h.YNc(30,ps,1,0,"tr",22),h.qZA(),h.BQk()),2&t){const t=h.oxw();h.xp6(1),h.Q6J("dataSource",t.mastersDataSource),h.xp6(28),h.Q6J("matHeaderRowDef",t.masterColumns),h.xp6(1),h.Q6J("matRowDefColumns",t.masterColumns)}}function ds(t,e){1&t&&(h.TgZ(0,"app-empty-message",37),h._uU(1,"Not configured"),h.qZA())}let hs=(()=>{class t{constructor(t,e){this.slaveColumns=["state","instance","streams","mode","localAddress","remoteAddress","pullFrom","tx"],this.masterColumns=["state","instance","streams","mode","localAddress","remoteAddress","pushTo","localTx","nextTx"],this.slavesDataSource=new u.by,this.mastersDataSource=new u.by,e.setTitle("Replication"),this.replicationInfoSubscription=t.yamcsClient.createReplicationInfoSubscription(t=>{this.slavesDataSource.data=t.slaves||[],this.mastersDataSource.data=t.masters||[]})}ngOnDestroy(){this.replicationInfoSubscription&&this.replicationInfoSubscription.cancel()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:16,vars:4,consts:[[1,"panel-content"],[4,"ngIf","ngIfElse"],[1,"section-divider"],["nodata",""],["mat-table","",1,"ya-data-table",3,"dataSource"],["matColumnDef","state"],["mat-header-cell","","class","status",4,"matHeaderCellDef"],["mat-cell","","class","status",4,"matCellDef"],["matColumnDef","instance"],["mat-header-cell","","style","width: 130px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","streams"],["mat-header-cell","","style","width: 250px",4,"matHeaderCellDef"],["matColumnDef","mode"],["mat-header-cell","","width","1",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",4,"matCellDef"],["matColumnDef","localAddress"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","remoteAddress"],["matColumnDef","pullFrom"],["matColumnDef","tx"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"status"],["mat-cell","",1,"status"],[3,"connected"],["mat-header-cell","",2,"width","130px"],["mat-cell",""],["mat-header-cell","",2,"width","250px"],["mat-header-cell","","width","1"],["mat-cell","",2,"text-align","center"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""],["matColumnDef","pushTo"],["matColumnDef","localTx"],["matColumnDef","nextTx"],["marginTop","0"]],template:function(t,e){if(1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Replication "),h.qZA(),h.TgZ(3,"div",0),h.TgZ(4,"h4"),h._uU(5,"Inbound"),h.qZA(),h.YNc(6,Po,28,3,"ng-container",1),h.TgZ(7,"p"),h._uU(8,"\xa0"),h.qZA(),h.TgZ(9,"div",2),h._UZ(10,"mat-divider"),h.qZA(),h.TgZ(11,"h4"),h._uU(12,"Outbound"),h.qZA(),h.YNc(13,ms,31,3,"ng-container",1),h.qZA(),h.qZA(),h.YNc(14,ds,2,0,"ng-template",null,3,h.W1O)),2&t){const t=h.MAs(15);h.xp6(6),h.Q6J("ngIf",e.slavesDataSource.data.length)("ngIfElse",t),h.xp6(7),h.Q6J("ngIf",e.mastersDataSource.data.length)("ngIfElse",t)}},directives:[T,C,q.O5,na.d,u.BZ,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,u.ev,_o,u.XQ,u.Gk,Qe.M],pipes:[q.JJ],encapsulation:2,changeDetection:0}),t})();var gs=n(3589);function fs(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h.TgZ(2,"a",1),h.TgZ(3,"mat-icon"),h._uU(4,"arrow_back"),h.qZA(),h.qZA(),h._uU(5),h.TgZ(6,"button",2),h.NdJ("click",function(){return h.CHM(t),h.oxw().compact()}),h.TgZ(7,"mat-icon"),h._uU(8,"fullscreen_exit"),h.qZA(),h._uU(9," COMPACT "),h.qZA(),h.qZA(),h.TgZ(10,"div",3),h.TgZ(11,"dl",4),h.TgZ(12,"dt"),h._uU(13,"Tablespace"),h.qZA(),h.TgZ(14,"dd"),h._uU(15),h.qZA(),h.TgZ(16,"dt"),h._uU(17,"DB Path"),h.qZA(),h.TgZ(18,"dd"),h._uU(19),h.qZA(),h.qZA(),h.TgZ(20,"pre",5),h._uU(21),h.qZA(),h.qZA(),h.qZA()}if(2&t){const t=e.ngIf,n=h.oxw();h.xp6(5),h.AsE(" ",n.tablespace,"://",n.dbPath," \xa0\xa0\xa0 "),h.xp6(10),h.Oqu(n.tablespace||"-"),h.xp6(4),h.Oqu(n.dbPath||"-"),h.xp6(2),h.Oqu(t)}}let Zs=(()=>{class t{constructor(t,e,n,a){this.yamcs=t,this.snackBar=a,this.tablespace=n.snapshot.paramMap.get("tablespace");const i=n.snapshot.url;this.dbPath=i.length?i.map(t=>t.path).join("/"):"",e.setTitle(this.tablespace+"://"+this.dbPath),this.properties$=t.yamcsClient.getRocksDbDatabaseProperties(this.tablespace,this.dbPath)}compact(){this.snackBar.open(`Compacting ${this.tablespace}://${this.dbPath}...`,void 0,{horizontalPosition:"end"}),this.yamcs.yamcsClient.compactRocksDbDatabase(this.tablespace,this.dbPath).then(()=>{this.snackBar.open(`Compaction of ${this.tablespace}://${this.dbPath} successful`,void 0,{duration:3e3,horizontalPosition:"end"})}).catch(t=>{this.snackBar.open(`Compaction of ${this.tablespace}://${this.dbPath} failed`,void 0,{duration:3e3,horizontalPosition:"end"})})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(i.gz),h.Y36(gs.ux))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-icon-button","","routerLink","/admin/rocksdb/databases","color","primary"],["mat-button","","color","primary",3,"click"],[1,"panel-content"],[1,"dl-horizontal"],[2,"font-size","10px","margin","0"]],template:function(t,e){1&t&&(h.YNc(0,fs,22,5,"app-admin-page",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.properties$))},directives:[q.O5,T,C,x.zs,i.yS,D.Hw,x.lW],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();function As(t,e){1&t&&(h.TgZ(0,"th",10),h._uU(1,"Tablespace"),h.qZA())}function Ts(t,e){if(1&t&&(h.TgZ(0,"td",11),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.tablespace||"-")}}function bs(t,e){1&t&&(h.TgZ(0,"th",12),h._uU(1,"Data Dir"),h.qZA())}function ys(t,e){if(1&t&&(h.ynx(0),h._uU(1),h.BQk()),2&t){const t=h.oxw().$implicit;h.xp6(1),h.hij("/",t.dbPath,"")}}const qs=function(t,e){return[t,e]};function xs(t,e){if(1&t&&(h.TgZ(0,"td",11),h.TgZ(1,"a",13),h._uU(2),h.YNc(3,ys,2,1,"ng-container",14),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink",h.WLB(3,qs,t.tablespace,t.dbPath)),h.xp6(1),h.hij(" ",t.dataDir,""),h.xp6(1),h.Q6J("ngIf",t.dbPath)}}function Us(t,e){1&t&&(h.TgZ(0,"th",10),h._uU(1,"DB Path"),h.qZA())}function ws(t,e){if(1&t&&(h.TgZ(0,"td",11),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.dbPath||"(root)")}}function _s(t,e){1&t&&h._UZ(0,"tr",15)}function vs(t,e){1&t&&h._UZ(0,"tr",16)}let Cs=(()=>{class t{constructor(t,e){this.displayedColumns=["dataDir","tablespace","dbPath"],this.dataSource=new u.by,e.setTitle("Open Databases"),t.yamcsClient.getRocksDbDatabases().then(t=>{this.dataSource.data=t})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:16,vars:3,consts:[[1,"panel-content"],["mat-table","",1,"ya-data-table",3,"dataSource"],["matColumnDef","tablespace"],["mat-header-cell","","width","150",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dataDir"],["mat-header-cell","","width","300",4,"matHeaderCellDef"],["matColumnDef","dbPath"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","width","150"],["mat-cell",""],["mat-header-cell","","width","300"],[3,"routerLink"],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Open databases "),h.qZA(),h.TgZ(3,"div",0),h.TgZ(4,"table",1),h.ynx(5,2),h.YNc(6,As,2,0,"th",3),h.YNc(7,Ts,2,1,"td",4),h.BQk(),h.ynx(8,5),h.YNc(9,bs,2,0,"th",6),h.YNc(10,xs,4,6,"td",4),h.BQk(),h.ynx(11,7),h.YNc(12,Us,2,0,"th",3),h.YNc(13,ws,2,1,"td",4),h.BQk(),h.YNc(14,_s,1,0,"tr",8),h.YNc(15,vs,1,0,"tr",9),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(4),h.Q6J("dataSource",e.dataSource),h.xp6(10),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns))},directives:[T,C,u.BZ,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,u.ev,i.yS,q.O5,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})(),Ds=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-route-detail"]],inputs:{route:"route"},decls:8,vars:2,consts:[[1,"block-title"],[1,"block"]],template:function(t,e){1&t&&(h.TgZ(0,"div",0),h._uU(1,"Input Type"),h.qZA(),h.TgZ(2,"div",1),h._uU(3),h.qZA(),h.TgZ(4,"div",0),h._uU(5,"Output Type"),h.qZA(),h.TgZ(6,"div",1),h._uU(7),h.qZA()),2&t&&(h.xp6(3),h.hij(" ",e.route.inputType,"\n"),h.xp6(4),h.hij(" ",e.route.outputType,"\n"))},encapsulation:2,changeDetection:0}),t})();function Ns(t,e){if(1&t&&(h.ynx(0),h.TgZ(1,"app-detail-toolbar"),h._uU(2," Route Detail "),h.qZA(),h.TgZ(3,"div",21),h._UZ(4,"app-route-detail",22),h.qZA(),h.BQk()),2&t){const t=e.ngIf;h.xp6(4),h.Q6J("route",t)}}function Ys(t,e){1&t&&(h.TgZ(0,"app-detail-toolbar"),h._uU(1," Select a route "),h.qZA())}function ks(t,e){1&t&&(h.TgZ(0,"th",23),h._uU(1,"Service"),h.qZA())}function Ss(t,e){if(1&t&&(h.TgZ(0,"td",24),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.service||"Other")}}function Qs(t,e){1&t&&(h.TgZ(0,"th",25),h._uU(1,"Method"),h.qZA())}function Js(t,e){if(1&t&&(h.TgZ(0,"td",24),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.description||"-")}}function Is(t,e){1&t&&(h.TgZ(0,"th",25),h._uU(1,"Requests"),h.qZA())}function $s(t,e){if(1&t&&(h.TgZ(0,"td",24),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.requestCount)}}function Os(t,e){1&t&&(h.TgZ(0,"th",25),h._uU(1,"Errors"),h.qZA())}function Ls(t,e){if(1&t&&(h.TgZ(0,"td",24),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.errorCount)}}function Ms(t,e){1&t&&(h.TgZ(0,"th",26),h._uU(1,"HTTP"),h.qZA())}function Rs(t,e){if(1&t&&(h.TgZ(0,"td",27),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.AsE("",t.httpMethod," ",t.url,"")}}function Bs(t,e){1&t&&h._UZ(0,"tr",28)}const Hs=function(t){return{selected:t}};function Es(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr",29),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw().selectRoute(e)}),h.ALo(1,"async"),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw();h.ekj("deprecated",t.deprecated),h.Q6J("ngClass",h.VKq(5,Hs,t===h.lcZ(1,3,n.selectedRoute$)))}}let Ps=(()=>{class t{constructor(t,e,n,a){this.yamcs=t,this.route=n,this.router=a,this.filterControl=new Qn.NI,this.displayedColumns=["method","requestCount","errorCount","http"],this.dataSource=new u.by,this.selectedRoute$=new st.X(null),e.setTitle("API routes"),this.dataSource.filterPredicate=(t,e)=>t.url.toLowerCase().indexOf(e)>=0||t.description.toLowerCase().indexOf(e)>=0}ngAfterViewInit(){const t=this.route.snapshot.queryParamMap;t.has("filter")&&(this.filterControl.setValue(t.get("filter")),this.dataSource.filter=t.get("filter").toLowerCase()),this.filterControl.valueChanges.subscribe(()=>{this.updateURL(),this.dataSource.filter=(this.filterControl.value||"").toLowerCase()}),this.refresh(),this.dataSource.sort=this.sort}refresh(){this.yamcs.yamcsClient.getRoutes().then(t=>{this.dataSource.data=t.routes||[]})}selectRoute(t){this.selectedRoute$.next(t)}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{filter:this.filterControl.value||null},queryParamsHandling:"merge"})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(i.gz),h.Y36(i.F0))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,7),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},decls:33,vars:9,consts:[[3,"hasDetailPane"],["mat-icon-button","","color","primary","matTooltip","Refresh view",3,"click"],[4,"ngIf","ngIfElse"],["noSelection",""],[1,"table-wrapper"],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter routes",3,"formControl"],["mat-table","","matSort","","matSortActive","requestCount","matSortDirection","desc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","service"],["mat-header-cell","","mat-sort-header","","width","100",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","method"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","requestCount"],["matColumnDef","errorCount"],["matColumnDef","http"],["mat-header-cell","","mat-sort-header","","width","200",4,"matHeaderCellDef"],["mat-cell","","style","white-space: nowrap",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","deprecated","click",4,"matRowDef","matRowDefColumns"],[2,"padding","0 16px"],[3,"route"],["mat-header-cell","","mat-sort-header","","width","100"],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","","mat-sort-header","","width","200"],["mat-cell","",2,"white-space","nowrap"],["mat-header-row",""],["mat-row","",3,"ngClass","click"]],template:function(t,e){if(1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar",0),h._uU(2," API routes \xa0\xa0\xa0 "),h.TgZ(3,"button",1),h.NdJ("click",function(){return e.refresh()}),h.TgZ(4,"mat-icon"),h._uU(5,"refresh"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"app-detail-pane"),h.YNc(7,Ns,5,1,"ng-container",2),h.ALo(8,"async"),h.YNc(9,Ys,2,0,"ng-template",null,3,h.W1O),h.qZA(),h.TgZ(11,"div",4),h.TgZ(12,"div",5),h.TgZ(13,"div",6),h._UZ(14,"app-search-filter",7),h.qZA(),h.TgZ(15,"table",8),h.ynx(16,9),h.YNc(17,ks,2,0,"th",10),h.YNc(18,Ss,2,1,"td",11),h.BQk(),h.ynx(19,12),h.YNc(20,Qs,2,0,"th",13),h.YNc(21,Js,2,1,"td",11),h.BQk(),h.ynx(22,14),h.YNc(23,Is,2,0,"th",13),h.YNc(24,$s,2,1,"td",11),h.BQk(),h.ynx(25,15),h.YNc(26,Os,2,0,"th",13),h.YNc(27,Ls,2,1,"td",11),h.BQk(),h.ynx(28,16),h.YNc(29,Ms,2,0,"th",17),h.YNc(30,Rs,2,2,"td",18),h.BQk(),h.YNc(31,Bs,1,0,"tr",19),h.YNc(32,Es,2,7,"tr",20),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){const t=h.MAs(10);h.xp6(1),h.Q6J("hasDetailPane",!0),h.xp6(6),h.Q6J("ngIf",h.lcZ(8,7,e.selectedRoute$))("ngIfElse",t),h.xp6(7),h.Q6J("formControl",e.filterControl),h.xp6(1),h.Q6J("dataSource",e.dataSource),h.xp6(16),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns)}},directives:[T,C,x.lW,_e.gM,D.Hw,Gt.Z,q.O5,Jn.a,Qn.JJ,Qn.oH,u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,Xt.j,Ds,u.ge,l.nU,u.ev,u.XQ,u.Gk,q.mk],pipes:[q.Ov],styles:[".deprecated[_ngcontent-%COMP%]{text-decoration:line-through}.detail[_ngcontent-%COMP%]{background-color:#fafafa;float:right;width:450px;border-left:1px solid #d3d3d3;box-sizing:border-box}.detail[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]{height:100%;overflow:auto}.table-wrapper[_ngcontent-%COMP%]{position:relative}.mat-row[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t})();var Fs=n(808);function js(t,e){if(1&t&&(h.TgZ(0,"mat-icon",4),h._uU(1," check_circle\n"),h.qZA()),2&t){const t=h.oxw();h.Q6J("matTooltip",t.service.state)}}function Gs(t,e){if(1&t&&(h.TgZ(0,"mat-icon",5),h._uU(1," check_circle\n"),h.qZA()),2&t){const t=h.oxw();h.Q6J("matTooltip",t.service.state)}}function Xs(t,e){if(1&t&&(h.TgZ(0,"mat-icon",6),h._uU(1," highlight_off\n"),h.qZA()),2&t){const t=h.oxw();h.Q6J("matTooltip",t.service.state)}}function zs(t,e){if(1&t&&(h.TgZ(0,"mat-icon",7),h._uU(1," lens\n"),h.qZA()),2&t){const t=h.oxw();h.Q6J("matTooltip",t.service.state)}}let Vs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-service-state"]],inputs:{service:"service"},decls:4,vars:4,consts:[["style","color: lightgreen",3,"matTooltip",4,"ngIf"],["class","success",3,"matTooltip",4,"ngIf"],["class","alert",3,"matTooltip",4,"ngIf"],["class","down",3,"matTooltip",4,"ngIf"],[2,"color","lightgreen",3,"matTooltip"],[1,"success",3,"matTooltip"],[1,"alert",3,"matTooltip"],[1,"down",3,"matTooltip"]],template:function(t,e){1&t&&(h.YNc(0,js,2,1,"mat-icon",0),h.YNc(1,Gs,2,1,"mat-icon",1),h.YNc(2,Xs,2,1,"mat-icon",2),h.YNc(3,zs,2,1,"mat-icon",3)),2&t&&(h.Q6J("ngIf","STARTING"===e.service.state),h.xp6(1),h.Q6J("ngIf","RUNNING"===e.service.state),h.xp6(1),h.Q6J("ngIf","STOPPING"===e.service.state||"FAILED"===e.service.state),h.xp6(1),h.Q6J("ngIf","TERMINATED"===e.service.state||"NEW"===e.service.state))},directives:[q.O5,D.Hw,_e.gM],encapsulation:2,changeDetection:0}),t})();function Ws(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"Name"),h.qZA())}function Ks(t,e){if(1&t&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.name)}}function tr(t,e){1&t&&(h.TgZ(0,"th",13),h._uU(1,"Class"),h.qZA())}function er(t,e){if(1&t&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.className)}}function nr(t,e){1&t&&h._UZ(0,"th",15)}function ar(t,e){if(1&t&&(h.TgZ(0,"td",16),h._UZ(1,"app-service-state",17),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("service",t)}}function ir(t,e){1&t&&h._UZ(0,"th",18)}function or(t,e){if(1&t&&(h.TgZ(0,"button",24),h.NdJ("click",function(t){return t.stopPropagation()}),h.TgZ(1,"mat-icon"),h._uU(2,"more_vert"),h.qZA(),h.qZA()),2&t){h.oxw();const t=h.MAs(2);h.Q6J("matMenuTriggerFor",t)}}function sr(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"td",19),h.TgZ(1,"mat-menu",20,21),h.TgZ(3,"button",22),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw().startService.emit(e.name)}),h._uU(4," Start service "),h.qZA(),h.TgZ(5,"button",22),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw().stopService.emit(e.name)}),h._uU(6," Stop service "),h.qZA(),h.qZA(),h.YNc(7,or,3,1,"button",23),h.qZA()}if(2&t){const t=e.$implicit,n=h.oxw();h.xp6(3),h.Q6J("disabled","TERMINATED"!==t.state&&"NEW"!==t.state),h.xp6(2),h.Q6J("disabled","RUNNING"!==t.state),h.xp6(2),h.Q6J("ngIf",!n.readonly)}}function rr(t,e){1&t&&h._UZ(0,"tr",25)}function cr(t,e){1&t&&h._UZ(0,"tr",26)}let lr=(()=>{class t{constructor(){this.displayedColumns=["state","name","className","actions"],this.dataSource=new u.by,this.readonly=!1,this.startService=new h.vpe,this.stopService=new h.vpe}ngAfterViewInit(){this.dataSource.sort=this.sort}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-services-table"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,7),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},inputs:{dataSource:"dataSource",readonly:"readonly"},outputs:{startService:"startService",stopService:"stopService"},decls:15,vars:3,consts:[["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","style","width: 350px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","className"],["matColumnDef","state"],["mat-header-cell","","class","status",4,"matHeaderCellDef"],["mat-cell","","class","status",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","text-align: right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",2,"width","350px"],["mat-cell",""],["mat-header-cell","",1,"status"],["mat-cell","",1,"status"],[3,"service"],["mat-header-cell",""],["mat-cell","",2,"text-align","right"],["overlapTrigger","false",1,"ya-menu"],["serviceMenu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-button","","class","icon",3,"matMenuTriggerFor","click",4,"ngIf"],["mat-button","",1,"icon",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.TgZ(0,"table",0),h.ynx(1,1),h.YNc(2,Ws,2,0,"th",2),h.YNc(3,Ks,2,1,"td",3),h.BQk(),h.ynx(4,4),h.YNc(5,tr,2,0,"th",2),h.YNc(6,er,2,1,"td",3),h.BQk(),h.ynx(7,5),h.YNc(8,nr,1,0,"th",6),h.YNc(9,ar,2,1,"td",7),h.BQk(),h.ynx(10,8),h.YNc(11,ir,1,0,"th",9),h.YNc(12,sr,8,3,"td",10),h.BQk(),h.YNc(13,rr,1,0,"tr",11),h.YNc(14,cr,1,0,"tr",12),h.qZA()),2&t&&(h.Q6J("dataSource",e.dataSource),h.xp6(13),h.Q6J("matHeaderRowDef",e.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",e.displayedColumns))},directives:[u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,l.nU,u.ev,Vs,k.VK,k.OP,q.O5,x.lW,k.p6,D.Hw,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})(),ur=(()=>{class t{constructor(t,e,n,a){this.yamcs=t,this.router=e,this.route=n,this.instance="_global",this.filterForm=new Qn.cw({instance:new Qn.NI("_global")}),this.instanceOptions$=new st.X([{id:"_global",label:"_global"}]),this.dataSource=new u.by,a.setTitle("Services"),t.yamcsClient.getInstances({filter:"state=RUNNING"}).then(t=>{for(const e of t)this.instanceOptions$.next([...this.instanceOptions$.value,{id:e.name,label:e.name}])}),this.initializeOptions(),this.refresh(),this.filterForm.get("instance").valueChanges.forEach(t=>{this.instance=t,this.refresh()})}initializeOptions(){const t=this.route.snapshot.queryParamMap;t.has("instance")&&(this.instance=t.get("instance"),this.filterForm.get("instance").setValue(this.instance))}startService(t){if(confirm(`Are you sure you want to start ${t} ?`)){const e=this.filterForm.get("instance").value;this.yamcs.yamcsClient.startService(e,t).then(()=>this.refresh())}}stopService(t){if(confirm(`Are you sure you want to stop ${t} ?`)){const e=this.filterForm.get("instance").value;this.yamcs.yamcsClient.stopService(e,t).then(()=>this.refresh())}}refresh(){this.updateURL();const t=this.filterForm.get("instance").value;this.yamcs.yamcsClient.getServices(t).then(t=>{this.dataSource.data=t})}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{instance:this.instance||null},queryParamsHandling:"merge"})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(i.F0),h.Y36(i.gz),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:12,vars:5,consts:[["mat-icon-button","","color","primary","matTooltip","Refresh view",3,"click"],[1,"panel-content"],[3,"formGroup"],[1,"filter-bar"],["formControlName","instance",3,"options"],[3,"dataSource","startService","stopService"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Services \xa0\xa0\xa0 "),h.TgZ(3,"button",0),h.NdJ("click",function(){return e.refresh()}),h.TgZ(4,"mat-icon"),h._uU(5,"refresh"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(6,"div",1),h.TgZ(7,"form",2),h.TgZ(8,"div",3),h._UZ(9,"app-select",4),h.ALo(10,"async"),h.qZA(),h.qZA(),h.TgZ(11,"app-services-table",5),h.NdJ("startService",function(t){return e.startService(t)})("stopService",function(t){return e.stopService(t)}),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("formGroup",e.filterForm),h.xp6(2),h.Q6J("options",h.lcZ(10,3,e.instanceOptions$)),h.xp6(2),h.Q6J("dataSource",e.dataSource))},directives:[T,C,x.lW,_e.gM,D.Hw,Qn._Y,Qn.JL,Qn.sg,Fs.P,Qn.JJ,Qn.u,lr],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();var pr=n(5048),mr=n(168),dr=n(5078),hr=n(4776),gr=n(8288);let fr=(()=>{class t{constructor(t,e,n,a,o){this.userManagementActive=!1,this.userManagementExpanded=!1,this.rocksDbActive=!1,this.rocksDbExpanded=!1,this.sidebar$=t.sidebar$;const s=n.bypassSecurityTrustResourceUrl(`${o}static/rocksdb.svg`);e.addSvgIcon("rocksdb",s),this.routerSubscription=a.events.pipe((0,rt.h)(t=>t instanceof i.m2)).subscribe(t=>{const e=t.url;this.collapseAllGroups(),this.userManagementActive=!1,this.rocksDbActive=!1,e.match(/\/iam.*/)?(this.userManagementActive=!0,this.userManagementExpanded=!0):e.match(/\/rocksdb.*/)&&(this.rocksDbActive=!0,this.rocksDbExpanded=!0)})}collapseAllGroups(){this.userManagementExpanded=!1,this.rocksDbExpanded=!1}toggleUserManagementGroup(){const t=this.userManagementExpanded;this.collapseAllGroups(),this.userManagementExpanded=!t}toggleRocksDbGroup(){const t=this.rocksDbExpanded;this.collapseAllGroups(),this.rocksDbExpanded=!t}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(b.V),h.Y36(D.jv),h.Y36(g.H7),h.Y36(i.F0),h.Y36(q.mr))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:66,vars:17,consts:[["messageBar",""],[1,"mat-typography"],["mode","side",3,"opened","disableClose"],[1,"top","module-title"],[1,"icon32",2,"margin-right","16px"],["dense",""],["routerLink","/admin","exact","true"],[1,"item-icon"],["routerLink","/admin/plugins"],["label","Access control","icon","supervised_user_circle",3,"active","expanded","toggle"],["routerLink","/admin/iam/users",3,"subitem"],["routerLink","/admin/iam/service-accounts",3,"subitem"],["routerLink","/admin/iam/groups",3,"subitem"],["routerLink","/admin/iam/roles",3,"subitem"],["routerLink","/admin/connections"],["routerLink","/admin/services"],["routerLink","/admin/processor-types"],["routerLink","/admin/databases"],["routerLink","/admin/replication"],["label","RocksDB","svgIcon","rocksdb",3,"active","expanded","toggle"],["routerLink","/admin/rocksdb/databases",3,"subitem"],["routerLink","/admin/routes"],["routerLink","/admin/leap-seconds"],["routerLink","/admin/threads"]],template:function(t,e){if(1&t&&(h._UZ(0,"app-message-bar",null,0),h.TgZ(2,"mat-sidenav-container",1),h.ALo(3,"async"),h.TgZ(4,"mat-sidenav",2),h.ALo(5,"async"),h.TgZ(6,"mat-toolbar",3),h.TgZ(7,"mat-toolbar-row"),h.TgZ(8,"mat-icon",4),h._uU(9,"security"),h.qZA(),h._uU(10," Admin Area "),h.qZA(),h.qZA(),h.TgZ(11,"mat-nav-list",5),h.TgZ(12,"app-sidebar-nav-item",6),h.TgZ(13,"mat-icon",7),h._uU(14,"home"),h.qZA(),h._uU(15," Home "),h.qZA(),h.TgZ(16,"app-sidebar-nav-item",8),h.TgZ(17,"mat-icon",7),h._uU(18,"pages"),h.qZA(),h._uU(19," Plugins "),h.qZA(),h.TgZ(20,"app-sidebar-nav-group",9),h.NdJ("toggle",function(){return e.toggleUserManagementGroup()}),h.TgZ(21,"app-sidebar-nav-item",10),h._uU(22," Users "),h.qZA(),h.TgZ(23,"app-sidebar-nav-item",11),h._uU(24," Service accounts "),h.qZA(),h.TgZ(25,"app-sidebar-nav-item",12),h._uU(26," Groups "),h.qZA(),h.TgZ(27,"app-sidebar-nav-item",13),h._uU(28," Roles "),h.qZA(),h.qZA(),h.TgZ(29,"app-sidebar-nav-item",14),h.TgZ(30,"mat-icon",7),h._uU(31,"devices"),h.qZA(),h._uU(32," Client connections "),h.qZA(),h.TgZ(33,"app-sidebar-nav-item",15),h.TgZ(34,"mat-icon",7),h._uU(35,"traffic"),h.qZA(),h._uU(36," Services "),h.qZA(),h.TgZ(37,"app-sidebar-nav-item",16),h.TgZ(38,"mat-icon",7),h._uU(39,"flip_camera_android"),h.qZA(),h._uU(40," Processor types "),h.qZA(),h.TgZ(41,"app-sidebar-nav-item",17),h.TgZ(42,"mat-icon",7),h._uU(43,"dns"),h.qZA(),h._uU(44," Databases "),h.qZA(),h.TgZ(45,"app-sidebar-nav-item",18),h.TgZ(46,"mat-icon",7),h._uU(47,"share"),h.qZA(),h._uU(48," Replication "),h.qZA(),h.TgZ(49,"app-sidebar-nav-group",19),h.NdJ("toggle",function(){return e.toggleRocksDbGroup()}),h.TgZ(50,"app-sidebar-nav-item",20),h._uU(51," Open databases "),h.qZA(),h.qZA(),h.TgZ(52,"app-sidebar-nav-item",21),h.TgZ(53,"mat-icon",7),h._uU(54,"http"),h.qZA(),h._uU(55," API routes "),h.qZA(),h.TgZ(56,"app-sidebar-nav-item",22),h.TgZ(57,"mat-icon",7),h._uU(58,"access_time"),h.qZA(),h._uU(59," Leap seconds "),h.qZA(),h.TgZ(60,"app-sidebar-nav-item",23),h.TgZ(61,"mat-icon",7),h._uU(62,"receipt"),h.qZA(),h._uU(63," Threads "),h.qZA(),h.qZA(),h.qZA(),h.TgZ(64,"mat-sidenav-content"),h._UZ(65,"router-outlet"),h.qZA(),h.qZA()),2&t){const t=h.MAs(1);h.xp6(2),h.ekj("message-bar-visible",h.lcZ(3,13,t.show$)),h.xp6(2),h.Q6J("opened",h.lcZ(5,15,e.sidebar$))("disableClose",!0),h.xp6(16),h.Q6J("active",e.userManagementActive)("expanded",e.userManagementExpanded),h.xp6(1),h.Q6J("subitem",!0),h.xp6(2),h.Q6J("subitem",!0),h.xp6(2),h.Q6J("subitem",!0),h.xp6(2),h.Q6J("subitem",!0),h.xp6(22),h.Q6J("active",e.rocksDbActive)("expanded",e.rocksDbExpanded),h.xp6(1),h.Q6J("subitem",!0)}},directives:[pr.c,mr.TM,mr.JX,y.Ye,y.rD,D.Hw,dr.Hk,hr.y,i.rH,gr.y,mr.Rh,i.lC],pipes:[q.Ov],styles:["mat-sidenav-container[_ngcontent-%COMP%]{position:absolute;top:48px;bottom:0;left:0;right:0;background-color:#fff}mat-sidenav-container.message-bar-visible[_ngcontent-%COMP%]{top:112px}mat-sidenav[_ngcontent-%COMP%]{width:250px;border-right:1px solid #d3d3d3}mat-sidenav[_ngcontent-%COMP%], mat-toolbar[_ngcontent-%COMP%]{background-color:#fcfcfc}mat-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;box-sizing:initial;color:rgba(0,0,0,.65)}"],changeDetection:0}),t})();var Zr=n(3623);function Ar(t,e){if(1&t&&(h.TgZ(0,"small"),h._uU(1),h.qZA()),2&t){const t=h.oxw();h.xp6(1),h.hij("(line: ",t.element.lineNumber,")")}}let Tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-trace-element"]],inputs:{element:"element"},decls:4,vars:5,consts:[[3,"innerHTML"],[4,"ngIf"]],template:function(t,e){1&t&&(h._UZ(0,"span",0),h.ALo(1,"classNameHtml"),h._uU(2),h.YNc(3,Ar,2,1,"small",1)),2&t&&(h.Q6J("innerHTML",h.lcZ(1,3,e.element.className),h.oJD),h.xp6(2),h.hij(".",e.element.methodName,"\n"),h.xp6(1),h.Q6J("ngIf",e.element.lineNumber))},directives:[q.O5],pipes:[Zr.f],encapsulation:2,changeDetection:0}),t})();function br(t,e){1&t&&(h.TgZ(0,"mat-icon",7),h._uU(1,"check"),h.qZA())}function yr(t,e){1&t&&(h.TgZ(0,"mat-icon",7),h._uU(1,"close"),h.qZA())}function qr(t,e){1&t&&(h.TgZ(0,"mat-icon",7),h._uU(1,"check"),h.qZA())}function xr(t,e){1&t&&(h.TgZ(0,"mat-icon",7),h._uU(1,"close"),h.qZA())}function Ur(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td"),h._UZ(2,"app-trace-element",10),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(2),h.Q6J("element",t)}}function wr(t,e){if(1&t&&(h.TgZ(0,"table",8),h.YNc(1,Ur,3,1,"tr",9),h.qZA()),2&t){const t=h.oxw().ngIf;h.xp6(1),h.Q6J("ngForOf",t.trace)}}function _r(t,e){1&t&&(h.ynx(0),h._uU(1,"Information not available"),h.BQk())}function vr(t,e){if(1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h.TgZ(2,"a",1),h.TgZ(3,"mat-icon"),h._uU(4,"arrow_back"),h.qZA(),h.qZA(),h._uU(5),h.qZA(),h.TgZ(6,"div",2),h.TgZ(7,"dl",3),h.TgZ(8,"dt"),h._uU(9,"ID"),h.qZA(),h.TgZ(10,"dd"),h._uU(11),h.qZA(),h.TgZ(12,"dt"),h._uU(13,"Name"),h.qZA(),h.TgZ(14,"dd"),h._uU(15),h.qZA(),h.TgZ(16,"dt"),h._uU(17,"Native"),h.qZA(),h.TgZ(18,"dd"),h.YNc(19,br,2,0,"mat-icon",4),h.YNc(20,yr,2,0,"mat-icon",4),h.qZA(),h.TgZ(21,"dt"),h._uU(22,"Suspended"),h.qZA(),h.TgZ(23,"dd"),h.YNc(24,qr,2,0,"mat-icon",4),h.YNc(25,xr,2,0,"mat-icon",4),h.qZA(),h.TgZ(26,"dt"),h._uU(27,"Group"),h.qZA(),h.TgZ(28,"dd"),h._uU(29),h.qZA(),h.qZA(),h.TgZ(30,"div",5),h._UZ(31,"mat-divider"),h.qZA(),h.TgZ(32,"h4"),h._uU(33,"Stack trace"),h.qZA(),h.YNc(34,wr,2,1,"table",6),h.YNc(35,_r,2,0,"ng-container",0),h.qZA(),h.qZA()),2&t){const t=e.ngIf;h.xp6(5),h.hij(" ",t.name," "),h.xp6(6),h.Oqu(t.id),h.xp6(4),h.Oqu(t.name),h.xp6(4),h.Q6J("ngIf",t.native),h.xp6(1),h.Q6J("ngIf",!t.native),h.xp6(4),h.Q6J("ngIf",t.suspended),h.xp6(1),h.Q6J("ngIf",!t.suspended),h.xp6(4),h.Oqu((null==t.group?null:t.group.name)||"-"),h.xp6(5),h.Q6J("ngIf",t.trace),h.xp6(1),h.Q6J("ngIf",!t.trace)}}let Cr=(()=>{class t{constructor(t,e,n){this.yamcs=e,this.title=n,this.thread$=new st.X(null),t.paramMap.subscribe(t=>{const e=t.get("id");this.changeThread(Number(e))})}changeThread(t){this.yamcs.yamcsClient.getThread(t).then(t=>{this.thread$.next(t),this.title.setTitle(t.name)})}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(i.gz),h.Y36(p.C),h.Y36(g.Dx))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-icon-button","","routerLink","..","color","primary"],[1,"panel-content","ya-link"],[1,"dl-horizontal"],["class","icon14",4,"ngIf"],[1,"section-divider"],["yaDataTable","",4,"ngIf"],[1,"icon14"],["yaDataTable",""],[4,"ngFor","ngForOf"],[3,"element"]],template:function(t,e){1&t&&(h.YNc(0,vr,36,10,"app-admin-page",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,e.thread$))},directives:[q.O5,T,C,x.zs,i.yS,D.Hw,na.d,Rt.O,q.sg,Tr],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})();var Dr=n(5959);function Nr(t,e){1&t&&(h.TgZ(0,"th",19),h._uU(1,"ID"),h.qZA())}function Yr(t,e){if(1&t&&(h.TgZ(0,"td",20),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Oqu(t.id)}}function kr(t,e){1&t&&(h.TgZ(0,"th",21),h._uU(1,"Name"),h.qZA())}function Sr(t,e){if(1&t&&(h.TgZ(0,"td",20),h.TgZ(1,"a",22),h._uU(2),h.qZA(),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink",t.id),h.xp6(1),h.hij(" ",t.name," ")}}function Qr(t,e){1&t&&h._UZ(0,"th",23)}function Jr(t,e){if(1&t&&(h.TgZ(0,"mat-icon",26),h._uU(1,"playlist_play"),h.qZA()),2&t){const t=h.oxw().$implicit;h.Q6J("matTooltip",t.state)}}function Ir(t,e){if(1&t&&(h.TgZ(0,"mat-icon",26),h._uU(1,"timer"),h.qZA()),2&t){const t=h.oxw().$implicit;h.Q6J("matTooltip",t.state)}}function $r(t,e){if(1&t&&(h.TgZ(0,"mat-icon",26),h._uU(1,"pause"),h.qZA()),2&t){const t=h.oxw().$implicit;h.Q6J("matTooltip",t.state)}}function Or(t,e){if(1&t&&(h.TgZ(0,"mat-icon",26),h._uU(1,"block"),h.qZA()),2&t){const t=h.oxw().$implicit;h.Q6J("matTooltip",t.state)}}function Lr(t,e){if(1&t&&(h.TgZ(0,"td",24),h.YNc(1,Jr,2,1,"mat-icon",25),h.YNc(2,Ir,2,1,"mat-icon",25),h.YNc(3,$r,2,1,"mat-icon",25),h.YNc(4,Or,2,1,"mat-icon",25),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf","RUNNABLE"===t.state),h.xp6(1),h.Q6J("ngIf","TIMED_WAITING"===t.state),h.xp6(1),h.Q6J("ngIf","WAITING"===t.state),h.xp6(1),h.Q6J("ngIf","BLOCKED"===t.state)}}function Mr(t,e){1&t&&(h.TgZ(0,"th",27),h._uU(1,"Native"),h.qZA())}function Rr(t,e){1&t&&(h.TgZ(0,"mat-icon"),h._uU(1,"check"),h.qZA())}function Br(t,e){1&t&&(h.ynx(0),h._uU(1,"-"),h.BQk())}function Hr(t,e){if(1&t&&(h.TgZ(0,"td",20),h.YNc(1,Rr,2,0,"mat-icon",28),h.YNc(2,Br,2,0,"ng-container",28),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf",t.native),h.xp6(1),h.Q6J("ngIf",!t.native)}}function Er(t,e){1&t&&(h.TgZ(0,"th",27),h._uU(1,"Suspended"),h.qZA())}function Pr(t,e){1&t&&(h.TgZ(0,"mat-icon"),h._uU(1,"check"),h.qZA())}function Fr(t,e){1&t&&(h.ynx(0),h._uU(1,"-"),h.BQk())}function jr(t,e){if(1&t&&(h.TgZ(0,"td",20),h.YNc(1,Pr,2,0,"mat-icon",28),h.YNc(2,Fr,2,0,"ng-container",28),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf",t.suspended),h.xp6(1),h.Q6J("ngIf",!t.suspended)}}function Gr(t,e){1&t&&(h.TgZ(0,"th",27),h._uU(1,"Group"),h.qZA())}function Xr(t,e){if(1&t&&(h.TgZ(0,"td",20),h._uU(1),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.hij(" ",(null==t.group?null:t.group.name)||"-"," ")}}function zr(t,e){1&t&&(h.TgZ(0,"th",29),h._uU(1,"Frame"),h.qZA())}function Vr(t,e){if(1&t&&h._UZ(0,"app-trace-element",31),2&t){const t=h.oxw().$implicit;h.Q6J("element",t.trace[0])}}function Wr(t,e){1&t&&(h.ynx(0),h._uU(1,"-"),h.BQk())}function Kr(t,e){if(1&t&&(h.TgZ(0,"td",20),h.YNc(1,Vr,1,1,"app-trace-element",30),h.YNc(2,Wr,2,0,"ng-container",28),h.qZA()),2&t){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf",t.trace),h.xp6(1),h.Q6J("ngIf",!t.trace)}}function tc(t,e){1&t&&h._UZ(0,"tr",32)}function ec(t,e){1&t&&h._UZ(0,"tr",33)}function nc(t,e){if(1&t&&(h.TgZ(0,"table",2),h.ynx(1,3),h.YNc(2,Nr,2,0,"th",4),h.YNc(3,Yr,2,1,"td",5),h.BQk(),h.ynx(4,6),h.YNc(5,kr,2,0,"th",7),h.YNc(6,Sr,3,2,"td",5),h.BQk(),h.ynx(7,8),h.YNc(8,Qr,1,0,"th",9),h.YNc(9,Lr,5,4,"td",10),h.BQk(),h.ynx(10,11),h.YNc(11,Mr,2,0,"th",12),h.YNc(12,Hr,3,2,"td",5),h.BQk(),h.ynx(13,13),h.YNc(14,Er,2,0,"th",12),h.YNc(15,jr,3,2,"td",5),h.BQk(),h.ynx(16,14),h.YNc(17,Gr,2,0,"th",12),h.YNc(18,Xr,2,1,"td",5),h.BQk(),h.ynx(19,15),h.YNc(20,zr,2,0,"th",16),h.YNc(21,Kr,3,2,"td",5),h.BQk(),h.YNc(22,tc,1,0,"tr",17),h.YNc(23,ec,1,0,"tr",18),h.qZA()),2&t){const t=h.oxw();h.Q6J("dataSource",t.dataSource),h.xp6(22),h.Q6J("matHeaderRowDef",t.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",t.displayedColumns)}}function ac(t,e){1&t&&(h.TgZ(0,"div",34),h._uU(1," No rows to display\n"),h.qZA())}let ic=(()=>{class t{constructor(){this.displayedColumns=["id","state","name","trace","native","suspended","group"],this.dataSource=new u.by}ngAfterViewInit(){this.dataSource.filterPredicate=(t,e)=>t.name.toLowerCase().indexOf(e)>=0,this.dataSource.sort=this.sort}ngOnChanges(){this.dataSource.data=this.threads||[],this.dataSource.filter=this.filter}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-threads-table"]],viewQuery:function(t,e){if(1&t&&h.Gf(l.YE,5),2&t){let t;h.iGM(t=h.CRH())&&(e.sort=t.first)}},inputs:{threads:"threads",filter:"filter"},features:[h.TTD],decls:2,vars:2,consts:[["mat-table","","class","ya-data-table","matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",3,"dataSource",4,"ngIf"],["class","ya-data-table-placeholder",4,"ngIf"],["mat-table","","matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",1,"ya-data-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","style","width: 40px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","style","width: 200px",4,"matHeaderCellDef"],["matColumnDef","state"],["mat-header-cell","","class","status",4,"matHeaderCellDef"],["mat-cell","","class","status",4,"matCellDef"],["matColumnDef","native"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","suspended"],["matColumnDef","group"],["matColumnDef","trace"],["mat-header-cell","","style","width: 400px",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",2,"width","40px"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",2,"width","200px"],[3,"routerLink"],["mat-header-cell","",1,"status"],["mat-cell","",1,"status"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-header-cell",""],[4,"ngIf"],["mat-header-cell","",2,"width","400px"],[3,"element",4,"ngIf"],[3,"element"],["mat-header-row",""],["mat-row",""],[1,"ya-data-table-placeholder"]],template:function(t,e){1&t&&(h.YNc(0,nc,24,3,"table",0),h.YNc(1,ac,2,0,"div",1)),2&t&&(h.Q6J("ngIf",e.dataSource),h.xp6(1),h.Q6J("ngIf",!e.dataSource.data.length))},directives:[q.O5,u.BZ,l.YE,u.w1,u.fO,u.Dz,u.as,u.nj,u.ge,l.nU,u.ev,i.yS,D.Hw,_e.gM,Tr,u.XQ,u.Gk],encapsulation:2,changeDetection:0}),t})();function oc(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" ALL (",h.lcZ(1,1,t.allThreadCount$),") ")}}function sc(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" RUNNABLE (",h.lcZ(1,1,t.runnableThreadCount$),") ")}}function rc(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" TIMED WAITING (",h.lcZ(1,1,t.timedWaitingThreadCount$),") ")}}function cc(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" WAITING (",h.lcZ(1,1,t.waitingThreadCount$),") ")}}function lc(t,e){if(1&t&&(h._uU(0),h.ALo(1,"async")),2&t){const t=h.oxw();h.hij(" BLOCKED (",h.lcZ(1,1,t.blockedThreadCount$),") ")}}const uc=[{path:"",canActivate:[o.a,s.U,r.t],canActivateChild:[o.a],runGuardsAndResolvers:"always",component:fr,children:[{path:"",pathMatch:"full",component:Sn},{path:"connections",component:ot},{path:"routes",component:Ps},{path:"leap-seconds",component:so},{path:"plugins",component:Ao},{path:"processor-types",component:xo},{path:"replication",component:hs},{path:"services",component:ur},{path:"databases",children:[{path:"",pathMatch:"full",component:Dn},{path:":database",component:vt,children:[{path:"",pathMatch:"full",redirectTo:"tables"},{path:"tables",pathMatch:"full",component:bn},{path:"tables/:table",component:dn,children:[{path:"",pathMatch:"full",redirectTo:"info"},{path:"info",component:pn},{path:"data",component:je},{path:"script",component:gn}]},{path:"shell",pathMatch:"full",component:Mt},{path:"streams",pathMatch:"full",component:we},{path:"streams/:stream",component:de,children:[{path:"",pathMatch:"full",redirectTo:"columns"},{path:"columns",component:Et},{path:"data",component:pe},{path:"script",component:Ae}]}]}]},{path:"rocksdb",runGuardsAndResolvers:"always",children:[{path:"",pathMatch:"full",redirectTo:"databases"},{path:"databases",pathMatch:"full",component:Cs},{path:"databases/:tablespace",children:[{path:"**",component:Zs}]}]},{path:"iam/service-accounts",pathMatch:"full",component:ui},{path:"iam/service-accounts/create",pathMatch:"full",component:ea},{path:"iam/users",pathMatch:"full",component:Xi},{path:"iam/users/create",pathMatch:"full",component:aa},{path:"iam/users/:username",pathMatch:"full",component:qi},{path:"iam/users/:username/edit",pathMatch:"full",component:wa},{path:"iam/groups",pathMatch:"full",component:Ba},{path:"iam/groups/create",pathMatch:"full",component:Kn},{path:"iam/groups/:name",pathMatch:"full",component:Na},{path:"iam/groups/:name/edit",pathMatch:"full",component:ca},{path:"iam/roles",pathMatch:"full",component:ni},{path:"iam/roles/:name",pathMatch:"full",component:Fa},{path:"threads",pathMatch:"full",component:(()=>{class t{constructor(t,e,n,a,i){this.yamcs=t,this.route=n,this.router=a,this.filterControl=new Qn.NI,this.filterValue$=new st.X(null),this.allThreads$=new Dr.xQ,this.allThreadCount$=this.allThreads$.pipe((0,xi.U)(t=>t.length)),this.runnableThreads$=this.allThreads$.pipe((0,xi.U)(t=>t.filter(t=>"RUNNABLE"===t.state))),this.runnableThreadCount$=this.runnableThreads$.pipe((0,xi.U)(t=>t.length)),this.timedWaitingThreads$=this.allThreads$.pipe((0,xi.U)(t=>t.filter(t=>"TIMED_WAITING"===t.state))),this.timedWaitingThreadCount$=this.timedWaitingThreads$.pipe((0,xi.U)(t=>t.length)),this.waitingThreads$=this.allThreads$.pipe((0,xi.U)(t=>t.filter(t=>"WAITING"===t.state))),this.waitingThreadCount$=this.waitingThreads$.pipe((0,xi.U)(t=>t.length)),this.blockedThreads$=this.allThreads$.pipe((0,xi.U)(t=>t.filter(t=>"BLOCKED"===t.state))),this.blockedThreadCount$=this.blockedThreads$.pipe((0,xi.U)(t=>t.length)),e.setTitle("Threads"),this.threadDumpURL=t.yamcsClient.getThreadDumpURL(),this.refresh(),this.syncSubscription=i.syncSlow(()=>this.refresh())}refresh(){this.yamcs.yamcsClient.getThreads().then(t=>{this.allThreads$.next(t.threads||[])})}ngAfterViewInit(){const t=this.route.snapshot.queryParamMap;t.has("filter")&&(this.filterControl.setValue(t.get("filter")),this.filterValue$.next(t.get("filter").toLowerCase())),this.filterControl.valueChanges.subscribe(()=>{this.updateURL(),this.filterValue$.next((this.filterControl.value||"").toLowerCase())})}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{filter:this.filterControl.value||null},queryParamsHandling:"merge"})}ngOnDestroy(){this.syncSubscription&&this.syncSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.C),h.Y36(g.Dx),h.Y36(i.gz),h.Y36(i.F0),h.Y36(f.j))},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],decls:41,vars:32,consts:[["mat-button","","color","primary",3,"href"],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter threads",3,"formControl"],["animationDuration","0ms"],["mat-tab-label",""],[3,"threads","filter"]],template:function(t,e){1&t&&(h.TgZ(0,"app-admin-page"),h.TgZ(1,"app-admin-toolbar"),h._uU(2," Threads \xa0\xa0\xa0 "),h.TgZ(3,"a",0),h.TgZ(4,"mat-icon"),h._uU(5,"notes"),h.qZA(),h._uU(6," TEXT DUMP "),h.qZA(),h.qZA(),h.TgZ(7,"div",1),h.TgZ(8,"div",2),h._UZ(9,"app-search-filter",3),h.qZA(),h.TgZ(10,"mat-tab-group",4),h.TgZ(11,"mat-tab"),h.YNc(12,oc,2,3,"ng-template",5),h._UZ(13,"br"),h._UZ(14,"app-threads-table",6),h.ALo(15,"async"),h.ALo(16,"async"),h.qZA(),h.TgZ(17,"mat-tab"),h.YNc(18,sc,2,3,"ng-template",5),h._UZ(19,"br"),h._UZ(20,"app-threads-table",6),h.ALo(21,"async"),h.ALo(22,"async"),h.qZA(),h.TgZ(23,"mat-tab"),h.YNc(24,rc,2,3,"ng-template",5),h._UZ(25,"br"),h._UZ(26,"app-threads-table",6),h.ALo(27,"async"),h.ALo(28,"async"),h.qZA(),h.TgZ(29,"mat-tab"),h.YNc(30,cc,2,3,"ng-template",5),h._UZ(31,"br"),h._UZ(32,"app-threads-table",6),h.ALo(33,"async"),h.ALo(34,"async"),h.qZA(),h.TgZ(35,"mat-tab"),h.YNc(36,lc,2,3,"ng-template",5),h._UZ(37,"br"),h._UZ(38,"app-threads-table",6),h.ALo(39,"async"),h.ALo(40,"async"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(3),h.Q6J("href",e.threadDumpURL,h.LSH),h.xp6(6),h.Q6J("formControl",e.filterControl),h.xp6(5),h.Q6J("threads",h.lcZ(15,12,e.allThreads$))("filter",h.lcZ(16,14,e.filterValue$)),h.xp6(6),h.Q6J("threads",h.lcZ(21,16,e.runnableThreads$))("filter",h.lcZ(22,18,e.filterValue$)),h.xp6(6),h.Q6J("threads",h.lcZ(27,20,e.timedWaitingThreads$))("filter",h.lcZ(28,22,e.filterValue$)),h.xp6(6),h.Q6J("threads",h.lcZ(33,24,e.waitingThreads$))("filter",h.lcZ(34,26,e.filterValue$)),h.xp6(6),h.Q6J("threads",h.lcZ(39,28,e.blockedThreads$))("filter",h.lcZ(40,30,e.filterValue$)))},directives:[T,C,x.zs,D.Hw,Jn.a,Qn.JJ,Qn.oH,ct.SP,ct.uX,ct.uD,ic],pipes:[q.Ov],encapsulation:2,changeDetection:0}),t})()},{path:"threads/:id",component:Cr}]}];let pc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[i.Bz.forChild(uc)],i.Bz]}),t})(),mc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[a.m]]}),t})(),dc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[a.m,mc,pc]]}),t})()}}]);